(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{cXqt:function(e,t,i){"use strict";i.r(t),i.d(t,"OrdersModule",function(){return yi});var a=i("kUHs"),r=i("hzby"),s=i("yyhP"),c=i("SVse");class n{}class o{}class d{}class l{}var h=i("qc5V"),u=i("z6cu"),m=i("UXun"),g=i("lJxs"),b=i("JIr8"),p=i("AytR"),f=i("8Y7J");let v=(()=>{class e{constructor(e){this.apiService=e,this.baseUrl=p.a.apiUrl}getRequestType(){return this.requestType$||(this.requestType$=this.apiService.get("RequestType").pipe(Object(m.a)())),this.requestType$}getSystemCode(e){return this.apiService.get("SystemCode").pipe(Object(g.a)(t=>t.filter(t=>t.systemCodeType==e)),Object(b.a)(this.handleError))}getRequestList(e){return this.apiService.post("Requests/GetRequestList",e).pipe(Object(m.a)(),Object(b.a)(this.handleError))}getNextPrivateNumber(){return this.apiService.get("Requests/GetNextPrivateNumber").pipe(Object(m.a)())}getRequest(e){return this.apiService.get("Requests/"+e).pipe(Object(m.a)())}getRequestStage(e){return this.apiService.get("Requests/GetOrderStage/"+e).pipe(Object(m.a)())}saveRequest(e){return null==e.request.requestID||e.request.requestID<1?this.apiService.post("Requests/CreateOrder",e).pipe(Object(b.a)(this.handleError)):this.apiService.post("Requests/UpdateOrder",e).pipe(Object(b.a)(this.handleError))}approvalRequest(e){return this.apiService.post("Requests/ApprovalOrder",e).pipe(Object(m.a)(),Object(b.a)(this.handleError))}deleteRequest(e){return this.apiService.delete("Requests/DeleteRequest/"+e).pipe(Object(b.a)(this.handleError))}handleError(e){return e.error instanceof ErrorEvent?(console.error("An error occurred:",e.error.message),Object(u.a)(e.error.message)):(console.error(`Backend returned code ${e.status}, body was: ${e.error} `),Object(u.a)(e))}}return e.\u0275fac=function(t){return new(t||e)(f.lc(h.a))},e.\u0275prov=f.Xb({token:e,factory:e.\u0275fac}),e})();var D=i("ey9i"),q=i("ORmt"),y=i("7jyU"),I=i("IfEn"),E=i("wd/R"),N=i("iInd"),F=i("UhP/"),M=i("PDjf"),O=i("BSbQ"),S=i("s7LF"),C=i("VDRc"),x=i("M+Ei"),w=i("Q2Ze"),R=i("TN/R"),T=i("ZTz/"),_=i("e6WT"),j=i("TSSN");const A=["heroForm"];function B(e,t){if(1&e&&(f.hc(0,"small",28),f.hc(1,"small",29),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(19);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function P(e,t){if(1&e&&(f.hc(0,"small",28),f.hc(1,"small",29),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(21);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function L(e,t){if(1&e&&(f.hc(0,"mat-option",30),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.systemCode),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.descriptionEn:e.descriptionAr," ")}}function U(e,t){if(1&e&&(f.hc(0,"small",28),f.hc(1,"small",29),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(33);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function V(e,t){if(1&e&&(f.hc(0,"small",28),f.hc(1,"small",29),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(47);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function Q(e,t){if(1&e&&(f.hc(0,"small",28),f.hc(1,"small",29),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(57);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}let k=(()=>{class e{constructor(e,t,i,a,r,s,c){this.sharedService=e,this.requestService=t,this.authService=i,this.helpersService=a,this._avRoute=r,this.alertify=s,this.dateAdapter=c,this.request=new n,this.minFromDate=new Date,this.maxToDate=(new Date).setDate(30),this.bsFromDate=new Date,this.bsToDate=new Date,this.attachment=[],this.extraFiled=[],this.editMode=!0,this.title="New",this.isAdmin=!1,this.reasonCode="",this.days=1,this._avRoute.snapshot.params.RequestID&&(this.requestID=this._avRoute.snapshot.params.RequestID),this.dateAdapter.setLocale("en-GB")}ngOnInit(){this.loadEmployees(),this.loadVisaDLL(),this.newObj=this.getEmptyObject(),this.requestID>0&&(this.title="Edit",this.loadRequest(this.requestID)),this.isAdmin=this.authService.isAdminUser}onSubmit(){}newClick(){this.heroForm.reset(),this.editMode=!1,this.employeeID=this.authService.logginEmployeeId(),this.newObj=this.getEmptyObject(),this.getNextPrivateNumber(),this.requestID=this.newObj.request.requestID,this.newObj.request.requestTypeID=y.c.RemoteWork,this.newObj.request.statusCode=y.b.NewRequest,this.authService.currentUserName.subscribe(e=>{this.newObj.request.createdBy=e}),this.newObj.request.employeeID=this.authService.logginEmployeeId()}edit(){this.newObj.request.statusCode!=y.b.NewRequest?(this.alertify.error("MSG_REQUET_NOT_NEW_STAGE"),this.actionBar.editMode()):this.editMode=!1}save(){if(this.findInvalidControls(),this.heroForm.valid){var e=E(this.bsFromDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(e))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");var t=E(this.bsToDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(t))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");this.addUpdateExtraField(87,e),this.addUpdateExtraField(88,t),this.addUpdateExtraField(91,this.reason),this.addUpdateExtraField(90,this.reasonCode),this.addUpdateExtraField(89,this.days),this.addUpdateExtraField(92,this.justification),this.requestService.saveRequest(this.newObj).subscribe(e=>{this.alertify.success("SAVED_SUCCESSFULLY"),this.heroForm.reset(),this.newObj=e,this.requestID=this.newObj.requestID,this.loadRequest(this.requestID),this.editMode=!0,this.actionBar.editMode()},e=>{this.alertify.error(e)})}}delete(){this.requestID>0&&this.alertify.confirm("DO_YOU_WANT_DELETE_ORDER",()=>{this.requestService.deleteRequest(this.requestID).subscribe(e=>{this.alertify.success("DELETED_SUCCESSFULLY"),this.reset(),this.actionBar.queryMode()},e=>{this.alertify.error(e)})})}findInvalidControls(){const e=this.heroForm.controls;for(const t in e)e[t].invalid&&this.heroForm.controls[t].markAsTouched({onlySelf:!0})}reset(){this.editMode=!0,this.heroForm.reset()}loadEmployees(){this.sharedService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}loadVisaDLL(){this.sharedService.getSystemCodeCategory(y.d.Code_RWS).subscribe(e=>{this.reasonTypeList=e},e=>console.log(e))}loadRequest(e){this.newObj=this.getEmptyObject(),this.requestService.getRequest(e).subscribe(e=>{this.bindData(e),this.actionBar&&this.actionBar.editMode()},e=>{this.alertify.error(e)})}bindData(e){this.newObj.request=e.request,this.newObj.requestStages=e.requestStages,this.newObj.requestExtraFields=e.requestExtraFields,this.requestID=this.newObj.request.requestID,this.employeeID=this.newObj.request.employeeID;try{this.reason=this.getExtraFieldValue(91),this.reasonCode=this.getExtraFieldValue(90),this.days=null!=this.getExtraFieldValue(89)?Number(this.getExtraFieldValue(89)):1,this.justification=this.getExtraFieldValue(92),this.bsFromDate=this.helpersService.getDate(this.getExtraFieldValue(87)),this.bsToDate=this.helpersService.getDate(this.getExtraFieldValue(88))}catch(t){}}getNextPrivateNumber(){this.requestService.getNextPrivateNumber().subscribe(e=>{this.newObj.request.requsetPrivateNumber=e,this.newObj.request.requsetPrivateNumber=e},e=>{this.alertify.error(e)})}getEmptyObject(){const e={request:{requestID:this.sharedService.getRandomNumber(),requsetPrivateNumber:null,employeeID:null,requestTypeID:null,statusCode:null,createdBy:null},requestExtraFields:[],requestStages:[]};return e.requestStages[0]=new l,e.requestStages[0].actionCode=y.a.NewRequest,e.requestStages[0].stageTypeID=1,e.requestStages[0].userID=this.authService.logginUserID(),e.requestStages[0].justification=void 0,e}addUpdateExtraField(e,t){var i=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1==i){var a=new o;a.requestExtraFieldID=-Math.floor(this.newObj.requestExtraFields.length+1),a.extraFieldTypeID=e,a.value=t,a.requestID=this.requestID,this.newObj.requestExtraFields.push(a)}else this.newObj.requestExtraFields[i].value=t}getExtraFieldValue(e){var t=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1!=t)return this.newObj.requestExtraFields[t].value}employeeSelect(e){this.employeeID=e}dateRangeChange(e,t){if(this.days=0,e.value&&t.value){const e=E(this.bsFromDate).format("DD/MM/YYYY"),t=E(this.bsToDate).format("DD/MM/YYYY");this.days=this.helpersService.dayDiff(e,t)}}ReasonselectedValue(e){this.reason=e.source.triggerValue}uploadFinished(e){if(null!=e){var t=new q.a;t.attachmentID=+e,t.referenceID=this.requestID,t.fileName="fileName",t.fileType="fileType",null==this.newObj.attachments&&(this.newObj.attachments=this.attachment),this.newObj.attachments.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(f.bc(D.c),f.bc(v),f.bc(D.b),f.bc(D.d),f.bc(N.a),f.bc(D.a),f.bc(F.c))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-remoteWork"]],viewQuery:function(e,t){if(1&e&&(f.jd(A,!0),f.jd(I.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.heroForm=e.first),f.Pc(e=f.qc())&&(t.actionBar=e.first)}},decls:60,vars:49,consts:[[1,"p-0"],[1,""],[3,"disabled","referenceID","showPrint","newAction","editAction","saveAction","deleteAction","cancelAction","onUploadFinishedFire"],["novalidate","",3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[3,"empoyeeList","employee","editMode","employeeSelect"],["appearance","full-width","appearance","fill"],["required","",3,"min","rangePicker"],["matStartDate","","id","fromDate","name","FromDate","required","","placeholder","Start date",3,"ngModel","disabled","min","max","ngModelChange"],["refFromDate","ngModel"],["matEndDate","","id","toDate","name","ToDate","required","","placeholder","End date",3,"ngModel","min","max","disabled","ngModelChange","dateChange"],["refToDate","ngModel"],["matSuffix","",3,"for"],["picker",""],["class","form-error-msg",4,"ngIf"],["appearance","fill",1,"full-width"],["required","","name","Reason","id","Reason",3,"disabled","ngModel","selectionChange","ngModelChange"],["refReason","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","requsetPrivateNumber","id","requsetPrivateNumber",3,"placeholder","disabled","ngModel","ngModelChange"],["matInput","","type","number","name","Days","id","Days","required","",3,"placeholder","ngModel","disabled","ngModelChange"],["refDays","ngModel"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],["matInput","","id","textarea-input","rows","2","name","Justification","maxlength","500","id","Justification","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["refJustification","ngModel"],[1,"form-error-msg"],[3,"hidden"],[3,"value"]],template:function(e,t){if(1&e){const e=f.ic();f.hc(0,"mat-card",0),f.hc(1,"mat-card-title",1),f.cc(2,"mat-divider"),f.hc(3,"actionBar",2),f.pc("newAction",function(){return t.newClick()})("editAction",function(){return t.edit()})("saveAction",function(){return t.save()})("deleteAction",function(){return t.delete()})("cancelAction",function(){return t.reset()})("onUploadFinishedFire",function(e){return t.uploadFinished(e)}),f.gc(),f.cc(4,"mat-divider"),f.gc(),f.hc(5,"mat-card-content"),f.hc(6,"form",3,4),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(8,"div",5),f.hc(9,"div",6),f.hc(10,"div",7),f.hc(11,"employeeList",8),f.pc("employeeSelect",function(e){return t.employeeSelect(e)}),f.gc(),f.gc(),f.hc(12,"div",7),f.hc(13,"mat-form-field",9),f.hc(14,"mat-label"),f.fd(15),f.uc(16,"translate"),f.gc(),f.hc(17,"mat-date-range-input",10),f.hc(18,"input",11,12),f.pc("ngModelChange",function(e){return t.bsFromDate=e}),f.gc(),f.hc(20,"input",13,14),f.pc("ngModelChange",function(e){return t.bsToDate=e})("dateChange",function(){f.Uc(e);const i=f.Qc(19),a=f.Qc(21);return t.dateRangeChange(i,a)}),f.gc(),f.gc(),f.cc(22,"mat-datepicker-toggle",15),f.cc(23,"mat-date-range-picker",null,16),f.gc(),f.dd(25,B,4,4,"small",17),f.dd(26,P,4,4,"small",17),f.gc(),f.hc(27,"div",7),f.hc(28,"mat-form-field",18),f.hc(29,"mat-label"),f.fd(30),f.uc(31,"translate"),f.gc(),f.hc(32,"mat-select",19,20),f.pc("selectionChange",function(e){return t.ReasonselectedValue(e)})("ngModelChange",function(e){return t.reasonCode=e}),f.dd(34,L,2,2,"mat-option",21),f.gc(),f.dd(35,U,4,4,"small",17),f.gc(),f.gc(),f.gc(),f.hc(36,"div",6),f.hc(37,"div",7),f.hc(38,"mat-form-field",18),f.hc(39,"input",22),f.pc("ngModelChange",function(e){return t.newObj.request.requsetPrivateNumber=e}),f.uc(40,"translate"),f.gc(),f.gc(),f.gc(),f.hc(41,"div",7),f.hc(42,"mat-form-field",18),f.hc(43,"mat-label"),f.fd(44),f.uc(45,"translate"),f.gc(),f.hc(46,"input",23,24),f.pc("ngModelChange",function(e){return t.days=e}),f.uc(48,"translate"),f.gc(),f.dd(49,V,4,4,"small",17),f.gc(),f.gc(),f.gc(),f.hc(50,"div",25),f.hc(51,"div",7),f.hc(52,"mat-form-field",18),f.hc(53,"mat-label"),f.fd(54),f.uc(55,"translate"),f.gc(),f.hc(56,"textarea",26,27),f.pc("ngModelChange",function(e){return t.justification=e}),f.fd(58,"                          "),f.gc(),f.dd(59,Q,4,4,"small",17),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc()}if(2&e){const e=f.Qc(7),i=f.Qc(19),a=f.Qc(21),r=f.Qc(24),s=f.Qc(33),c=f.Qc(47),n=f.Qc(57);f.Nb(3),f.Bc("disabled",!e.form.valid)("referenceID",t.requestID)("showPrint",!1),f.Nb(8),f.Bc("empoyeeList",t.empoyeeList)("employee",t.employeeID)("editMode",!0),f.Nb(4),f.hd(" ",f.vc(16,37,"PERIOD")," "),f.Nb(2),f.Bc("min",t.minFromDate)("rangePicker",r),f.Nb(1),f.Bc("ngModel",t.bsFromDate)("disabled",t.editMode)("min",t.minFromDate)("max",t.maxToDate),f.Nb(2),f.Bc("ngModel",t.bsToDate)("min",t.minFromDate)("max",t.maxToDate)("disabled",t.editMode),f.Nb(2),f.Bc("for",r),f.Nb(3),f.Bc("ngIf",!i.valid&&(i.dirty||i.touched)&&!t.editMode),f.Nb(1),f.Bc("ngIf",!a.valid&&(a.dirty||a.touched)&&!t.editMode),f.Nb(4),f.hd("",f.vc(31,39,"REASON")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.reasonCode),f.Nb(2),f.Bc("ngForOf",t.reasonTypeList),f.Nb(1),f.Bc("ngIf",!s.valid&&(s.dirty||s.touched)&&!t.editMode),f.Nb(4),f.Dc("placeholder"," ",f.vc(40,41,"ORDER_NUMBER")," "),f.Bc("disabled",!0)("ngModel",t.newObj.request.requsetPrivateNumber),f.Nb(5),f.hd("",f.vc(45,43,"COUNT_DAYS")," "),f.Nb(2),f.Dc("placeholder"," ",f.vc(48,45,"COUNT_DAYS")," "),f.Bc("ngModel",t.days)("disabled",!0),f.Nb(3),f.Bc("ngIf",!c.valid&&(c.dirty||c.touched)&&!t.editMode),f.Nb(5),f.hd("",f.vc(55,47,"JUSTIFICATION")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.justification),f.Nb(3),f.Bc("ngIf",!n.valid&&(n.dirty||n.touched)&&!t.editMode)}},directives:[M.a,M.i,O.a,I.a,M.d,S.D,S.s,S.t,C.d,C.b,x.a,w.c,w.g,R.a,R.h,S.c,S.z,S.r,S.u,R.g,R.f,w.i,R.b,c.q,T.a,c.p,_.b,S.w,S.m,F.o],pipes:[j.c],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}#FromDate[_ngcontent-%COMP%], #requestID[_ngcontent-%COMP%], .egret-navy[_ngcontent-%COMP%]   .mat-select-disabled[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{padding-bottom:25px}#requsetPrivateNumber[_ngcontent-%COMP%]{color:red}"]}),e})();const Y=["heroForm"];function H(e,t){1&e&&(f.hc(0,"mat-error"),f.fd(1,"Date should be inferior"),f.gc())}function J(e,t){if(1&e&&(f.hc(0,"small",23),f.hc(1,"small",24),f.fd(2),f.uc(3,"translate"),f.gc(),f.dd(4,H,2,0,"mat-error",25),f.gc()),2&e){f.tc();const e=f.Qc(18);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,3,"FILED_IS_REQUIRED")," "),f.Nb(2),f.Bc("ngIf",e.hasError("matDatepickerMax"))}}function G(e,t){if(1&e&&(f.hc(0,"mat-option",26),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.systemCode),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.descriptionEn:e.descriptionAr," ")}}function W(e,t){if(1&e&&(f.hc(0,"small",23),f.hc(1,"small",24),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(34);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function $(e,t){if(1&e&&(f.hc(0,"small",23),f.hc(1,"small",24),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(44);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}let z=(()=>{class e{constructor(e,t,i,a,r,s,c){this.sharedService=e,this.requestService=t,this.authService=i,this.helpersService=a,this._avRoute=r,this.alertify=s,this.dateAdapter=c,this.request=new n,this.bsFromDate=new Date,this.attachment=[],this.extraFiled=[],this.minFromDate=new Date,this.editMode=!0,this.title="New",this.isAdmin=!1,this.clearanceTypeCode="",this._avRoute.snapshot.params.RequestID&&(this.requestID=this._avRoute.snapshot.params.RequestID),this.dateAdapter.setLocale("en-GB")}ngOnInit(){this.loadEmployees(),this.loadclearanceType(),this.newObj=this.getEmptyObject(),this.requestID>0&&(this.title="Edit",this.loadRequest(this.requestID)),this.isAdmin=this.authService.isAdminUser}onSubmit(){}newClick(){this.heroForm.reset(),this.editMode=!1,this.employeeID=this.authService.logginEmployeeId(),this.newObj=this.getEmptyObject(),this.getNextPrivateNumber(),this.requestID=this.newObj.request.requestID,this.newObj.request.requestTypeID=y.c.EmployeeClearanceForm,this.newObj.request.statusCode=y.b.NewRequest,this.authService.currentUserName.subscribe(e=>{this.newObj.request.createdBy=e}),this.newObj.request.employeeID=this.authService.logginEmployeeId()}edit(){this.editMode=!1}save(){if(this.findInvalidControls(),this.heroForm.valid){var e=E(this.bsFromDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(e))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");this.addUpdateExtraField(76,this.clearanceType),this.addUpdateExtraField(77,this.clearanceTypeCode),this.addUpdateExtraField(75,e),this.addUpdateExtraField(78,this.justification),this.requestService.saveRequest(this.newObj).subscribe(e=>{this.alertify.success("SAVED_SUCCESSFULLY"),this.heroForm.reset(),this.newObj=e,this.requestID=this.newObj.requestID,this.loadRequest(this.requestID),this.editMode=!0,this.actionBar.editMode()},e=>{this.alertify.error(e)})}}delete(){this.requestID>0&&this.alertify.confirm("DO_YOU_WANT_DELETE_ORDER",()=>{this.requestService.deleteRequest(this.requestID).subscribe(e=>{this.alertify.success("DELETED_SUCCESSFULLY"),this.reset(),this.actionBar.queryMode()},e=>{this.alertify.error(e)})})}findInvalidControls(){const e=this.heroForm.controls;for(const t in e)e[t].invalid&&this.heroForm.controls[t].markAsTouched({onlySelf:!0})}reset(){this.editMode=!0,this.heroForm.reset()}loadEmployees(){this.sharedService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}loadclearanceType(){this.sharedService.getSystemCodeCategory(y.d.Code_CLT).subscribe(e=>{this.clearanceTypeList=e},e=>console.log(e))}loadRequest(e){this.newObj=this.getEmptyObject(),this.requestService.getRequest(e).subscribe(e=>{this.bindData(e),this.actionBar&&this.actionBar.editMode()},e=>{this.alertify.error(e)})}bindData(e){this.newObj.request=e.request,this.newObj.requestStages=e.requestStages,this.newObj.requestExtraFields=e.requestExtraFields,this.requestID=this.newObj.request.requestID,this.employeeID=this.newObj.request.employeeID;try{this.clearanceType=this.getExtraFieldValue(76),this.clearanceTypeCode=this.getExtraFieldValue(77),this.bsFromDate=this.helpersService.getDate(this.getExtraFieldValue(75)),this.justification=this.getExtraFieldValue(78)}catch(t){}}getNextPrivateNumber(){this.requestService.getNextPrivateNumber().subscribe(e=>{this.newObj.request.requsetPrivateNumber=e},e=>{this.alertify.error(e)})}getEmptyObject(){const e={request:{requestID:this.sharedService.getRandomNumber(),requsetPrivateNumber:null,employeeID:null,requestTypeID:null,statusCode:null,createdBy:null},requestExtraFields:[],requestStages:[]};return e.requestStages[0]=new l,e.requestStages[0].actionCode=y.a.NewRequest,e.requestStages[0].stageTypeID=1,e.requestStages[0].userID=this.authService.logginUserID(),e.requestStages[0].justification=void 0,e}addUpdateExtraField(e,t){var i=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1==i){var a=new o;a.requestExtraFieldID=-Math.floor(this.newObj.requestExtraFields.length+1),a.extraFieldTypeID=e,a.value=t,a.requestID=this.requestID,this.newObj.requestExtraFields.push(a)}else this.newObj.requestExtraFields[i].value=t}getExtraFieldValue(e){var t=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1!=t)return this.newObj.requestExtraFields[t].value}employeeSelect(e){this.employeeID=e}selectedValue(e){this.clearanceType=e.source.triggerValue}uploadFinished(e){if(null!=e){var t=new q.a;t.attachmentID=+e,t.referenceID=this.requestID,t.fileName="fileName",t.fileType="fileType",null==this.newObj.attachments&&(this.newObj.attachments=this.attachment),this.newObj.attachments.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(f.bc(D.c),f.bc(v),f.bc(D.b),f.bc(D.d),f.bc(N.a),f.bc(D.a),f.bc(F.c))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-clearance"]],viewQuery:function(e,t){if(1&e&&(f.jd(Y,!0),f.jd(I.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.heroForm=e.first),f.Pc(e=f.qc())&&(t.actionBar=e.first)}},decls:47,vars:33,consts:[[1,"p-0"],[1,""],[3,"disabled","referenceID","showPrint","newAction","editAction","saveAction","deleteAction","cancelAction","onUploadFinishedFire"],["novalidate","",3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[3,"empoyeeList","employee","editMode","employeeSelect"],["appearance","fill",1,"full-width"],["matInput","","name","FromDate","id","FromDate","required","",3,"ngModel","disabled","min","matDatepicker","ngModelChange"],["refFromDate","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["appDatepicker2",""],["class","form-error-msg",4,"ngIf"],["matInput","","name","requsetPrivateNumber","id","requsetPrivateNumber",3,"placeholder","disabled","ngModel","ngModelChange"],["required","","name","ClearanceType","id","ClearanceType",3,"disabled","ngModel","selectionChange","ngModelChange"],["refClearanceType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],["matInput","","id","textarea-input","rows","2","name","Justification","maxlength","500","id","Justification","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["refJustification","ngModel"],[1,"form-error-msg"],[3,"hidden"],[4,"ngIf"],[3,"value"]],template:function(e,t){if(1&e&&(f.hc(0,"mat-card",0),f.hc(1,"mat-card-title",1),f.cc(2,"mat-divider"),f.hc(3,"actionBar",2),f.pc("newAction",function(){return t.newClick()})("editAction",function(){return t.edit()})("saveAction",function(){return t.save()})("deleteAction",function(){return t.delete()})("cancelAction",function(){return t.reset()})("onUploadFinishedFire",function(e){return t.uploadFinished(e)}),f.gc(),f.cc(4,"mat-divider"),f.gc(),f.hc(5,"mat-card-content"),f.hc(6,"form",3,4),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(8,"div",5),f.hc(9,"div",6),f.hc(10,"div",7),f.hc(11,"employeeList",8),f.pc("employeeSelect",function(e){return t.employeeSelect(e)}),f.gc(),f.gc(),f.hc(12,"div",7),f.hc(13,"mat-form-field",9),f.hc(14,"mat-label"),f.fd(15),f.uc(16,"translate"),f.gc(),f.hc(17,"input",10,11),f.pc("ngModelChange",function(e){return t.bsFromDate=e}),f.gc(),f.cc(19,"mat-datepicker-toggle",12),f.cc(20,"mat-datepicker",13,14),f.gc(),f.dd(22,J,5,5,"small",15),f.gc(),f.gc(),f.hc(23,"div",6),f.hc(24,"div",7),f.hc(25,"mat-form-field",9),f.hc(26,"input",16),f.pc("ngModelChange",function(e){return t.newObj.request.requsetPrivateNumber=e}),f.uc(27,"translate"),f.gc(),f.gc(),f.gc(),f.hc(28,"div",7),f.hc(29,"mat-form-field",9),f.hc(30,"mat-label"),f.fd(31),f.uc(32,"translate"),f.gc(),f.hc(33,"mat-select",17,18),f.pc("selectionChange",function(e){return t.selectedValue(e)})("ngModelChange",function(e){return t.clearanceTypeCode=e}),f.dd(35,G,2,2,"mat-option",19),f.gc(),f.dd(36,W,4,4,"small",15),f.gc(),f.gc(),f.gc(),f.hc(37,"div",20),f.hc(38,"div",7),f.hc(39,"mat-form-field",9),f.hc(40,"mat-label"),f.fd(41),f.uc(42,"translate"),f.gc(),f.hc(43,"textarea",21,22),f.pc("ngModelChange",function(e){return t.justification=e}),f.fd(45,"                          "),f.gc(),f.dd(46,$,4,4,"small",15),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc()),2&e){const e=f.Qc(7),i=f.Qc(18),a=f.Qc(21),r=f.Qc(34),s=f.Qc(44);f.Nb(3),f.Bc("disabled",!e.form.valid)("referenceID",t.requestID)("showPrint",!1),f.Nb(8),f.Bc("empoyeeList",t.empoyeeList)("employee",t.employeeID)("editMode",!0),f.Nb(4),f.hd(" ",f.vc(16,25,"FROM_DATE")," "),f.Nb(2),f.Bc("ngModel",t.bsFromDate)("disabled",t.editMode)("min",t.minFromDate)("matDatepicker",a),f.Nb(2),f.Bc("for",a),f.Nb(3),f.Bc("ngIf",!i.valid&&(i.dirty||i.touched)&&!t.editMode),f.Nb(4),f.Dc("placeholder"," ",f.vc(27,27,"ORDER_NUMBER")," "),f.Bc("disabled",!0)("ngModel",t.newObj.request.requsetPrivateNumber),f.Nb(5),f.hd("",f.vc(32,29,"CLEARANCE_TYPE")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.clearanceTypeCode),f.Nb(2),f.Bc("ngForOf",t.clearanceTypeList),f.Nb(1),f.Bc("ngIf",!r.valid&&(r.dirty||r.touched)&&!t.editMode),f.Nb(5),f.hd("",f.vc(42,31,"JUSTIFICATION")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.justification),f.Nb(3),f.Bc("ngIf",!s.valid&&(s.dirty||s.touched)&&!t.editMode)}},directives:[M.a,M.i,O.a,I.a,M.d,S.D,S.s,S.t,C.d,C.b,x.a,w.c,w.g,_.b,S.c,R.d,S.z,S.r,S.u,R.f,w.i,R.c,c.q,T.a,c.p,S.m,w.b,F.o],pipes:[j.c],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}#FromDate[_ngcontent-%COMP%], #requestID[_ngcontent-%COMP%], .egret-navy[_ngcontent-%COMP%]   .mat-select-disabled[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{padding-bottom:25px}#requsetPrivateNumber[_ngcontent-%COMP%]{color:red}"]}),e})();var X=i("Y7HM");const K=["heroForm"];function Z(e,t){if(1&e&&(f.hc(0,"mat-option",30),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.ID),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.NameEN:e.NameAR," ")}}function ee(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(18);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function te(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(28);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function ie(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(42);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function ae(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(53);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function re(e,t){1&e&&(f.hc(0,"mat-error"),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"FILED_IS_REQUIRED"),""))}function se(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(65);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function ce(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(75);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}let ne=(()=>{class e{constructor(e,t,i,a,r,s,c){this.sharedService=e,this.requestService=t,this.authService=i,this.helpersService=a,this._avRoute=r,this.alertify=s,this.dateAdapter=c,this.request=new n,this.bsFromDate=new Date,this.attachment=[],this.extraFiled=[],this.editMode=!0,this.title="New",this.isAdmin=!1,this.loanTypeCode="",this._avRoute.snapshot.params.RequestID&&(this.requestID=this._avRoute.snapshot.params.RequestID),this.dateAdapter.setLocale("en-GB")}ngOnInit(){this.loadEmployees(),this.loadLoanType(),this.newObj=this.getEmptyObject(),this.requestID>0&&(this.title="Edit",this.loadRequest(this.requestID)),this.isAdmin=this.authService.isAdminUser}onSubmit(){}newClick(){this.heroForm.reset(),this.editMode=!1,this.employeeID=this.authService.logginEmployeeId(),this.newObj=this.getEmptyObject(),this.getNextPrivateNumber(),this.requestID=this.newObj.request.requestID,this.newObj.request.requestTypeID=y.c.LoanRequest,this.newObj.request.statusCode=y.b.NewRequest,this.authService.currentUserName.subscribe(e=>{this.newObj.request.createdBy=e}),this.newObj.request.employeeID=this.authService.logginEmployeeId()}edit(){this.editMode=!1}save(){if(this.findInvalidControls(),this.heroForm.valid){var e=E(this.bsFromDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(e))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");if(0==this.loanAmount||0==this.noOfInstallmen)return;this.addUpdateExtraField(8,this.loanTypeID),this.addUpdateExtraField(45,this.loanTypeCode),this.addUpdateExtraField(9,e),this.addUpdateExtraField(10,Number(this.loanAmount)),this.addUpdateExtraField(13,Number(this.noOfInstallmen)),this.addUpdateExtraField(15,this.justification);let t=this.loanAmount/this.noOfInstallmen;t=Number(t.toFixed(2)),this.monthlyInstallment=t,this.addUpdateExtraField(12,t),this.requestService.saveRequest(this.newObj).subscribe(e=>{this.alertify.success("SAVED_SUCCESSFULLY"),this.heroForm.reset(),this.newObj=e,this.requestID=this.newObj.requestID,this.loadRequest(this.requestID),this.editMode=!0,this.actionBar.editMode()},e=>{this.alertify.error(e)})}}delete(){this.requestID>0&&this.alertify.confirm("DO_YOU_WANT_DELETE_ORDER",()=>{this.requestService.deleteRequest(this.requestID).subscribe(e=>{this.alertify.success("DELETED_SUCCESSFULLY"),this.reset(),this.actionBar.queryMode()},e=>{this.alertify.error(e)})})}findInvalidControls(){const e=this.heroForm.controls;for(const t in e)e[t].invalid&&this.heroForm.controls[t].markAsTouched({onlySelf:!0})}reset(){this.editMode=!0,this.heroForm.reset()}loadEmployees(){this.sharedService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}loadLoanType(){this.sharedService.getLoanTypes().subscribe(e=>{this.loanType=e},e=>console.log(e))}loadRequest(e){this.newObj=this.getEmptyObject(),this.requestService.getRequest(e).subscribe(e=>{this.bindData(e),this.actionBar&&this.actionBar.editMode()},e=>{this.alertify.error(e)})}bindData(e){this.newObj.request=e.request,this.newObj.requestStages=e.requestStages,this.newObj.requestExtraFields=e.requestExtraFields,this.requestID=this.newObj.request.requestID,this.employeeID=this.newObj.request.employeeID;try{this.loanTypeID=null!=this.getExtraFieldValue(8)?Number(this.getExtraFieldValue(8)):0,this.loanAmount=null!=this.getExtraFieldValue(10)?Number(this.getExtraFieldValue(10)):0,this.monthlyInstallment=null!=this.getExtraFieldValue(12)?Number(this.getExtraFieldValue(12)):0,this.noOfInstallmen=null!=this.getExtraFieldValue(13)?Number(this.getExtraFieldValue(13)):0,this.bsFromDate=this.helpersService.getDate(this.getExtraFieldValue(9)),this.justification=this.getExtraFieldValue(15)}catch(t){}}getNextPrivateNumber(){this.requestService.getNextPrivateNumber().subscribe(e=>{this.newObj.request.requsetPrivateNumber=e},e=>{this.alertify.error(e)})}getEmptyObject(){const e={request:{requestID:this.sharedService.getRandomNumber(),requsetPrivateNumber:null,employeeID:null,requestTypeID:null,statusCode:null,createdBy:null},requestExtraFields:[],requestStages:[]},t=new Date;return this.bsFromDate=t,e.requestStages[0]=new l,e.requestStages[0].actionCode=y.a.NewRequest,e.requestStages[0].stageTypeID=1,e.requestStages[0].userID=this.authService.logginUserID(),e.requestStages[0].justification=void 0,e}addUpdateExtraField(e,t){var i=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1==i){var a=new o;a.requestExtraFieldID=-Math.floor(this.newObj.requestExtraFields.length+1),a.extraFieldTypeID=e,a.value=t,a.requestID=this.requestID,this.newObj.requestExtraFields.push(a)}else this.newObj.requestExtraFields[i].value=t}getExtraFieldValue(e){var t=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1!=t)return this.newObj.requestExtraFields[t].value}employeeSelect(e){this.employeeID=e}amountChangeFn(e){if(Object(X.a)(e)){if(Object(X.a)(this.noOfInstallmen)){let t=Number(e)/this.noOfInstallmen;t=Number(t.toFixed(2)),this.monthlyInstallment=t}}else this.monthlyInstallment=0,this.noOfInstallmen=0}noOfInstallmenChangeFn(e){if(Object(X.a)(e)){if(Object(X.a)(this.loanAmount)){let t=this.loanAmount/Number(e);t=Number(t.toFixed(2)),this.monthlyInstallment=t}}else this.loanAmount=0,this.noOfInstallmen=0}selectedValue(e){this.loanTypeCode=e.source.triggerValue}uploadFinished(e){if(null!=e){var t=new q.a;t.attachmentID=+e,t.referenceID=this.requestID,t.fileName="fileName",t.fileType="fileType",null==this.newObj.attachments&&(this.newObj.attachments=this.attachment),this.newObj.attachments.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(f.bc(D.c),f.bc(v),f.bc(D.b),f.bc(D.d),f.bc(N.a),f.bc(D.a),f.bc(F.c))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-loan"]],viewQuery:function(e,t){if(1&e&&(f.jd(K,!0),f.jd(I.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.heroForm=e.first),f.Pc(e=f.qc())&&(t.actionBar=e.first)}},decls:78,vars:60,consts:[[1,"p-0"],[1,""],[3,"disabled","referenceID","showPrint","newAction","editAction","saveAction","deleteAction","cancelAction","onUploadFinishedFire"],["novalidate","",3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[3,"empoyeeList","employee","editMode","employeeSelect"],["appearance","fill",1,"full-width"],["required","","name","LoanType","id","loanType",3,"disabled","ngModel","selectionChange","ngModelChange"],["refLoanType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-error-msg",4,"ngIf"],["matInput","","type","number","name","LoanAmount","id","loanAmount","required","","min","1",3,"placeholder","ngModel","disabled","ngModelChange"],["refLoanAmount","ngModel"],["matInput","","name","requsetPrivateNumber","id","requsetPrivateNumber",3,"placeholder","disabled","ngModel","ngModelChange"],["matInput","","name","FromDate","id","FromDate","required","",3,"ngModel","disabled","matDatepicker","ngModelChange"],["refFromDate","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["appDatepicker",""],["matInput","","type","number","name","NoOfInstallmen","id","NoOfInstallmen","required","","min","10","max","100",3,"placeholder","ngModel","disabled","ngModelChange"],["refNoOfInstallmen","ngModel"],[4,"ngIf"],["matInput","","type","number","name","MonthlyInstallment","id","MonthlyInstallment","required","","min","1",3,"placeholder","ngModel","disabled","ngModelChange"],["refMonthlyInstallment","ngModel"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],["matInput","","id","textarea-input","rows","2","name","Justification","maxlength","500","id","Justification","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["refJustification","ngModel"],[3,"value"],[1,"form-error-msg"],[3,"hidden"]],template:function(e,t){if(1&e&&(f.hc(0,"mat-card",0),f.hc(1,"mat-card-title",1),f.cc(2,"mat-divider"),f.hc(3,"actionBar",2),f.pc("newAction",function(){return t.newClick()})("editAction",function(){return t.edit()})("saveAction",function(){return t.save()})("deleteAction",function(){return t.delete()})("cancelAction",function(){return t.reset()})("onUploadFinishedFire",function(e){return t.uploadFinished(e)}),f.gc(),f.cc(4,"mat-divider"),f.gc(),f.hc(5,"mat-card-content"),f.hc(6,"form",3,4),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(8,"div",5),f.hc(9,"div",6),f.hc(10,"div",7),f.hc(11,"employeeList",8),f.pc("employeeSelect",function(e){return t.employeeSelect(e)}),f.gc(),f.gc(),f.hc(12,"div",7),f.hc(13,"mat-form-field",9),f.hc(14,"mat-label"),f.fd(15),f.uc(16,"translate"),f.gc(),f.hc(17,"mat-select",10,11),f.pc("selectionChange",function(e){return t.selectedValue(e)})("ngModelChange",function(e){return t.loanTypeID=e}),f.dd(19,Z,2,2,"mat-option",12),f.gc(),f.dd(20,ee,4,4,"small",13),f.gc(),f.gc(),f.hc(21,"div",7),f.hc(22,"div",7),f.hc(23,"mat-form-field",9),f.hc(24,"mat-label"),f.fd(25),f.uc(26,"translate"),f.gc(),f.hc(27,"input",14,15),f.pc("ngModelChange",function(e){return t.loanAmount=e})("ngModelChange",function(e){return t.amountChangeFn(e)}),f.uc(29,"translate"),f.gc(),f.gc(),f.dd(30,te,4,4,"small",13),f.gc(),f.gc(),f.gc(),f.hc(31,"div",6),f.hc(32,"div",7),f.hc(33,"mat-form-field",9),f.hc(34,"input",16),f.pc("ngModelChange",function(e){return t.newObj.request.requsetPrivateNumber=e}),f.uc(35,"translate"),f.gc(),f.gc(),f.gc(),f.hc(36,"div",7),f.hc(37,"mat-form-field",9),f.hc(38,"mat-label"),f.fd(39),f.uc(40,"translate"),f.gc(),f.hc(41,"input",17,18),f.pc("ngModelChange",function(e){return t.bsFromDate=e}),f.gc(),f.cc(43,"mat-datepicker-toggle",19),f.cc(44,"mat-datepicker",20,21),f.gc(),f.dd(46,ie,4,4,"small",13),f.gc(),f.hc(47,"div",7),f.hc(48,"mat-form-field",9),f.hc(49,"mat-label"),f.fd(50),f.uc(51,"translate"),f.gc(),f.hc(52,"input",22,23),f.pc("ngModelChange",function(e){return t.noOfInstallmen=e})("ngModelChange",function(e){return t.noOfInstallmenChangeFn(e)}),f.uc(54,"translate"),f.gc(),f.gc(),f.dd(55,ae,4,4,"small",13),f.dd(56,re,3,3,"mat-error",24),f.gc(),f.gc(),f.hc(57,"div",6),f.hc(58,"div",7),f.hc(59,"div",7),f.hc(60,"mat-form-field",9),f.hc(61,"mat-label"),f.fd(62),f.uc(63,"translate"),f.gc(),f.hc(64,"input",25,26),f.pc("ngModelChange",function(e){return t.monthlyInstallment=e}),f.uc(66,"translate"),f.gc(),f.gc(),f.dd(67,se,4,4,"small",13),f.gc(),f.gc(),f.gc(),f.hc(68,"div",27),f.hc(69,"div",7),f.hc(70,"mat-form-field",9),f.hc(71,"mat-label"),f.fd(72),f.uc(73,"translate"),f.gc(),f.hc(74,"textarea",28,29),f.pc("ngModelChange",function(e){return t.justification=e}),f.fd(76,"                          "),f.gc(),f.dd(77,ce,4,4,"small",13),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc()),2&e){const e=f.Qc(7),i=f.Qc(18),a=f.Qc(28),r=f.Qc(42),s=f.Qc(45),c=f.Qc(53),n=f.Qc(65),o=f.Qc(75);f.Nb(3),f.Bc("disabled",!e.form.valid)("referenceID",t.requestID)("showPrint",!1),f.Nb(8),f.Bc("empoyeeList",t.empoyeeList)("employee",t.employeeID)("editMode",!0),f.Nb(4),f.hd("",f.vc(16,40,"LOAN_TYPE")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.loanTypeID),f.Nb(2),f.Bc("ngForOf",t.loanType),f.Nb(1),f.Bc("ngIf",!i.valid&&(i.dirty||i.touched)&&!t.editMode),f.Nb(5),f.hd("",f.vc(26,42,"LOAN_AMOUNT")," "),f.Nb(2),f.Dc("placeholder"," ",f.vc(29,44,"LOAN_AMOUNT")," "),f.Bc("ngModel",t.loanAmount)("disabled",t.editMode),f.Nb(3),f.Bc("ngIf",!a.valid&&(a.dirty||a.touched)&&!t.editMode),f.Nb(4),f.Dc("placeholder"," ",f.vc(35,46,"ORDER_NUMBER")," "),f.Bc("disabled",!0)("ngModel",t.newObj.request.requsetPrivateNumber),f.Nb(5),f.hd(" ",f.vc(40,48,"LOAN_START_DATE")," "),f.Nb(2),f.Bc("ngModel",t.bsFromDate)("disabled",t.editMode)("matDatepicker",s),f.Nb(2),f.Bc("for",s),f.Nb(3),f.Bc("ngIf",!r.valid&&(r.dirty||r.touched)&&!t.editMode),f.Nb(4),f.hd("",f.vc(51,50,"NO_OF_INSTALLMEN")," "),f.Nb(2),f.Dc("placeholder"," ",f.vc(54,52,"NO_OF_INSTALLMEN")," "),f.Bc("ngModel",t.noOfInstallmen)("disabled",t.editMode),f.Nb(3),f.Bc("ngIf",!c.valid&&(c.dirty||c.touched)&&!t.editMode),f.Nb(1),f.Bc("ngIf",c.hasError("min")),f.Nb(6),f.hd("",f.vc(63,54,"MONTHLY_INSTALLMENT")," "),f.Nb(2),f.Dc("placeholder"," ",f.vc(66,56,"MONTHLY_INSTALLMENT")," "),f.Bc("ngModel",t.monthlyInstallment)("disabled",!0),f.Nb(3),f.Bc("ngIf",!n.valid&&(n.dirty||n.touched)&&!t.editMode),f.Nb(5),f.hd("",f.vc(73,58,"JUSTIFICATION")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.justification),f.Nb(3),f.Bc("ngIf",!o.valid&&(o.dirty||o.touched)&&!t.editMode)}},directives:[M.a,M.i,O.a,I.a,M.d,S.D,S.s,S.t,C.d,C.b,x.a,w.c,w.g,T.a,S.z,S.r,S.u,c.p,c.q,_.b,S.w,S.c,R.d,R.f,w.i,R.c,S.m,F.o,w.b],pipes:[j.c],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}#FromDate[_ngcontent-%COMP%], #requestID[_ngcontent-%COMP%], .egret-navy[_ngcontent-%COMP%]   .mat-select-disabled[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{padding-bottom:25px}#requsetPrivateNumber[_ngcontent-%COMP%]{color:red}"]}),e})();var oe=i("OaSA"),de=i("5QHs"),le=i("LUZP"),he=i("zQhy"),ue=i("Dxy4"),me=i("f44v"),ge=i("Tj54");function be(e,t){if(1&e&&(f.hc(0,"mat-option",37),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.requestTypeID),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.requestNameEn:e.requestNameAr," ")}}function pe(e,t){if(1&e&&(f.hc(0,"mat-option",37),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.systemCode),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.descriptionEn:e.descriptionAr," ")}}function fe(e,t){1&e&&(f.hc(0,"mat-header-cell"),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"INDEX")," "))}function ve(e,t){if(1&e&&(f.hc(0,"mat-cell"),f.fd(1),f.gc()),2&e){const e=t.index;f.Nb(1),f.gd(e+1)}}function De(e,t){1&e&&(f.hc(0,"mat-header-cell",38),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"ORDER_NUMBER")," "))}function qe(e,t){if(1&e&&(f.hc(0,"mat-cell",39),f.fd(1),f.gc()),2&e){const e=t.$implicit;f.Nb(1),f.hd(" ",e.RequsetPrivateNumber," ")}}function ye(e,t){1&e&&(f.hc(0,"mat-header-cell",38),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"ORDER_TYPE")," "))}function Ie(e,t){if(1&e&&(f.hc(0,"mat-cell",40),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.RequestNameEn:e.RequestNameAr," ")}}function Ee(e,t){1&e&&(f.hc(0,"mat-header-cell",38),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"EMPLOYEE_NAME")," "))}function Ne(e,t){if(1&e&&(f.hc(0,"mat-cell",41),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.EnglishName:e.ArabicName," ")}}function Fe(e,t){1&e&&(f.hc(0,"mat-header-cell",38),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"CREATED_DATE")," "))}function Me(e,t){if(1&e&&(f.hc(0,"mat-cell",42),f.fd(1),f.gc()),2&e){const e=t.$implicit;f.Nb(1),f.hd(" ",e.CreatedDate," ")}}function Oe(e,t){1&e&&(f.hc(0,"mat-header-cell",38),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"ORDER_STATUS")," "))}function Se(e,t){if(1&e&&(f.hc(0,"mat-cell",43),f.hc(1,"mat-chip",44),f.fd(2),f.gc(),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.ad("color",e.color),f.Nb(1),f.Bc("color","CSR01"==e.StatusCode?"primary":"CSR04"==e.StatusCode?"warn":"CSR02"==e.StatusCode?"accent":"CSR05"==e.StatusCode?"color2":""),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.StatusNameEN:e.StatusNameAR," ")}}function Ce(e,t){1&e&&(f.hc(0,"mat-header-cell"),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.gd(f.vc(2,1,"ACTIONS")))}const xe=function(){return{debug:!0}};function we(e,t){if(1&e){const e=f.ic();f.hc(0,"mat-cell",45),f.hc(1,"button",46),f.pc("click",function(){f.Uc(e);const i=t.$implicit;return f.tc().btnRout(i.RequestTypeID,i.RequestID)}),f.uc(2,"translate"),f.hc(3,"mat-icon"),f.fd(4,"visibility"),f.gc(),f.gc(),f.gc()}2&e&&(f.ad("color",t.$implicit.color),f.Nb(1),f.Cc("title",f.vc(2,4,"VIEW")),f.Bc("queryParams",f.Gc(6,xe)))}function Re(e,t){1&e&&f.cc(0,"mat-header-row")}function Te(e,t){1&e&&f.cc(0,"mat-row")}const _e=function(){return[10,25,100]};let je=(()=>{class e{constructor(e,t,i,a){this.requestService=e,this.alertify=t,this.router=i,this.authService=a,this.displayedColumns=["index","RequsetPrivateNumber","RequestNameAr","EnglishName","CreatedDate","StatusNameEN","action"],this.btnRout=function(e,t){let i="/Orders/NewOrders/";switch(e){case 5:i+="Amendment/";break;case 15:i+="ChangeHousing/";break;case 25:i+="Clearance/";break;case 35:i+="Leave/";break;case 51:i+="Loan/";break;case 20:i+="ExitReEntryVisa/";break;case 40:i+="EOS/";break;case 65:i+="RemoteWork/"}this.router.navigate([i,t])}}ngOnInit(){this.loadRequestStatus(),this.loadRequestType(),this.myOrder="0"}loadRequestStatus(){this.requestService.getSystemCode(y.d.Code_CSR).subscribe(e=>{this.statusList=e;var t=new q.c;t.systemCode="-1",t.descriptionEn="All",t.descriptionAr="\u0627\u0644\u0643\u0644",this.statusList.unshift(t),this.requestStatusCode="-1"},e=>console.log(e))}loadRequestType(){this.requestService.getRequestType().subscribe(e=>{this.requestType=e,this.General=this.requestType.filter(e=>1==e.requestGroupID&&e.isActive),this.Government=this.requestType.filter(e=>2==e.requestGroupID&&e.isActive),this.Letters=this.requestType.filter(e=>3==e.requestGroupID&&e.isActive);var t=new d;t.requestTypeID=-1,t.requestNameEn="All",t.requestNameAr="\u0627\u0644\u0643\u0644",this.General.unshift(t),this.requestTypeId=-1},e=>console.log(e))}onSubmit(){var e={requestID:-1,requsetPrivateNumber:null,employeeID:this.authService.logginEmployeeId(),managerId:-1,requestTypeID:this.requestTypeId,statusCode:"-1"==this.requestStatusCode?null:this.requestStatusCode,showMyEmployee:"1"==this.myOrder};this.requestService.getRequestList(e).subscribe(e=>{this.dataSource=new oe.o(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},e=>{this.alertify.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(f.bc(v),f.bc(D.a),f.bc(N.g),f.bc(D.b))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-my-orders"]],viewQuery:function(e,t){if(1&e&&(f.jd(de.a,!0),f.jd(le.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.paginator=e.first),f.Pc(e=f.qc())&&(t.sort=e.first)}},decls:64,vars:29,consts:[[3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","33",1,"pr-16"],[1,"pb-16"],["aria-label","Select an option","name","myOrder",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["fxFlex","100","fxFlex.gt-xs","25",1,"pr-16"],["appearance","fill",2,"width","80%"],["required","","name","requestTypeID",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["required","","name","status",3,"ngModel","ngModelChange"],["fxFlex","100","fxFlex.gt-xs","10",1,"pr-16"],["mat-raised-button","","color","primary",1,"background2",3,"disabled"],[1,"ml-8","mr-8","mt-8","pb-16"],[1,"mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","index"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RequsetPrivateNumber"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","number",4,"matCellDef"],["matColumnDef","RequestNameAr"],["data-label","orderType",4,"matCellDef"],["matColumnDef","EnglishName"],["data-label","employeeName",4,"matCellDef"],["matColumnDef","CreatedDate"],["data-label","createdDate",4,"matCellDef"],["matColumnDef","StatusNameEN"],["data-label","status",3,"color",4,"matCellDef"],["matColumnDef","action"],["data-label","color",3,"color",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[3,"value"],["mat-sort-header",""],["data-label","number"],["data-label","orderType"],["data-label","employeeName"],["data-label","createdDate"],["data-label","status"],["selected","",3,"color"],["data-label","color"],["mat-icon-button","","mat-sm-button","","color","primary","aria-label","reset",1,"mr-16",3,"title","queryParams","click"]],template:function(e,t){if(1&e&&(f.hc(0,"mat-card"),f.hc(1,"form",0,1),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(3,"div",2),f.hc(4,"div",3),f.hc(5,"div",4),f.hc(6,"mat-label"),f.fd(7),f.uc(8,"translate"),f.gc(),f.hc(9,"mat-radio-group",5),f.pc("ngModelChange",function(e){return t.myOrder=e}),f.hc(10,"mat-radio-button",6),f.fd(11),f.uc(12,"translate"),f.gc(),f.hc(13,"mat-radio-button",7),f.fd(14),f.uc(15,"translate"),f.gc(),f.gc(),f.gc(),f.gc(),f.hc(16,"div",8),f.hc(17,"div",4),f.hc(18,"mat-form-field",9),f.hc(19,"mat-label"),f.fd(20),f.uc(21,"translate"),f.gc(),f.hc(22,"mat-select",10),f.pc("ngModelChange",function(e){return t.requestTypeId=e}),f.dd(23,be,2,2,"mat-option",11),f.gc(),f.gc(),f.gc(),f.gc(),f.hc(24,"div",8),f.hc(25,"div",4),f.hc(26,"mat-form-field",9),f.hc(27,"mat-label"),f.fd(28),f.uc(29,"translate"),f.gc(),f.hc(30,"mat-select",12),f.pc("ngModelChange",function(e){return t.requestStatusCode=e}),f.dd(31,pe,2,2,"mat-option",11),f.gc(),f.gc(),f.gc(),f.gc(),f.hc(32,"div",13),f.hc(33,"div",4),f.hc(34,"button",14),f.fd(35),f.uc(36,"translate"),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.hc(37,"div",15),f.hc(38,"div",16),f.hc(39,"mat-table",17),f.fc(40,18),f.dd(41,fe,3,3,"mat-header-cell",19),f.dd(42,ve,2,1,"mat-cell",20),f.ec(),f.fc(43,21),f.dd(44,De,3,3,"mat-header-cell",22),f.dd(45,qe,2,1,"mat-cell",23),f.ec(),f.fc(46,24),f.dd(47,ye,3,3,"mat-header-cell",22),f.dd(48,Ie,2,1,"mat-cell",25),f.ec(),f.fc(49,26),f.dd(50,Ee,3,3,"mat-header-cell",22),f.dd(51,Ne,2,1,"mat-cell",27),f.ec(),f.fc(52,28),f.dd(53,Fe,3,3,"mat-header-cell",22),f.dd(54,Me,2,1,"mat-cell",29),f.ec(),f.fc(55,30),f.dd(56,Oe,3,3,"mat-header-cell",22),f.dd(57,Se,3,4,"mat-cell",31),f.ec(),f.fc(58,32),f.dd(59,Ce,3,3,"mat-header-cell",19),f.dd(60,we,5,7,"mat-cell",33),f.ec(),f.dd(61,Re,1,0,"mat-header-row",34),f.dd(62,Te,1,0,"mat-row",35),f.gc(),f.cc(63,"mat-paginator",36),f.gc(),f.gc()),2&e){const e=f.Qc(2);f.Nb(7),f.hd("",f.vc(8,16,"SEARCH_ON")," "),f.Nb(2),f.Bc("ngModel",t.myOrder),f.Nb(2),f.hd("",f.vc(12,18,"MY_ORDERS")," "),f.Nb(3),f.hd(" ",f.vc(15,20,"MY_EMPLOYEE")," "),f.Nb(6),f.hd("",f.vc(21,22,"ORDER_TYPE")," "),f.Nb(2),f.Bc("ngModel",t.requestTypeId),f.Nb(1),f.Bc("ngForOf",t.General),f.Nb(5),f.hd("",f.vc(29,24,"ORDER_STATUS")," "),f.Nb(2),f.Bc("ngModel",t.requestStatusCode),f.Nb(1),f.Bc("ngForOf",t.statusList),f.Nb(3),f.Bc("disabled",e.invalid),f.Nb(1),f.hd("",f.vc(36,26,"SEARCH")," "),f.Nb(4),f.Bc("dataSource",t.dataSource),f.Nb(22),f.Bc("matHeaderRowDef",t.displayedColumns),f.Nb(1),f.Bc("matRowDefColumns",t.displayedColumns),f.Nb(1),f.Bc("pageSizeOptions",f.Gc(28,_e))}},directives:[M.a,S.D,S.s,S.t,C.d,C.b,w.g,he.b,S.r,S.u,he.a,w.c,T.a,S.z,c.p,ue.b,oe.n,le.a,oe.c,oe.i,oe.b,oe.k,oe.m,de.a,F.o,oe.h,oe.a,le.b,me.a,ge.a,oe.j,oe.l],pipes:[j.c],styles:[".mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}.mr-16[_ngcontent-%COMP%]:hover{cursor:pointer}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.mat-column-action[_ngcontent-%COMP%], .mat-column-CreatedDate[_ngcontent-%COMP%], .mat-column-index[_ngcontent-%COMP%], .mat-column-RequestID[_ngcontent-%COMP%]{min-width:100px!important;max-width:100px!important}.mat-column-StatusNameEN[_ngcontent-%COMP%]{min-width:150px!important;max-width:150px!important}"]}),e})();var Ae=i("3sEA"),Be=i("iELJ");function Pe(e,t){1&e&&(f.hc(0,"mat-header-cell",21),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"INDEX")," "))}function Le(e,t){if(1&e&&(f.hc(0,"mat-cell"),f.fd(1),f.gc()),2&e){const e=t.index;f.Nb(1),f.gd(e+1)}}function Ue(e,t){1&e&&(f.hc(0,"mat-header-cell",21),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"EMPLOYEE_NAME")," "))}function Ve(e,t){if(1&e&&(f.hc(0,"mat-cell",22),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Nb(1),f.hd(" ","1"==i.data.currentLang?e.EmpActionEnglishName:e.EmpActionArabicName," ")}}function Qe(e,t){1&e&&(f.hc(0,"mat-header-cell",21),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"TYPE_ACTION")," "))}function ke(e,t){if(1&e&&(f.hc(0,"mat-cell",23),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Nb(1),f.hd(" ","1"==i.data.currentLang?e.ActionTypeEN:e.ActionTypeAR," ")}}function Ye(e,t){1&e&&(f.hc(0,"mat-header-cell",21),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"DATE")," "))}function He(e,t){if(1&e&&(f.hc(0,"mat-cell",24),f.fd(1),f.gc()),2&e){const e=t.$implicit;f.ad("color",e.color),f.Nb(1),f.hd(" ",e.CreateDate," ")}}function Je(e,t){1&e&&(f.hc(0,"mat-header-cell",21),f.fd(1),f.uc(2,"translate"),f.gc()),2&e&&(f.Nb(1),f.hd(" ",f.vc(2,1,"JUSTIFICATION")," "))}function Ge(e,t){if(1&e&&(f.hc(0,"mat-cell",24),f.fd(1),f.gc()),2&e){const e=t.$implicit;f.ad("color",e.color),f.Nb(1),f.hd(" ",e.Justification,"")}}function We(e,t){1&e&&f.cc(0,"mat-header-row")}function $e(e,t){1&e&&f.cc(0,"mat-row")}const ze=function(){return[5,10,25,100]};let Xe=(()=>{class e{constructor(e,t,i){this.data=e,this.dialogRef=t,this.requestService=i,this.displayedColumns=["index","employeeName","action","createdDate","note"]}ngOnInit(){this.buildItemForm(this.data)}ngAfterViewInit(){}buildItemForm(e){this.requestService.getRequestStage(e.RequestID).subscribe(e=>{this.dataSource=new oe.o(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}}return e.\u0275fac=function(t){return new(t||e)(f.bc(Be.a),f.bc(Be.g),f.bc(v))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-ngx-table-popup"]],viewQuery:function(e,t){if(1&e&&(f.jd(de.a,!0),f.jd(le.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.paginator=e.first),f.Pc(e=f.qc())&&(t.sort=e.first)}},decls:31,vars:11,consts:[["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","50",1,"mt-16"],["matDialogTitle",""],[1,"ml-8","mr-8","mt-8","pb-16"],[1,"mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","index"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","employeeName"],["data-label","progress",4,"matCellDef"],["matColumnDef","action"],["data-label","name",4,"matCellDef"],["matColumnDef","createdDate"],["data-label","color",3,"color",4,"matCellDef"],["matColumnDef","note"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"],["mat-sort-header",""],["data-label","progress"],["data-label","name"],["data-label","color"]],template:function(e,t){1&e&&(f.hc(0,"div",0),f.hc(1,"div",1),f.hc(2,"h1",2),f.fd(3),f.uc(4,"translate"),f.gc(),f.gc(),f.gc(),f.hc(5,"div",3),f.hc(6,"div",4),f.hc(7,"mat-table",5),f.fc(8,6),f.dd(9,Pe,3,3,"mat-header-cell",7),f.dd(10,Le,2,1,"mat-cell",8),f.ec(),f.fc(11,9),f.dd(12,Ue,3,3,"mat-header-cell",7),f.dd(13,Ve,2,1,"mat-cell",10),f.ec(),f.fc(14,11),f.dd(15,Qe,3,3,"mat-header-cell",7),f.dd(16,ke,2,1,"mat-cell",12),f.ec(),f.fc(17,13),f.dd(18,Ye,3,3,"mat-header-cell",7),f.dd(19,He,2,3,"mat-cell",14),f.ec(),f.fc(20,15),f.dd(21,Je,3,3,"mat-header-cell",7),f.dd(22,Ge,2,3,"mat-cell",14),f.ec(),f.dd(23,We,1,0,"mat-header-row",16),f.dd(24,$e,1,0,"mat-row",17),f.gc(),f.cc(25,"mat-paginator",18),f.gc(),f.gc(),f.hc(26,"div",0),f.hc(27,"div",19),f.hc(28,"button",20),f.pc("click",function(){return t.dialogRef.close(!1)}),f.fd(29),f.uc(30,"translate"),f.gc(),f.gc(),f.gc()),2&e&&(f.Nb(3),f.gd(f.vc(4,6,"ORDER_STAGE_DETAILS")),f.Nb(4),f.Bc("dataSource",t.dataSource),f.Nb(16),f.Bc("matHeaderRowDef",t.displayedColumns),f.Nb(1),f.Bc("matRowDefColumns",t.displayedColumns),f.Nb(1),f.Bc("pageSizeOptions",f.Gc(10,ze)),f.Nb(4),f.hd(" ",f.vc(30,8,"CLOSE"),""))},directives:[C.d,C.b,oe.n,le.a,oe.c,oe.i,oe.b,oe.k,oe.m,de.a,ue.b,oe.h,le.b,oe.a,oe.j,oe.l],pipes:[j.c],encapsulation:2}),e})();var Ke=i("zHaW"),Ze=i("w9WL");function et(e,t){if(1&e&&f.fd(0),2&e){const e=t.row;f.hd(" ",null==e?null:e.RequsetPrivateNumber," ")}}function tt(e,t){if(1&e&&f.fd(0),2&e){const e=t.row,i=f.tc();f.hd(" ","1"==i.authService.currentLang?e.RequestNameEn:e.RequestNameAr," ")}}function it(e,t){if(1&e&&f.fd(0),2&e){const e=t.row,i=f.tc();f.hd(" ","1"==i.authService.currentLang?e.EnglishName:e.ArabicName," ")}}function at(e,t){1&e&&f.fd(0),2&e&&f.hd(" ",t.row.CreatedDate," ")}function rt(e,t){if(1&e&&(f.hc(0,"mat-chip",5),f.fd(1),f.gc()),2&e){const e=t.row,i=f.tc();f.Bc("color","CSR01"==e.StatusID?"primary":"accent"),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.StatusNameEN:e.StatusNameAR," ")}}function st(e,t){1&e&&(f.hc(0,"input",6),f.pc("ngModelChange",function(e){return t.row.reason=e}),f.gc()),2&e&&f.Bc("ngModel",t.row.reason)}function ct(e,t){if(1&e){const e=f.ic();f.hc(0,"button",7),f.pc("click",function(){f.Uc(e);const i=t.row;return f.tc().approval(i)}),f.fd(1),f.uc(2,"translate"),f.gc(),f.hc(3,"button",8),f.pc("click",function(){f.Uc(e);const i=t.row;return f.tc().reject(i)}),f.fd(4),f.uc(5,"translate"),f.gc()}2&e&&(f.Nb(1),f.hd(" ",f.vc(2,2,"APPROVAL")," "),f.Nb(3),f.hd(" ",f.vc(5,4,"REJECT")," "))}const nt=function(){return{debug:!0}};function ot(e,t){if(1&e){const e=f.ic();f.hc(0,"button",9),f.pc("click",function(){f.Uc(e);const i=t.row;return f.tc().openPopUp(i)}),f.uc(1,"translate"),f.hc(2,"mat-icon"),f.fd(3,"format_list_numbered "),f.gc(),f.gc(),f.hc(4,"button",10),f.pc("click",function(){f.Uc(e);const i=t.row;return f.tc().btnRout(i.RequestTypeID,i.RequestID)}),f.uc(5,"translate"),f.hc(6,"mat-icon"),f.fd(7,"visibility"),f.gc(),f.gc()}2&e&&(f.Cc("title",f.vc(1,3,"ORDER_STAGE_DETAILS")),f.Nb(4),f.Cc("title",f.vc(5,5,"VIEW")),f.Bc("queryParams",f.Gc(7,nt)))}let dt=(()=>{class e{constructor(e,t,i,a,r,s,c){this.requestService=e,this.alertify=t,this.dialog=i,this.loader=a,this.snack=r,this.router=s,this.authService=c,this.btnRout=function(e,t){let i="/Orders/NewOrders/";switch(e){case 5:i+="Amendment/";break;case 15:i+="ChangeHousing/";break;case 51:i+="Loan/"}this.router.navigate([i,t])}}ngOnInit(){this.loadRequest()}loadRequest(){var e={requestID:-1,requsetPrivateNumber:null,employeeID:-1,managerId:this.authService.logginEmployeeId(),requestTypeID:-1,statusCode:null,showMyEmployee:!1};this.requestService.getRequestList(e).subscribe(e=>{this.items=e},e=>{this.alertify.error(e)})}openPopUp(e={}){this.dialog.open(Xe,{width:"920px",disableClose:!0,data:{RequestID:e.RequestID,currentLang:this.authService.currentLang}}).afterClosed().subscribe(t=>{t&&(this.loader.open(),this.items=e,this.loader.close(),this.snack.open("Member Added!","OK",{duration:4e3}))})}approval(e){var t={RequestID:e.RequestID,StageTypeID:e.NextStageTypeID,UserID:this.authService.logginUserID(),ActionCode:y.a.Approved,Justification:null};this.alertify.confirm("DO_YOU_WANT_APPROVAL_ORDER",()=>{this.requestService.approvalRequest(t).subscribe(e=>{this.loadRequest()},e=>{this.alertify.error(e)})})}reject(e){var t={RequestID:e.RequestID,StageTypeID:e.NextStageTypeID,UserID:this.authService.logginUserID(),ActionCode:y.a.Rejected,Justification:e.reason};null!=e.reason&&0!=e.reason.length?this.alertify.confirm("DO_YOU_WANT_APPROVAL_ORDER",()=>{this.requestService.approvalRequest(t).subscribe(e=>{this.loadRequest()},e=>{this.alertify.error(e)})}):this.alertify.error("MSG_REASON_REJECTION_MUST_ENTERED")}}return e.\u0275fac=function(t){return new(t||e)(f.bc(v),f.bc(D.a),f.bc(Be.b),f.bc(Ae.a),f.bc(Ke.a),f.bc(N.g),f.bc(D.b))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-approval-orders"]],decls:26,vars:36,consts:[[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","limit","rowHeight"],[3,"name","width"],["ngx-datatable-cell-template",""],["name","Stage",3,"sortable","width"],["mat-sm-chip","","selected","",3,"color"],["matInput","","type","text","name","reason",3,"ngModel","ngModelChange"],["mat-flat-button","","color","primary",1,"background2",3,"click"],["mat-flat-button","","mat-sm-button","","color","warn",1,"mr-16",3,"click"],["mat-icon-button","","mat-sm-button","","color","primary",1,"mr-16","color2",3,"title","click"],["mat-icon-button","","mat-sm-button","","color","primary","aria-label","reset",1,"mr-16","color1",3,"title","queryParams","click"]],template:function(e,t){1&e&&(f.hc(0,"mat-card",0),f.hc(1,"mat-card-content",0),f.hc(2,"ngx-datatable",1),f.hc(3,"ngx-datatable-column",2),f.uc(4,"translate"),f.dd(5,et,1,1,"ng-template",3),f.gc(),f.hc(6,"ngx-datatable-column",2),f.uc(7,"translate"),f.dd(8,tt,1,1,"ng-template",3),f.gc(),f.hc(9,"ngx-datatable-column",2),f.uc(10,"translate"),f.dd(11,it,1,1,"ng-template",3),f.gc(),f.hc(12,"ngx-datatable-column",2),f.uc(13,"translate"),f.dd(14,at,1,1,"ng-template",3),f.gc(),f.hc(15,"ngx-datatable-column",2),f.uc(16,"translate"),f.dd(17,rt,2,2,"ng-template",3),f.gc(),f.hc(18,"ngx-datatable-column",2),f.uc(19,"translate"),f.dd(20,st,1,1,"ng-template",3),f.gc(),f.hc(21,"ngx-datatable-column",2),f.uc(22,"translate"),f.dd(23,ct,6,6,"ng-template",3),f.gc(),f.hc(24,"ngx-datatable-column",4),f.dd(25,ot,8,8,"ng-template",3),f.gc(),f.gc(),f.gc(),f.gc()),2&e&&(f.Nb(2),f.Bc("rows",t.items)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("limit",10)("rowHeight",50),f.Nb(1),f.Cc("name",f.vc(4,22,"ORDER_NUMBER")),f.Bc("width",50),f.Nb(3),f.Dc("name"," ",f.vc(7,24,"ORDER_TYPE"),""),f.Bc("width",100),f.Nb(3),f.Dc("name"," ",f.vc(10,26,"EMPLOYEE_NAME"),""),f.Bc("width",100),f.Nb(3),f.Dc("name"," ",f.vc(13,28,"CREATED_DATE"),""),f.Bc("width",50),f.Nb(3),f.Dc("name"," ",f.vc(16,30,"ORDER_STATUS"),""),f.Bc("width",80),f.Nb(3),f.Dc("name"," ",f.vc(19,32,"REASON_REJECT"),""),f.Bc("width",120),f.Nb(3),f.Dc("name"," ",f.vc(22,34,"ACTIONS"),""),f.Bc("width",80),f.Nb(3),f.Bc("width",20))},directives:[M.a,M.d,Ze.d,Ze.b,Ze.a,me.a,_.b,S.c,S.r,S.u,ue.b,ge.a],pipes:[j.c],styles:["button[_ngcontent-%COMP%]{padding:0;margin-right:1px}[dir=rtl][_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:brown}input[_ngcontent-%COMP%]{border:1px solid}"]}),e})();var lt=i("r3oX");const ht=["heroForm"],ut=["time"],mt=["FromDate"];function gt(e,t){if(1&e&&(f.hc(0,"small",29),f.hc(1,"small",30),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(18);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function bt(e,t){if(1&e&&(f.hc(0,"small",29),f.hc(1,"small",30),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(25);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function pt(e,t){if(1&e&&(f.hc(0,"mat-option",31),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.systemCode),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.descriptionEn:e.descriptionAr," ")}}function ft(e,t){if(1&e&&(f.hc(0,"small",29),f.hc(1,"small",30),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(41);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function vt(e,t){if(1&e&&(f.hc(0,"small",29),f.hc(1,"small",30),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(62);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}let Dt=(()=>{class e{constructor(e,t,i,a,r,s,c){this.sharedService=e,this.requestService=t,this.helpersService=i,this.authService=a,this._avRoute=r,this.alertify=s,this.dateAdapter=c,this.request=new n,this.bsFromDate=new Date,this.attachment=[],this.extraFiled=[],this.editMode=!0,this.title="New",this.isAdmin=!1,this.amendmentReasonCode="",this._avRoute.snapshot.params.RequestID&&(this.requestID=this._avRoute.snapshot.params.RequestID),this.dateAdapter.setLocale("en-GB")}ngOnInit(){this.loadEmployees(),this.loadAmendmentReasons(),this.newObj=this.getEmptyObject(),this.requestID>0&&(this.title="Edit",this.loadRequest(this.requestID)),this.isAdmin=this.authService.isAdminUser}onSubmit(){}newClick(){this.heroForm.reset(),this.editMode=!1,this.employeeID=this.authService.logginEmployeeId(),this.newObj=this.getEmptyObject(),this.getNextPrivateNumber(),this.requestID=this.newObj.request.requestID,this.newObj.request.requestTypeID=y.c.Amendment,this.newObj.request.statusCode=y.b.NewRequest,this.authService.currentUserName.subscribe(e=>{this.newObj.request.createdBy=e}),this.newObj.request.employeeID=this.authService.logginEmployeeId()}edit(){this.editMode=!1}save(){if(this.findInvalidControls(),this.heroForm.valid){var e=E(this.bsFromDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(e))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");this.addUpdateExtraField(1,this.amendmentReasonCode),this.addUpdateExtraField(2,this.type),this.addUpdateExtraField(3,this.time),this.addUpdateExtraField(4,e),this.addUpdateExtraField(5,this.justification),this.requestService.saveRequest(this.newObj).subscribe(e=>{this.alertify.success("SAVED_SUCCESSFULLY"),this.heroForm.reset(),this.newObj=e,this.requestID=this.newObj.requestID,this.loadRequest(this.requestID),this.editMode=!0,this.actionBar.editMode()},e=>{this.alertify.error(e)})}}delete(){this.requestID>0&&this.alertify.confirm("DO_YOU_WANT_DELETE_ORDER",()=>{this.requestService.deleteRequest(this.requestID).subscribe(e=>{this.alertify.success("DELETED_SUCCESSFULLY"),this.reset(),this.actionBar.queryMode()},e=>{this.alertify.error(e)})})}findInvalidControls(){const e=this.heroForm.controls;for(const t in e)e[t].invalid&&this.heroForm.controls[t].markAsTouched({onlySelf:!0})}reset(){this.editMode=!0,this.heroForm.reset()}loadEmployees(){this.sharedService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}loadAmendmentReasons(){this.requestService.getSystemCode(y.d.Code_CAC).subscribe(e=>{this.emendmentReason=e},e=>console.log(e))}loadRequest(e){this.newObj=this.getEmptyObject(),this.requestService.getRequest(e).subscribe(e=>{this.bindData(e),this.actionBar&&this.actionBar.editMode()},e=>{this.alertify.error(e)})}bindData(e){this.newObj.request=e.request,this.newObj.requestStages=e.requestStages,this.newObj.requestExtraFields=e.requestExtraFields,this.requestID=this.newObj.request.requestID,this.employeeID=this.newObj.request.employeeID;try{this.amendmentReasonCode=this.getExtraFieldValue(1),this.type=this.getExtraFieldValue(2),this.time=this.getExtraFieldValue(3),this.bsFromDate=this.helpersService.getDate(this.getExtraFieldValue(4)),this.justification=this.getExtraFieldValue(5)}catch(t){}}getNextPrivateNumber(){this.requestService.getNextPrivateNumber().subscribe(e=>{this.newObj.request.requsetPrivateNumber=e},e=>{this.alertify.error(e)})}getEmptyObject(){const e={request:{requestID:this.sharedService.getRandomNumber(),requsetPrivateNumber:null,employeeID:this.employeeID=this.authService.logginEmployeeId(),requestTypeID:null,statusCode:null,createdBy:null},requestExtraFields:[],requestStages:[]};return this.type="CheckIn",new Date,e.requestStages[0]=new l,e.requestStages[0].actionCode=y.a.NewRequest,e.requestStages[0].stageTypeID=1,e.requestStages[0].userID=this.authService.logginUserID(),e.requestStages[0].justification=void 0,e}addUpdateExtraField(e,t){var i=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1==i){var a=new o;a.requestExtraFieldID=-Math.floor(this.newObj.requestExtraFields.length+1),a.extraFieldTypeID=e,a.value=t,a.requestID=this.requestID,this.newObj.requestExtraFields.push(a)}else this.newObj.requestExtraFields[i].value=t}getExtraFieldValue(e){var t=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1!=t)return this.newObj.requestExtraFields[t].value}employeeSelect(e){this.employeeID=e}uploadFinished(e){if(null!=e){var t=new q.a;t.attachmentID=+e,t.referenceID=this.requestID,t.fileName="fileName",t.fileType="fileType",null==this.newObj.attachments&&(this.newObj.attachments=this.attachment),this.newObj.attachments.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(f.bc(D.c),f.bc(v),f.bc(D.d),f.bc(D.b),f.bc(N.a),f.bc(D.a),f.bc(F.c))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-amendment"]],viewQuery:function(e,t){if(1&e&&(f.jd(ht,!0),f.jd(ut,!0),f.Zc(mt,!0),f.jd(I.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.heroForm=e.first),f.Pc(e=f.qc())&&(t.time2=e.first),f.Pc(e=f.qc())&&(t.FromDate=e.first),f.Pc(e=f.qc())&&(t.actionBar=e.first)}},decls:65,vars:51,consts:[[1,"p-0"],[1,""],[3,"disabled","referenceID","showPrint","newAction","editAction","saveAction","deleteAction","cancelAction","onUploadFinishedFire"],["novalidate","",3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[3,"empoyeeList","employee","editMode","employeeSelect"],["appearance","fill",1,"full-width"],["matInput","","name","FromDate","id","FromDate","required","",3,"ngModel","disabled","matDatepicker","ngModelChange"],["refFromDate","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["appDatepicker",""],["class","form-error-msg",4,"ngIf"],["aria-label","Time","id","time","name","time","readonly","","required","",3,"placeholder","disabled","ngxTimepicker","format","ngModel","ngModelChange"],["reftime","ngModel"],["fullTime",""],["matInput","","name","requsetPrivateNumber","id","requsetPrivateNumber",3,"placeholder","disabled","ngModel","ngModelChange"],["required","","name","Reason","id","reason",3,"disabled","ngModel","ngModelChange"],["refReason","ngModel"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Select an option","name","Type","required","",3,"disabled","ngModel","ngModelChange"],["value","CheckIn"],["value","CheckOut"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],["matInput","","id","textarea-input","rows","2","name","Justification","maxlength","500","id","Justification","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["refJustification","ngModel"],[1,"form-error-msg"],[3,"hidden"],[3,"value"]],template:function(e,t){if(1&e&&(f.hc(0,"mat-card",0),f.hc(1,"mat-card-title",1),f.cc(2,"mat-divider"),f.hc(3,"actionBar",2),f.pc("newAction",function(){return t.newClick()})("editAction",function(){return t.edit()})("saveAction",function(){return t.save()})("deleteAction",function(){return t.delete()})("cancelAction",function(){return t.reset()})("onUploadFinishedFire",function(e){return t.uploadFinished(e)}),f.gc(),f.cc(4,"mat-divider"),f.gc(),f.hc(5,"mat-card-content"),f.hc(6,"form",3,4),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(8,"div",5),f.hc(9,"div",6),f.hc(10,"div",7),f.hc(11,"employeeList",8),f.pc("employeeSelect",function(e){return t.employeeSelect(e)}),f.gc(),f.gc(),f.hc(12,"div",7),f.hc(13,"mat-form-field",9),f.hc(14,"mat-label"),f.fd(15),f.uc(16,"translate"),f.gc(),f.hc(17,"input",10,11),f.pc("ngModelChange",function(e){return t.bsFromDate=e}),f.gc(),f.cc(19,"mat-datepicker-toggle",12),f.cc(20,"mat-datepicker",13,14),f.gc(),f.dd(22,gt,4,4,"small",15),f.gc(),f.hc(23,"div",7),f.hc(24,"input",16,17),f.pc("ngModelChange",function(e){return t.time=e}),f.uc(26,"translate"),f.gc(),f.cc(27,"ngx-material-timepicker",null,18),f.dd(29,bt,4,4,"small",15),f.gc(),f.gc(),f.hc(30,"div",6),f.hc(31,"div",7),f.hc(32,"mat-form-field",9),f.hc(33,"input",19),f.pc("ngModelChange",function(e){return t.newObj.request.requsetPrivateNumber=e}),f.uc(34,"translate"),f.gc(),f.gc(),f.gc(),f.hc(35,"div",7),f.hc(36,"mat-form-field",9),f.hc(37,"mat-label"),f.fd(38),f.uc(39,"translate"),f.gc(),f.hc(40,"mat-select",20,21),f.pc("ngModelChange",function(e){return t.amendmentReasonCode=e}),f.dd(42,pt,2,2,"mat-option",22),f.gc(),f.dd(43,ft,4,4,"small",15),f.gc(),f.gc(),f.hc(44,"div",7),f.hc(45,"mat-label"),f.fd(46),f.uc(47,"translate"),f.gc(),f.hc(48,"mat-radio-group",23),f.pc("ngModelChange",function(e){return t.type=e}),f.hc(49,"mat-radio-button",24),f.fd(50),f.uc(51,"translate"),f.gc(),f.hc(52,"mat-radio-button",25),f.fd(53),f.uc(54,"translate"),f.gc(),f.gc(),f.gc(),f.gc(),f.hc(55,"div",26),f.hc(56,"div",7),f.hc(57,"mat-form-field",9),f.hc(58,"mat-label"),f.fd(59),f.uc(60,"translate"),f.gc(),f.hc(61,"textarea",27,28),f.pc("ngModelChange",function(e){return t.justification=e}),f.fd(63,"                          "),f.gc(),f.dd(64,vt,4,4,"small",15),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc()),2&e){const e=f.Qc(7),i=f.Qc(18),a=f.Qc(21),r=f.Qc(25),s=f.Qc(28),c=f.Qc(41),n=f.Qc(62);f.Nb(3),f.Bc("disabled",!e.form.valid)("referenceID",t.requestID)("showPrint",!1),f.Nb(8),f.Bc("empoyeeList",t.empoyeeList)("employee",t.employeeID)("editMode",!0),f.Nb(4),f.hd(" ",f.vc(16,35,"FROM_DATE")," "),f.Nb(2),f.Bc("ngModel",t.bsFromDate)("disabled",t.editMode)("matDatepicker",a),f.Nb(2),f.Bc("for",a),f.Nb(3),f.Bc("ngIf",!i.valid&&(i.dirty||i.touched)&&!t.editMode),f.Nb(2),f.Cc("placeholder",f.vc(26,37,"TIME")),f.Bc("disabled",t.editMode)("ngxTimepicker",s)("format",24)("ngModel",t.time),f.Nb(5),f.Bc("ngIf",!r.valid&&(r.dirty||r.touched)&&!t.editMode),f.Nb(4),f.Dc("placeholder"," ",f.vc(34,39,"ORDER_NUMBER")," "),f.Bc("disabled",!0)("ngModel",t.newObj.request.requsetPrivateNumber),f.Nb(5),f.hd("",f.vc(39,41,"REASON")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.amendmentReasonCode),f.Nb(2),f.Bc("ngForOf",t.emendmentReason),f.Nb(1),f.Bc("ngIf",!c.valid&&(c.dirty||c.touched)&&!t.editMode),f.Nb(3),f.hd(" ",f.vc(47,43,"TYPE_ACTION"),""),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.type),f.Nb(2),f.hd(" ",f.vc(51,45,"CHECKIN")," "),f.Nb(3),f.hd(" ",f.vc(54,47,"CHECKIN")," "),f.Nb(6),f.hd("",f.vc(60,49,"JUSTIFICATION")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.justification),f.Nb(3),f.Bc("ngIf",!n.valid&&(n.dirty||n.touched)&&!t.editMode)}},directives:[M.a,M.i,O.a,I.a,M.d,S.D,S.s,S.t,C.d,C.b,x.a,w.c,w.g,_.b,S.c,R.d,S.z,S.r,S.u,R.f,w.i,R.c,c.q,lt.c,lt.a,T.a,c.p,he.b,he.a,S.m,F.o],pipes:[j.c],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}#FromDate[_ngcontent-%COMP%], #requestID[_ngcontent-%COMP%], .egret-navy[_ngcontent-%COMP%]   .mat-select-disabled[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{padding-bottom:25px}#requsetPrivateNumber[_ngcontent-%COMP%]{color:red}"]}),e})();var qt=i("M9ds");const yt=function(e){return["/Orders/NewOrders/",e]};function It(e,t){if(1&e&&(f.hc(0,"div",6),f.hc(1,"div",7),f.hc(2,"div",8),f.cc(3,"span",9),f.gc(),f.hc(4,"div",10),f.hc(5,"h6"),f.fd(6),f.gc(),f.gc(),f.gc(),f.gc()),2&e){const e=t.$implicit;f.Nb(1),f.Bc("routerLink",f.Hc(5,yt,e.controllerName)),f.Nb(2),f.Pb(e.icons),f.Nb(3),f.gd(e.requestName)}}function Et(e,t){if(1&e&&(f.hc(0,"div",6),f.hc(1,"div",7),f.hc(2,"div",8),f.cc(3,"span",9),f.gc(),f.hc(4,"div",10),f.hc(5,"h6"),f.fd(6),f.gc(),f.gc(),f.gc(),f.gc()),2&e){const e=t.$implicit;f.Nb(1),f.Bc("routerLink",f.Hc(5,yt,e.controllerName)),f.Nb(2),f.Pb(e.icons),f.Nb(3),f.gd(e.requestName)}}function Nt(e,t){if(1&e&&(f.hc(0,"div",6),f.hc(1,"div",7),f.hc(2,"div",8),f.cc(3,"span",9),f.gc(),f.hc(4,"div",10),f.hc(5,"h6"),f.fd(6),f.gc(),f.gc(),f.gc(),f.gc()),2&e){const e=t.$implicit;f.Nb(1),f.Bc("routerLink",f.Hc(5,yt,e.controllerName)),f.Nb(2),f.Pb(e.icons),f.Nb(3),f.gd(e.requestName)}}let Ft=(()=>{class e{constructor(e){this.requestService=e}ngOnInit(){this.loadRequestType()}loadRequestType(){this.requestService.getRequestType().subscribe(e=>{this.requestType=e,this.General=this.requestType.filter(e=>1==e.requestGroupID&&e.isActive),this.Government=this.requestType.filter(e=>2==e.requestGroupID&&e.isActive),this.Letters=this.requestType.filter(e=>3==e.requestGroupID&&e.isActive)},e=>console.log(e))}}return e.\u0275fac=function(t){return new(t||e)(f.bc(v))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-orderDashBoard"]],decls:10,vars:3,consts:[["mat-align-tabs","center"],["label","General Requsets "],[1,"row","w-100",2,"padding-top","20px"],["class","col-md-3",4,"ngFor","ngForOf"],["label","Government Requsets "],["label","  Letters "],[1,"col-md-3"],[1,"card","border-danger","mx-sm-1","p-3","box",3,"routerLink"],[1,"card","border-danger","shadow","text-warning","p-3","my-card"],["aria-hidden","true"],[1,"text-info","text-center","mt-3"]],template:function(e,t){1&e&&(f.hc(0,"mat-tab-group",0),f.hc(1,"mat-tab",1),f.hc(2,"div",2),f.dd(3,It,7,7,"div",3),f.gc(),f.gc(),f.hc(4,"mat-tab",4),f.hc(5,"div",2),f.dd(6,Et,7,7,"div",3),f.gc(),f.gc(),f.hc(7,"mat-tab",5),f.hc(8,"div",2),f.dd(9,Nt,7,7,"div",3),f.gc(),f.gc(),f.gc()),2&e&&(f.Nb(3),f.Bc("ngForOf",t.General),f.Nb(3),f.Bc("ngForOf",t.Government),f.Nb(3),f.Bc("ngForOf",t.Letters))},directives:[qt.b,qt.a,c.p,N.h],styles:[".my-card[_ngcontent-%COMP%]{position:absolute;left:40%;top:-20px;border-radius:50%}.card[_ngcontent-%COMP%]{cursor:pointer}.box[_ngcontent-%COMP%]{height:100px}.mat-card[_ngcontent-%COMP%]{max-width:25%}"]}),e})();const Mt=["heroForm"],Ot=["time"],St=["FromDate"];function Ct(e,t){if(1&e&&(f.hc(0,"small",20),f.hc(1,"small",21),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(18);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function xt(e,t){if(1&e&&(f.hc(0,"small",20),f.hc(1,"small",21),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(35);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}let wt=(()=>{class e{constructor(e,t,i,a,r,s,c){this.sharedService=e,this.requestService=t,this.authService=i,this.helpersService=a,this._avRoute=r,this.alertify=s,this.dateAdapter=c,this.request=new n,this.bsFromDate=new Date,this.attachment=[],this.extraFiled=[],this.editMode=!0,this.title="New",this.isAdmin=!1,this.amendmentReasonCode="",this._avRoute.snapshot.params.RequestID&&(this.requestID=this._avRoute.snapshot.params.RequestID),this.dateAdapter.setLocale("en-GB")}ngOnInit(){this.loadEmployees(),this.newObj=this.getEmptyObject(),this.requestID>0&&(this.title="Edit",this.loadRequest(this.requestID)),this.isAdmin=this.authService.isAdminUser}onSubmit(){}newClick(){this.heroForm.reset(),this.editMode=!1,this.employeeID=this.authService.logginEmployeeId(),this.newObj=this.getEmptyObject(),this.getNextPrivateNumber(),this.requestID=this.newObj.request.requestID,this.newObj.request.requestTypeID=y.c.ChangeHousing,this.newObj.request.statusCode=y.b.NewRequest,this.authService.currentUserName.subscribe(e=>{this.newObj.request.createdBy=e}),this.newObj.request.employeeID=this.authService.logginEmployeeId()}edit(){this.editMode=!1}save(){if(this.findInvalidControls(),this.heroForm.valid){var e=E(this.bsFromDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(e))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");this.addUpdateExtraField(6,e),this.addUpdateExtraField(7,this.justification),this.requestService.saveRequest(this.newObj).subscribe(e=>{this.alertify.success("SAVED_SUCCESSFULLY"),this.heroForm.reset(),this.newObj=e,this.requestID=this.newObj.requestID,this.loadRequest(this.requestID),this.editMode=!0,this.actionBar.editMode()},e=>{this.alertify.error(e)})}}delete(){this.requestID>0&&this.alertify.confirm("DO_YOU_WANT_DELETE_ORDER",()=>{this.requestService.deleteRequest(this.requestID).subscribe(e=>{this.alertify.success("DELETED_SUCCESSFULLY"),this.reset(),this.actionBar.queryMode()},e=>{this.alertify.error(e)})})}findInvalidControls(){const e=this.heroForm.controls;for(const t in e)e[t].invalid&&this.heroForm.controls[t].markAsTouched({onlySelf:!0})}reset(){this.editMode=!0,this.heroForm.reset()}loadEmployees(){this.sharedService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}loadRequest(e){this.newObj=this.getEmptyObject(),this.requestService.getRequest(e).subscribe(e=>{this.bindData(e),this.actionBar&&this.actionBar.editMode()},e=>{this.alertify.error(e)})}bindData(e){this.newObj.request=e.request,this.newObj.requestStages=e.requestStages,this.newObj.requestExtraFields=e.requestExtraFields,this.requestID=this.newObj.request.requestID,this.employeeID=this.newObj.request.employeeID;try{this.bsFromDate=this.helpersService.getDate(this.getExtraFieldValue(6)),this.justification=this.getExtraFieldValue(7)}catch(t){}}getNextPrivateNumber(){this.requestService.getNextPrivateNumber().subscribe(e=>{this.newObj.request.requsetPrivateNumber=e},e=>{this.alertify.error(e)})}getEmptyObject(){const e={request:{requestID:this.sharedService.getRandomNumber(),requsetPrivateNumber:null,employeeID:null,requestTypeID:null,statusCode:null,createdBy:null},requestExtraFields:[],requestStages:[]},t=new Date;return this.bsFromDate=t,e.requestStages[0]=new l,e.requestStages[0].actionCode=y.a.NewRequest,e.requestStages[0].stageTypeID=1,e.requestStages[0].userID=this.authService.logginUserID(),e.requestStages[0].justification=void 0,e}addUpdateExtraField(e,t){var i=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1==i){var a=new o;a.requestExtraFieldID=-Math.floor(this.newObj.requestExtraFields.length+1),a.extraFieldTypeID=e,a.value=t,a.requestID=this.requestID,this.newObj.requestExtraFields.push(a)}else this.newObj.requestExtraFields[i].value=t}getExtraFieldValue(e){var t=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1!=t)return this.newObj.requestExtraFields[t].value}employeeSelect(e){this.employeeID=e}uploadFinished(e){if(null!=e){var t=new q.a;t.attachmentID=+e,t.referenceID=this.requestID,t.fileName="fileName",t.fileType="fileType",null==this.newObj.attachments&&(this.newObj.attachments=this.attachment),this.newObj.attachments.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(f.bc(D.c),f.bc(v),f.bc(D.b),f.bc(D.d),f.bc(N.a),f.bc(D.a),f.bc(F.c))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-changeHousing"]],viewQuery:function(e,t){if(1&e&&(f.jd(Mt,!0),f.jd(Ot,!0),f.Zc(St,!0),f.jd(I.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.heroForm=e.first),f.Pc(e=f.qc())&&(t.time2=e.first),f.Pc(e=f.qc())&&(t.FromDate=e.first),f.Pc(e=f.qc())&&(t.actionBar=e.first)}},decls:38,vars:25,consts:[[1,"p-0"],[1,""],[3,"disabled","referenceID","showPrint","newAction","editAction","saveAction","deleteAction","cancelAction","onUploadFinishedFire"],["novalidate","",3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[3,"empoyeeList","employee","editMode","employeeSelect"],["appearance","fill",1,"full-width"],["matInput","","name","FromDate","id","FromDate","required","",3,"ngModel","disabled","matDatepicker","ngModelChange"],["refFromDate","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["appDatepicker",""],["class","form-error-msg",4,"ngIf"],["matInput","","name","requsetPrivateNumber","id","requsetPrivateNumber",3,"placeholder","disabled","ngModel","ngModelChange"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],["matInput","","id","textarea-input","rows","2","name","Justification","maxlength","500","id","Justification","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["refJustification","ngModel"],[1,"form-error-msg"],[3,"hidden"]],template:function(e,t){if(1&e&&(f.hc(0,"mat-card",0),f.hc(1,"mat-card-title",1),f.cc(2,"mat-divider"),f.hc(3,"actionBar",2),f.pc("newAction",function(){return t.newClick()})("editAction",function(){return t.edit()})("saveAction",function(){return t.save()})("deleteAction",function(){return t.delete()})("cancelAction",function(){return t.reset()})("onUploadFinishedFire",function(e){return t.uploadFinished(e)}),f.gc(),f.cc(4,"mat-divider"),f.gc(),f.hc(5,"mat-card-content"),f.hc(6,"form",3,4),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(8,"div",5),f.hc(9,"div",6),f.hc(10,"div",7),f.hc(11,"employeeList",8),f.pc("employeeSelect",function(e){return t.employeeSelect(e)}),f.gc(),f.gc(),f.hc(12,"div",7),f.hc(13,"mat-form-field",9),f.hc(14,"mat-label"),f.fd(15),f.uc(16,"translate"),f.gc(),f.hc(17,"input",10,11),f.pc("ngModelChange",function(e){return t.bsFromDate=e}),f.gc(),f.cc(19,"mat-datepicker-toggle",12),f.cc(20,"mat-datepicker",13,14),f.gc(),f.dd(22,Ct,4,4,"small",15),f.gc(),f.gc(),f.hc(23,"div",6),f.hc(24,"div",7),f.hc(25,"mat-form-field",9),f.hc(26,"input",16),f.pc("ngModelChange",function(e){return t.newObj.request.requsetPrivateNumber=e}),f.uc(27,"translate"),f.gc(),f.gc(),f.gc(),f.gc(),f.hc(28,"div",17),f.hc(29,"div",7),f.hc(30,"mat-form-field",9),f.hc(31,"mat-label"),f.fd(32),f.uc(33,"translate"),f.gc(),f.hc(34,"textarea",18,19),f.pc("ngModelChange",function(e){return t.justification=e}),f.fd(36,"                          "),f.gc(),f.dd(37,xt,4,4,"small",15),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc()),2&e){const e=f.Qc(7),i=f.Qc(18),a=f.Qc(21),r=f.Qc(35);f.Nb(3),f.Bc("disabled",!e.form.valid)("referenceID",t.requestID)("showPrint",!1),f.Nb(8),f.Bc("empoyeeList",t.empoyeeList)("employee",t.employeeID)("editMode",!0),f.Nb(4),f.hd(" ",f.vc(16,19,"FROM_DATE")," "),f.Nb(2),f.Bc("ngModel",t.bsFromDate)("disabled",t.editMode)("matDatepicker",a),f.Nb(2),f.Bc("for",a),f.Nb(3),f.Bc("ngIf",!i.valid&&(i.dirty||i.touched)&&!t.editMode),f.Nb(4),f.Dc("placeholder"," ",f.vc(27,21,"ORDER_NUMBER")," "),f.Bc("disabled",!0)("ngModel",t.newObj.request.requsetPrivateNumber),f.Nb(6),f.hd("",f.vc(33,23,"JUSTIFICATION")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.justification),f.Nb(3),f.Bc("ngIf",!r.valid&&(r.dirty||r.touched)&&!t.editMode)}},directives:[M.a,M.i,O.a,I.a,M.d,S.D,S.s,S.t,C.d,C.b,x.a,w.c,w.g,_.b,S.c,R.d,S.z,S.r,S.u,R.f,w.i,R.c,c.q,S.m],pipes:[j.c],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}#FromDate[_ngcontent-%COMP%], #requestID[_ngcontent-%COMP%], .egret-navy[_ngcontent-%COMP%]   .mat-select-disabled[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{padding-bottom:25px}"]}),e})();const Rt=["heroForm"];function Tt(e,t){if(1&e&&(f.hc(0,"mat-option",44),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.ID),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.NameEN:e.NameAR," ")}}function _t(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(18);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function jt(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(28);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function At(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(30);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function Bt(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(41);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function Pt(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(56);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function Lt(e,t){if(1&e&&(f.hc(0,"mat-option",44),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.employeeID),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.personnelnumber+" "+e.englishName:e.personnelnumber+" "+e.arabicName," ")}}function Ut(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(70);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function Vt(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(82);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function Qt(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(97);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function kt(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.hc(4,"small",46),f.fd(5),f.uc(6,"translate"),f.gc(),f.hc(7,"small",46),f.fd(8),f.uc(9,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(112);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,6,"FILED_IS_REQUIRED")," "),f.Nb(2),f.Bc("hidden",!e.errors.maxlength),f.Nb(1),f.hd(" ",f.vc(6,8,"FILED_IS_MAXLENGTH_20")," "),f.Nb(2),f.Bc("hidden",!e.errors.minlength),f.Nb(1),f.hd(" ",f.vc(9,10,"FILED_IS_MINLENGTH_5")," ")}}function Yt(e,t){if(1&e&&(f.hc(0,"small",45),f.hc(1,"small",46),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(122);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}let Ht=(()=>{class e{constructor(e,t,i,a,r,s,c){this.sharedService=e,this.requestService=t,this.authService=i,this.helpersService=a,this._avRoute=r,this.alertify=s,this.dateAdapter=c,this.request=new n,this.minFromDate=new Date,this.maxToDate=(new Date).setDate(2),this.bsFromDate=new Date,this.bsToDate=new Date,this.vacationBalance=0,this.attachment=[],this.extraFiled=[],this.editMode=!0,this.title="New",this.isAdmin=!1,this.isReplacementEmp=!1,this.leaveTypeCode="",this.days=1,this.replacementEmployeeName="",this.travelMethodID="0",this.travelMethod="",this.paymentStatusID="0",this.paymentStatus="",this._avRoute.snapshot.params.RequestID&&(this.requestID=this._avRoute.snapshot.params.RequestID),this.dateAdapter.setLocale("en-GB")}ngOnInit(){this.loadEmployees(),this.loadVacationType(),this.newObj=this.getEmptyObject(),this.requestID>0&&(this.title="Edit",this.loadRequest(this.requestID)),this.isAdmin=this.authService.isAdminUser}onSubmit(){}newClick(){this.heroForm.reset(),this.editMode=!1,this.employeeID=this.authService.logginEmployeeId(),this.newObj=this.getEmptyObject(),this.getNextPrivateNumber(),this.loadVacationBalace(),this.days=1,this.requestID=this.newObj.request.requestID,this.newObj.request.requestTypeID=y.c.LeaveRequestVacations,this.newObj.request.statusCode=y.b.NewRequest,this.authService.currentUserName.subscribe(e=>{this.newObj.request.createdBy=e}),this.newObj.request.employeeID=this.authService.logginEmployeeId()}edit(){this.editMode=!1}save(){if(this.findInvalidControls(),this.heroForm.valid){var e=E(this.bsFromDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(e))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");var t=E(this.bsToDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(t))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");if(this.addUpdateExtraField(23,this.leaveTypeID),this.addUpdateExtraField(51,this.leaveTypeCode),this.addUpdateExtraField(54,this.isReplacementEmp?1:0),this.isReplacementEmp&&(this.addUpdateExtraField(24,this.replacementEmployeeID),this.addUpdateExtraField(50,this.replacementEmployeeName),null==this.replacementEmployeeID))return void this.alertify.error("REPLACEMENT_EMPLOYEE_MUST_ENTER");this.addUpdateExtraField(26,e),this.addUpdateExtraField(27,t),this.addUpdateExtraField(28,this.days),this.addUpdateExtraField(29,this.travelMethod),this.addUpdateExtraField(48,this.travelMethodID),this.addUpdateExtraField(30,this.paymentStatus),this.addUpdateExtraField(49,this.paymentStatusID),this.addUpdateExtraField(55,this.vacationBalance),this.addUpdateExtraField(31,this.justification),this.addUpdateExtraField(85,this.address),this.addUpdateExtraField(86,this.phone),this.requestService.saveRequest(this.newObj).subscribe(e=>{this.alertify.success("SAVED_SUCCESSFULLY"),this.heroForm.reset(),this.newObj=e,this.requestID=this.newObj.requestID,this.loadRequest(this.requestID),this.editMode=!0,this.actionBar.editMode()},e=>{this.alertify.error(e)})}}delete(){this.requestID>0&&this.alertify.confirm("DO_YOU_WANT_DELETE_ORDER",()=>{this.requestService.deleteRequest(this.requestID).subscribe(e=>{this.alertify.success("DELETED_SUCCESSFULLY"),this.reset(),this.actionBar.queryMode()},e=>{this.alertify.error(e)})})}findInvalidControls(){const e=this.heroForm.controls;for(const t in e)e[t].invalid&&this.heroForm.controls[t].markAsTouched({onlySelf:!0})}reset(){this.editMode=!0,this.heroForm.reset()}loadEmployees(){this.sharedService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}loadVacationType(){this.sharedService.getVacationTypes().subscribe(e=>{this.vacationType=e},e=>console.log(e))}loadVacationBalace(){var e={employeeID:this.authService.logginEmployeeId(),fromDate:this.helpersService.getCurrentDate()};this.sharedService.getVacationBalanceInfo(e).subscribe(e=>{this.vacationBalance=e[0].Balance},e=>console.log(e))}loadRequest(e){this.newObj=this.getEmptyObject(),this.requestService.getRequest(e).subscribe(e=>{this.bindData(e),this.actionBar&&this.actionBar.editMode()},e=>{this.alertify.error(e)})}bindData(e){this.newObj.request=e.request,this.newObj.requestStages=e.requestStages,this.newObj.requestExtraFields=e.requestExtraFields,this.requestID=this.newObj.request.requestID,this.employeeID=this.newObj.request.employeeID;try{this.leaveTypeID=null!=this.getExtraFieldValue(23)?Number(this.getExtraFieldValue(23)):0,this.leaveTypeCode=this.getExtraFieldValue(51),this.replacementEmployeeID=null!=this.getExtraFieldValue(24)?Number(this.getExtraFieldValue(24)):0,this.replacementEmployeeName=this.getExtraFieldValue(50),this.days=null!=this.getExtraFieldValue(28)?Number(this.getExtraFieldValue(28)):1,this.travelMethod=this.getExtraFieldValue(29),this.travelMethodID=this.getExtraFieldValue(48),this.paymentStatus=this.getExtraFieldValue(30),this.paymentStatusID=this.getExtraFieldValue(49),this.isReplacementEmp=Boolean(null!=this.getExtraFieldValue(51)?Number(this.getExtraFieldValue(51)):0),this.justification=this.getExtraFieldValue(31),this.address=this.getExtraFieldValue(85),this.phone=this.getExtraFieldValue(86),this.bsFromDate=this.helpersService.getDate(this.getExtraFieldValue(26)),this.bsToDate=this.helpersService.getDate(this.getExtraFieldValue(27))}catch(t){}}getNextPrivateNumber(){this.requestService.getNextPrivateNumber().subscribe(e=>{this.newObj.request.requsetPrivateNumber=e},e=>{this.alertify.error(e)})}getEmptyObject(){const e={request:{requestID:this.sharedService.getRandomNumber(),requsetPrivateNumber:null,employeeID:null,requestTypeID:null,statusCode:null,createdBy:null},requestExtraFields:[],requestStages:[]},t=new Date;return this.bsFromDate=t,this.bsToDate=t,e.requestStages[0]=new l,e.requestStages[0].actionCode=y.a.NewRequest,e.requestStages[0].stageTypeID=1,e.requestStages[0].userID=this.authService.logginUserID(),e.requestStages[0].justification=void 0,e}addUpdateExtraField(e,t){var i=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1==i){var a=new o;a.requestExtraFieldID=-Math.floor(this.newObj.requestExtraFields.length+1),a.extraFieldTypeID=e,a.value=t,a.requestID=this.requestID,this.newObj.requestExtraFields.push(a)}else this.newObj.requestExtraFields[i].value=t}getExtraFieldValue(e){var t=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1!=t)return this.newObj.requestExtraFields[t].value}employeeSelect(e){this.employeeID=e}replacementEmployeeSelect(e){}selectedVacation(e){this.isReplacementEmp=this.vacationType.filter(t=>t.ID==e.value&&1==t.IsNeedReplacementEmp).length>0,this.leaveTypeCode=e.source.triggerValue}dateRangeChange(e,t){if(this.days=0,e.value&&t.value){const e=E(this.bsFromDate).format("DD/MM/YYYY"),t=E(this.bsToDate).format("DD/MM/YYYY");this.days=this.helpersService.dayDiff(e,t)}}paymentStatusChange(e){this.paymentStatus=e}travelMethodChange(e){this.travelMethod=e}uploadFinished(e){if(null!=e){var t=new q.a;t.attachmentID=+e,t.referenceID=this.requestID,t.fileName="fileName",t.fileType="fileType",null==this.newObj.attachments&&(this.newObj.attachments=this.attachment),this.newObj.attachments.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(f.bc(D.c),f.bc(v),f.bc(D.b),f.bc(D.d),f.bc(N.a),f.bc(D.a),f.bc(F.c))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-leave"]],viewQuery:function(e,t){if(1&e&&(f.jd(Rt,!0),f.jd(I.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.heroForm=e.first),f.Pc(e=f.qc())&&(t.actionBar=e.first)}},decls:128,vars:106,consts:[[1,"p-0"],[1,""],[3,"disabled","referenceID","showPrint","newAction","editAction","saveAction","deleteAction","cancelAction","onUploadFinishedFire"],["novalidate","",3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[3,"empoyeeList","employee","editMode","employeeSelect"],["appearance","fill",1,"full-width"],["required","","name","LeaveType","id","leaveType",3,"disabled","ngModel","selectionChange","ngModelChange"],["refLeaveType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-error-msg",4,"ngIf"],["appearance","full-width","appearance","fill"],["required","",3,"min","rangePicker"],["matStartDate","","id","fromDate","name","FromDate","required","","placeholder","Start date",3,"ngModel","disabled","min","ngModelChange"],["refFromDate","ngModel"],["matEndDate","","id","toDate","name","ToDate","required","","placeholder","End date",3,"ngModel","disabled","ngModelChange","dateChange"],["refToDate","ngModel"],["matSuffix","",3,"for"],["picker",""],["aria-label","Select an option","name","TravelMethodID","required","",3,"disabled","ngModel","ngModelChange"],["refTravelMethodID","ngModel"],["value","0",3,"change"],["value","1",3,"change"],["matInput","","type","text","name","Address","id","Address","required","",3,"placeholder","ngModel","disabled","ngModelChange"],["refAddress","ngModel"],["matInput","","name","requsetPrivateNumber","id","requsetPrivateNumber",3,"placeholder","disabled","ngModel","ngModelChange"],["required","","name","replacementEmployee","id","replacementEmployee",3,"disabled","ngModel","selectionChange","ngModelChange"],["refReplacementEmployee","ngModel"],["cellspacing","0",1,"example-full-width"],["appearance","fill",1,"example-full-width"],["matInput","","type","number","name","days","id","days","required","",3,"placeholder","ngModel","disabled","ngModelChange"],["refDays","ngModel"],["matInput","","type","number","name","vacationBalance","id","vacationBalance",3,"ngModel","disabled","ngModelChange"],["refVacationBalance","ngModel"],["aria-label","Select an option","name","PaymentStatusID","id","PaymentStatusID","required","",3,"disabled","ngModel","ngModelChange"],["refPaymentStatusID","ngModel"],["matInput","","type","text","name","Phone","id","Phone","required","","maxlength","20","minlength","5",3,"placeholder","ngModel","disabled","ngModelChange"],["refPhone","ngModel"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],["matInput","","id","textarea-input","rows","2","name","Justification","maxlength","500","id","Justification","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["refJustification","ngModel"],[3,"value"],[1,"form-error-msg"],[3,"hidden"]],template:function(e,t){if(1&e){const e=f.ic();f.hc(0,"mat-card",0),f.hc(1,"mat-card-title",1),f.cc(2,"mat-divider"),f.hc(3,"actionBar",2),f.pc("newAction",function(){return t.newClick()})("editAction",function(){return t.edit()})("saveAction",function(){return t.save()})("deleteAction",function(){return t.delete()})("cancelAction",function(){return t.reset()})("onUploadFinishedFire",function(e){return t.uploadFinished(e)}),f.gc(),f.cc(4,"mat-divider"),f.gc(),f.hc(5,"mat-card-content"),f.hc(6,"form",3,4),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(8,"div",5),f.hc(9,"div",6),f.hc(10,"div",7),f.hc(11,"employeeList",8),f.pc("employeeSelect",function(e){return t.employeeSelect(e)}),f.gc(),f.gc(),f.hc(12,"div",7),f.hc(13,"mat-form-field",9),f.hc(14,"mat-label"),f.fd(15),f.uc(16,"translate"),f.gc(),f.hc(17,"mat-select",10,11),f.pc("selectionChange",function(e){return t.selectedVacation(e)})("ngModelChange",function(e){return t.leaveTypeID=e}),f.dd(19,Tt,2,2,"mat-option",12),f.gc(),f.dd(20,_t,4,4,"small",13),f.gc(),f.gc(),f.hc(21,"div",7),f.hc(22,"mat-form-field",14),f.hc(23,"mat-label"),f.fd(24),f.uc(25,"translate"),f.gc(),f.hc(26,"mat-date-range-input",15),f.hc(27,"input",16,17),f.pc("ngModelChange",function(e){return t.bsFromDate=e}),f.gc(),f.hc(29,"input",18,19),f.pc("ngModelChange",function(e){return t.bsToDate=e})("dateChange",function(){f.Uc(e);const i=f.Qc(28),a=f.Qc(30);return t.dateRangeChange(i,a)}),f.gc(),f.gc(),f.cc(31,"mat-datepicker-toggle",20),f.cc(32,"mat-date-range-picker",null,21),f.gc(),f.dd(34,jt,4,4,"small",13),f.dd(35,At,4,4,"small",13),f.gc(),f.hc(36,"div",7),f.hc(37,"mat-label"),f.fd(38),f.uc(39,"translate"),f.gc(),f.hc(40,"mat-radio-group",22,23),f.pc("ngModelChange",function(e){return t.travelMethodID=e}),f.hc(42,"mat-radio-button",24),f.pc("change",function(){return t.travelMethodChange("TICKET")}),f.fd(43),f.uc(44,"translate"),f.gc(),f.hc(45,"mat-radio-button",25),f.pc("change",function(){return t.travelMethodChange("CASH")}),f.fd(46),f.uc(47,"translate"),f.gc(),f.gc(),f.dd(48,Bt,4,4,"small",13),f.gc(),f.hc(49,"div",7),f.hc(50,"div",7),f.hc(51,"mat-form-field",9),f.hc(52,"mat-label"),f.fd(53),f.uc(54,"translate"),f.gc(),f.hc(55,"input",26,27),f.pc("ngModelChange",function(e){return t.address=e}),f.uc(57,"translate"),f.gc(),f.gc(),f.dd(58,Pt,4,4,"small",13),f.gc(),f.gc(),f.gc(),f.hc(59,"div",6),f.hc(60,"div",7),f.hc(61,"mat-form-field",9),f.hc(62,"input",28),f.pc("ngModelChange",function(e){return t.newObj.request.requsetPrivateNumber=e}),f.uc(63,"translate"),f.gc(),f.gc(),f.gc(),f.hc(64,"div",7),f.hc(65,"mat-form-field",9),f.hc(66,"mat-label"),f.fd(67),f.uc(68,"translate"),f.gc(),f.hc(69,"mat-select",29,30),f.pc("selectionChange",function(e){return t.replacementEmployeeSelect(e)})("ngModelChange",function(e){return t.replacementEmployeeID=e}),f.dd(71,Lt,2,2,"mat-option",12),f.gc(),f.dd(72,Ut,4,4,"small",13),f.gc(),f.gc(),f.hc(73,"div",7),f.hc(74,"table",31),f.hc(75,"tr"),f.hc(76,"td"),f.hc(77,"mat-form-field",32),f.hc(78,"mat-label"),f.fd(79),f.uc(80,"translate"),f.gc(),f.hc(81,"input",33,34),f.pc("ngModelChange",function(e){return t.days=e}),f.uc(83,"translate"),f.gc(),f.gc(),f.dd(84,Vt,4,4,"small",13),f.gc(),f.hc(85,"td"),f.hc(86,"mat-form-field",32),f.hc(87,"mat-label"),f.fd(88),f.uc(89,"translate"),f.gc(),f.hc(90,"input",35,36),f.pc("ngModelChange",function(e){return t.vacationBalance=e}),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.hc(92,"div",7),f.hc(93,"mat-label"),f.fd(94),f.uc(95,"translate"),f.gc(),f.hc(96,"mat-radio-group",37,38),f.pc("ngModelChange",function(e){return t.paymentStatusID=e}),f.hc(98,"mat-radio-button",24),f.pc("change",function(){return t.paymentStatusChange("ADVANCE")}),f.fd(99),f.uc(100,"translate"),f.gc(),f.hc(101,"mat-radio-button",25),f.pc("change",function(){return t.paymentStatusChange("NOT_ADVANCE")}),f.fd(102),f.uc(103,"translate"),f.gc(),f.gc(),f.dd(104,Qt,4,4,"small",13),f.gc(),f.hc(105,"div",7),f.hc(106,"div",7),f.hc(107,"mat-form-field",9),f.hc(108,"mat-label"),f.fd(109),f.uc(110,"translate"),f.gc(),f.hc(111,"input",39,40),f.pc("ngModelChange",function(e){return t.phone=e}),f.uc(113,"translate"),f.gc(),f.gc(),f.dd(114,kt,10,12,"small",13),f.gc(),f.gc(),f.gc(),f.hc(115,"div",41),f.hc(116,"div",7),f.hc(117,"mat-form-field",9),f.hc(118,"mat-label"),f.fd(119),f.uc(120,"translate"),f.gc(),f.hc(121,"textarea",42,43),f.pc("ngModelChange",function(e){return t.justification=e}),f.fd(123,"                          "),f.gc(),f.dd(124,Yt,4,4,"small",13),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.fd(125),f.uc(126,"json"),f.uc(127,"json")}if(2&e){const e=f.Qc(7),i=f.Qc(18),a=f.Qc(28),r=f.Qc(30),s=f.Qc(33),c=f.Qc(41),n=f.Qc(56),o=f.Qc(70),d=f.Qc(82),l=f.Qc(97),h=f.Qc(112),u=f.Qc(122);f.Nb(3),f.Bc("disabled",!e.form.valid)("referenceID",t.requestID)("showPrint",!1),f.Nb(8),f.Bc("empoyeeList",t.empoyeeList)("employee",t.employeeID)("editMode",!0),f.Nb(4),f.hd("",f.vc(16,66,"LEAVE_TYPE")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.leaveTypeID),f.Nb(2),f.Bc("ngForOf",t.vacationType),f.Nb(1),f.Bc("ngIf",!i.valid&&(i.dirty||i.touched)&&!t.editMode),f.Nb(4),f.hd(" ",f.vc(25,68,"LEAVE_DATE")," "),f.Nb(2),f.Bc("min",t.minFromDate)("rangePicker",s),f.Nb(1),f.Bc("ngModel",t.bsFromDate)("disabled",t.editMode)("min",t.minFromDate),f.Nb(2),f.Bc("ngModel",t.bsToDate)("disabled",t.editMode),f.Nb(2),f.Bc("for",s),f.Nb(3),f.Bc("ngIf",!a.valid&&(a.dirty||a.touched)&&!t.editMode),f.Nb(1),f.Bc("ngIf",!r.valid&&(r.dirty||r.touched)&&!t.editMode),f.Nb(3),f.hd(" ",f.vc(39,70,"TRAVEL_METHOD"),""),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.travelMethodID),f.Nb(3),f.hd(" ",f.vc(44,72,"TICKET")," "),f.Nb(3),f.hd(" ",f.vc(47,74,"CASH")," "),f.Nb(2),f.Bc("ngIf",!c.valid&&(c.dirty||c.touched)&&!t.editMode),f.Nb(5),f.hd("",f.vc(54,76,"ADDRESS")," "),f.Nb(2),f.Dc("placeholder"," ",f.vc(57,78,"ADDRESS")," "),f.Bc("ngModel",t.address)("disabled",t.editMode),f.Nb(3),f.Bc("ngIf",!n.valid&&(n.dirty||n.touched)&&!t.editMode),f.Nb(4),f.Dc("placeholder"," ",f.vc(63,80,"ORDER_NUMBER")," "),f.Bc("disabled",!0)("ngModel",t.newObj.request.requsetPrivateNumber),f.Nb(5),f.hd("",f.vc(68,82,"REPLACEMENT_EMPLOYEE")," "),f.Nb(2),f.Bc("disabled",t.editMode||!t.isReplacementEmp)("ngModel",t.replacementEmployeeID),f.Nb(2),f.Bc("ngForOf",t.empoyeeList),f.Nb(1),f.Bc("ngIf",!o.valid&&(o.dirty||o.touched)&&!t.editMode),f.Nb(7),f.hd("",f.vc(80,84,"COUNT_DAYS")," "),f.Nb(2),f.Dc("placeholder"," ",f.vc(83,86,"COUNT_DAYS")," "),f.Bc("ngModel",t.days)("disabled",!0),f.Nb(3),f.Bc("ngIf",!d.valid&&(d.dirty||d.touched)&&!t.editMode),f.Nb(4),f.hd("",f.vc(89,88,"VACATION_BALANCE")," "),f.Nb(2),f.Bc("ngModel",t.vacationBalance)("disabled",!0),f.Nb(4),f.hd(" ",f.vc(95,90,"PAYMENT_STATUS"),""),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.paymentStatusID),f.Nb(3),f.hd(" ",f.vc(100,92,"ADVANCE")," "),f.Nb(3),f.hd(" ",f.vc(103,94,"NOT_ADVANCE")," "),f.Nb(2),f.Bc("ngIf",!l.valid&&(l.dirty||l.touched)&&!t.editMode),f.Nb(5),f.hd("",f.vc(110,96,"PHONE")," "),f.Nb(2),f.Dc("placeholder"," ",f.vc(113,98,"PHONE")," "),f.Bc("ngModel",t.phone)("disabled",t.editMode),f.Nb(3),f.Bc("ngIf",!h.valid&&(h.dirty||h.touched)&&!t.editMode),f.Nb(5),f.hd("",f.vc(120,100,"JUSTIFICATION")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.justification),f.Nb(3),f.Bc("ngIf",!u.valid&&(u.dirty||u.touched)&&!t.editMode),f.Nb(1),f.id(" ",f.vc(126,102,e.value),"\n",f.vc(127,104,t.days),"")}},directives:[M.a,M.i,O.a,I.a,M.d,S.D,S.s,S.t,C.d,C.b,x.a,w.c,w.g,T.a,S.z,S.r,S.u,c.p,c.q,R.a,R.h,S.c,R.g,R.f,w.i,R.b,he.b,he.a,_.b,S.w,S.m,S.n,F.o],pipes:[j.c,c.j],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}#FromDate[_ngcontent-%COMP%], #requestID[_ngcontent-%COMP%], .egret-navy[_ngcontent-%COMP%]   .mat-select-disabled[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{padding-bottom:25px}#requsetPrivateNumber[_ngcontent-%COMP%]{color:red}"]}),e})();const Jt=["heroForm"];function Gt(e,t){if(1&e&&(f.hc(0,"mat-option",26),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.systemCode),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.descriptionEn:e.descriptionAr," ")}}function Wt(e,t){if(1&e&&(f.hc(0,"small",27),f.hc(1,"small",28),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(18);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function $t(e,t){if(1&e&&(f.hc(0,"small",27),f.hc(1,"small",28),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(27);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function zt(e,t){1&e&&(f.hc(0,"mat-error"),f.fd(1,"Date should be inferior"),f.gc())}function Xt(e,t){if(1&e&&(f.hc(0,"small",27),f.hc(1,"small",28),f.fd(2),f.uc(3,"translate"),f.gc(),f.dd(4,zt,2,0,"mat-error",29),f.gc()),2&e){f.tc();const e=f.Qc(43);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,3,"FILED_IS_REQUIRED")," "),f.Nb(2),f.Bc("ngIf",e.hasError("matDatepickerMax"))}}function Kt(e,t){if(1&e&&(f.hc(0,"small",27),f.hc(1,"small",28),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(55);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}let Zt=(()=>{class e{constructor(e,t,i,a,r,s,c){this.sharedService=e,this.requestService=t,this.authService=i,this.helpersService=a,this._avRoute=r,this.alertify=s,this.dateAdapter=c,this.request=new n,this.bsFromDate1=new Date,this.bsFromDate2=new Date,this.attachment=[],this.extraFiled=[],this.minFromDate=new Date,this.editMode=!0,this.title="New",this.isAdmin=!1,this.eosType="",this._avRoute.snapshot.params.RequestID&&(this.requestID=this._avRoute.snapshot.params.RequestID),this.dateAdapter.setLocale("en-GB")}ngOnInit(){this.loadEmployees(),this.loadEOSType(),this.newObj=this.getEmptyObject(),this.requestID>0&&(this.title="Edit",this.loadRequest(this.requestID)),this.isAdmin=this.authService.isAdminUser}onSubmit(){}newClick(){this.heroForm.reset(),this.editMode=!1,this.employeeID=this.authService.logginEmployeeId(),this.newObj=this.getEmptyObject(),this.getNextPrivateNumber(),this.requestID=this.newObj.request.requestID,this.newObj.request.requestTypeID=y.c.EndOfService,this.newObj.request.statusCode=y.b.NewRequest,this.authService.currentUserName.subscribe(e=>{this.newObj.request.createdBy=e}),this.newObj.request.employeeID=this.authService.logginEmployeeId()}edit(){this.editMode=!1}save(){if(this.findInvalidControls(),this.heroForm.valid){var e=E(this.bsFromDate1).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(e))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");var t=E(this.bsFromDate2).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(t))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");this.addUpdateExtraField(56,this.eosTypeCode),this.addUpdateExtraField(57,this.eosType),this.addUpdateExtraField(58,e),this.addUpdateExtraField(61,t),this.addUpdateExtraField(73,this.justification),this.requestService.saveRequest(this.newObj).subscribe(e=>{this.alertify.success("SAVED_SUCCESSFULLY"),this.heroForm.reset(),this.newObj=e,this.requestID=this.newObj.requestID,this.loadRequest(this.requestID),this.editMode=!0,this.actionBar.editMode()},e=>{this.alertify.error(e)})}}delete(){this.requestID>0&&this.alertify.confirm("DO_YOU_WANT_DELETE_ORDER",()=>{this.requestService.deleteRequest(this.requestID).subscribe(e=>{this.alertify.success("DELETED_SUCCESSFULLY"),this.reset(),this.actionBar.queryMode()},e=>{this.alertify.error(e)})})}findInvalidControls(){const e=this.heroForm.controls;for(const t in e)e[t].invalid&&this.heroForm.controls[t].markAsTouched({onlySelf:!0})}reset(){this.editMode=!0,this.heroForm.reset()}loadEmployees(){this.sharedService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}loadEOSType(){this.sharedService.getSystemCodeCategory(y.d.Code_EOS).subscribe(e=>{this.eosTypeList=e},e=>console.log(e))}loadRequest(e){this.newObj=this.getEmptyObject(),this.requestService.getRequest(e).subscribe(e=>{this.bindData(e),this.actionBar&&this.actionBar.editMode()},e=>{this.alertify.error(e)})}bindData(e){this.newObj.request=e.request,this.newObj.requestStages=e.requestStages,this.newObj.requestExtraFields=e.requestExtraFields,this.requestID=this.newObj.request.requestID,this.employeeID=this.newObj.request.employeeID;try{this.eosTypeCode=this.getExtraFieldValue(56),this.eosType=this.getExtraFieldValue(57),this.bsFromDate1=this.helpersService.getDate(this.getExtraFieldValue(58)),this.bsFromDate2=this.helpersService.getDate(this.getExtraFieldValue(61)),this.justification=this.getExtraFieldValue(73)}catch(t){}}getNextPrivateNumber(){this.requestService.getNextPrivateNumber().subscribe(e=>{this.newObj.request.requsetPrivateNumber=e},e=>{this.alertify.error(e)})}getEmptyObject(){const e={request:{requestID:this.sharedService.getRandomNumber(),requsetPrivateNumber:null,employeeID:null,requestTypeID:null,statusCode:null,createdBy:null},requestExtraFields:[],requestStages:[]},t=new Date;return this.bsFromDate1=t,this.bsFromDate2=t,e.requestStages[0]=new l,e.requestStages[0].actionCode=y.a.NewRequest,e.requestStages[0].stageTypeID=1,e.requestStages[0].userID=this.authService.logginUserID(),e.requestStages[0].justification=void 0,e}addUpdateExtraField(e,t){var i=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1==i){var a=new o;a.requestExtraFieldID=-Math.floor(this.newObj.requestExtraFields.length+1),a.extraFieldTypeID=e,a.value=t,a.requestID=this.requestID,this.newObj.requestExtraFields.push(a)}else this.newObj.requestExtraFields[i].value=t}getExtraFieldValue(e){var t=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1!=t)return this.newObj.requestExtraFields[t].value}employeeSelect(e){this.employeeID=e}selectedValue(e){this.eosType=e.source.triggerValue}uploadFinished(e){if(null!=e){var t=new q.a;t.attachmentID=+e,t.referenceID=this.requestID,t.fileName="fileName",t.fileType="fileType",null==this.newObj.attachments&&(this.newObj.attachments=this.attachment),this.newObj.attachments.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(f.bc(D.c),f.bc(v),f.bc(D.b),f.bc(D.d),f.bc(N.a),f.bc(D.a),f.bc(F.c))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-eos"]],viewQuery:function(e,t){if(1&e&&(f.jd(Jt,!0),f.jd(I.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.heroForm=e.first),f.Pc(e=f.qc())&&(t.actionBar=e.first)}},decls:58,vars:42,consts:[[1,"p-0"],[1,""],[3,"disabled","referenceID","showPrint","newAction","editAction","saveAction","deleteAction","cancelAction","onUploadFinishedFire"],["novalidate","",3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[3,"empoyeeList","employee","editMode","employeeSelect"],["appearance","fill",1,"full-width"],["required","","name","EOSType","id","loanType",3,"disabled","ngModel","selectionChange","ngModelChange"],["refEOSType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-error-msg",4,"ngIf"],["matInput","","name","LastWorkingDateBefore","id","LastWorkingDateBefore","required","",3,"ngModel","disabled","min","matDatepicker","ngModelChange"],["refLastWorkingDateBefore","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["appDatepicker",""],["matInput","","name","requsetPrivateNumber","id","requsetPrivateNumber",3,"placeholder","disabled","ngModel","ngModelChange"],["matInput","","name","LastWorkingDate","id","LastWorkingDate","required","",3,"ngModel","disabled","min","matDatepicker","ngModelChange"],["refLastWorkingDate","ngModel"],["appDatepicker2",""],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],["matInput","","id","textarea-input","rows","2","name","Justification","maxlength","500","id","Justification","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["refJustification","ngModel"],[3,"value"],[1,"form-error-msg"],[3,"hidden"],[4,"ngIf"]],template:function(e,t){if(1&e&&(f.hc(0,"mat-card",0),f.hc(1,"mat-card-title",1),f.cc(2,"mat-divider"),f.hc(3,"actionBar",2),f.pc("newAction",function(){return t.newClick()})("editAction",function(){return t.edit()})("saveAction",function(){return t.save()})("deleteAction",function(){return t.delete()})("cancelAction",function(){return t.reset()})("onUploadFinishedFire",function(e){return t.uploadFinished(e)}),f.gc(),f.cc(4,"mat-divider"),f.gc(),f.hc(5,"mat-card-content"),f.hc(6,"form",3,4),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(8,"div",5),f.hc(9,"div",6),f.hc(10,"div",7),f.hc(11,"employeeList",8),f.pc("employeeSelect",function(e){return t.employeeSelect(e)}),f.gc(),f.gc(),f.hc(12,"div",7),f.hc(13,"mat-form-field",9),f.hc(14,"mat-label"),f.fd(15),f.uc(16,"translate"),f.gc(),f.hc(17,"mat-select",10,11),f.pc("selectionChange",function(e){return t.selectedValue(e)})("ngModelChange",function(e){return t.eosTypeCode=e}),f.dd(19,Gt,2,2,"mat-option",12),f.gc(),f.dd(20,Wt,4,4,"small",13),f.gc(),f.gc(),f.hc(21,"div",7),f.hc(22,"mat-form-field",9),f.hc(23,"mat-label"),f.fd(24),f.uc(25,"translate"),f.gc(),f.hc(26,"input",14,15),f.pc("ngModelChange",function(e){return t.bsFromDate1=e}),f.gc(),f.cc(28,"mat-datepicker-toggle",16),f.cc(29,"mat-datepicker",17,18),f.gc(),f.dd(31,$t,4,4,"small",13),f.gc(),f.gc(),f.hc(32,"div",6),f.hc(33,"div",7),f.hc(34,"mat-form-field",9),f.hc(35,"input",19),f.pc("ngModelChange",function(e){return t.newObj.request.requsetPrivateNumber=e}),f.uc(36,"translate"),f.gc(),f.gc(),f.gc(),f.hc(37,"div",7),f.hc(38,"mat-form-field",9),f.hc(39,"mat-label"),f.fd(40),f.uc(41,"translate"),f.gc(),f.hc(42,"input",20,21),f.pc("ngModelChange",function(e){return t.bsFromDate2=e}),f.gc(),f.cc(44,"mat-datepicker-toggle",16),f.cc(45,"mat-datepicker",17,22),f.gc(),f.dd(47,Xt,5,5,"small",13),f.gc(),f.gc(),f.hc(48,"div",23),f.hc(49,"div",7),f.hc(50,"mat-form-field",9),f.hc(51,"mat-label"),f.fd(52),f.uc(53,"translate"),f.gc(),f.hc(54,"textarea",24,25),f.pc("ngModelChange",function(e){return t.justification=e}),f.fd(56,"                          "),f.gc(),f.dd(57,Kt,4,4,"small",13),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc()),2&e){const e=f.Qc(7),i=f.Qc(18),a=f.Qc(27),r=f.Qc(30),s=f.Qc(43),c=f.Qc(46),n=f.Qc(55);f.Nb(3),f.Bc("disabled",!e.form.valid)("referenceID",t.requestID)("showPrint",!1),f.Nb(8),f.Bc("empoyeeList",t.empoyeeList)("employee",t.employeeID)("editMode",!0),f.Nb(4),f.hd("",f.vc(16,32,"EOS_TYPE")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.eosTypeCode),f.Nb(2),f.Bc("ngForOf",t.eosTypeList),f.Nb(1),f.Bc("ngIf",!i.valid&&(i.dirty||i.touched)&&!t.editMode),f.Nb(4),f.hd(" ",f.vc(25,34,"LAST_WORKING_DATE_BEFORE")," "),f.Nb(2),f.Bc("ngModel",t.bsFromDate1)("disabled",t.editMode)("min",t.minFromDate)("matDatepicker",r),f.Nb(2),f.Bc("for",r),f.Nb(3),f.Bc("ngIf",!a.valid&&(a.dirty||a.touched)&&!t.editMode),f.Nb(4),f.Dc("placeholder"," ",f.vc(36,36,"ORDER_NUMBER")," "),f.Bc("disabled",!0)("ngModel",t.newObj.request.requsetPrivateNumber),f.Nb(5),f.hd(" ",f.vc(41,38,"LAST_WORKING_DATE")," "),f.Nb(2),f.Bc("ngModel",t.bsFromDate2)("disabled",t.editMode)("min",t.minFromDate)("matDatepicker",c),f.Nb(2),f.Bc("for",c),f.Nb(3),f.Bc("ngIf",!s.valid&&(s.dirty||s.touched)&&!t.editMode),f.Nb(5),f.hd("",f.vc(53,40,"JUSTIFICATION")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.justification),f.Nb(3),f.Bc("ngIf",!n.valid&&(n.dirty||n.touched)&&!t.editMode)}},directives:[M.a,M.i,O.a,I.a,M.d,S.D,S.s,S.t,C.d,C.b,x.a,w.c,w.g,T.a,S.z,S.r,S.u,c.p,c.q,_.b,S.c,R.d,R.f,w.i,R.c,S.m,F.o,w.b],pipes:[j.c],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}#FromDate[_ngcontent-%COMP%], #requestID[_ngcontent-%COMP%], .egret-navy[_ngcontent-%COMP%]   .mat-select-disabled[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{padding-bottom:25px}#requsetPrivateNumber[_ngcontent-%COMP%]{color:red}"]}),e})();const ei=["heroForm"];function ti(e,t){if(1&e&&(f.hc(0,"mat-option",30),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.systemCode),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.descriptionEn:e.descriptionAr," ")}}function ii(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(18);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function ai(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(28);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function ri(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(30);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function si(e,t){if(1&e&&(f.hc(0,"mat-option",30),f.fd(1),f.gc()),2&e){const e=t.$implicit,i=f.tc();f.Bc("value",e.systemCode),f.Nb(1),f.hd(" ","1"==i.authService.currentLang?e.descriptionEn:e.descriptionAr," ")}}function ci(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(47);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function ni(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(56);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function oi(e,t){if(1&e&&(f.hc(0,"small",31),f.hc(1,"small",32),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(66);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}let di=(()=>{class e{constructor(e,t,i,a,r,s,c){this.sharedService=e,this.requestService=t,this.authService=i,this.helpersService=a,this._avRoute=r,this.alertify=s,this.dateAdapter=c,this.request=new n,this.minFromDate=new Date,this.maxToDate=(new Date).setDate(30),this.bsFromDate=new Date,this.bsToDate=new Date,this.attachment=[],this.extraFiled=[],this.editMode=!0,this.title="New",this.isAdmin=!1,this.typeVisaCode="",this.reasonCode="",this.days=1,this._avRoute.snapshot.params.RequestID&&(this.requestID=this._avRoute.snapshot.params.RequestID),this.dateAdapter.setLocale("en-GB")}ngOnInit(){this.loadEmployees(),this.loadVisaDLL(),this.newObj=this.getEmptyObject(),this.requestID>0&&(this.title="Edit",this.loadRequest(this.requestID)),this.isAdmin=this.authService.isAdminUser}onSubmit(){}newClick(){this.heroForm.reset(),this.editMode=!1,this.employeeID=this.authService.logginEmployeeId(),this.newObj=this.getEmptyObject(),this.getNextPrivateNumber(),this.requestID=this.newObj.request.requestID,this.newObj.request.requestTypeID=y.c.ExitReEnterVisa,this.newObj.request.statusCode=y.b.NewRequest,this.authService.currentUserName.subscribe(e=>{this.newObj.request.createdBy=e}),this.newObj.request.employeeID=this.authService.logginEmployeeId()}edit(){this.editMode=!1}save(){if(this.findInvalidControls(),this.heroForm.valid){var e=E(this.bsFromDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(e))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");var t=E(this.bsToDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(t))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");this.addUpdateExtraField(32,e),this.addUpdateExtraField(33,t),this.addUpdateExtraField(34,this.typeVisa),this.addUpdateExtraField(71,this.typeVisaCode),this.addUpdateExtraField(35,this.reason),this.addUpdateExtraField(72,this.reasonCode),this.addUpdateExtraField(74,this.days),this.addUpdateExtraField(36,this.justification),this.requestService.saveRequest(this.newObj).subscribe(e=>{this.alertify.success("SAVED_SUCCESSFULLY"),this.heroForm.reset(),this.newObj=e,this.requestID=this.newObj.requestID,this.loadRequest(this.requestID),this.editMode=!0,this.actionBar.editMode()},e=>{this.alertify.error(e)})}}delete(){this.requestID>0&&this.alertify.confirm("DO_YOU_WANT_DELETE_ORDER",()=>{this.requestService.deleteRequest(this.requestID).subscribe(e=>{this.alertify.success("DELETED_SUCCESSFULLY"),this.reset(),this.actionBar.queryMode()},e=>{this.alertify.error(e)})})}findInvalidControls(){const e=this.heroForm.controls;for(const t in e)e[t].invalid&&this.heroForm.controls[t].markAsTouched({onlySelf:!0})}reset(){this.editMode=!0,this.heroForm.reset()}loadEmployees(){this.sharedService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}loadVisaDLL(){this.sharedService.getSystemCodeCategory(y.d.Code_VSA).subscribe(e=>{this.visaTypeList=e},e=>console.log(e)),this.sharedService.getSystemCodeCategory(y.d.Code_VSR).subscribe(e=>{this.reasonTypeList=e},e=>console.log(e))}loadRequest(e){this.newObj=this.getEmptyObject(),this.requestService.getRequest(e).subscribe(e=>{this.bindData(e),this.actionBar&&this.actionBar.editMode()},e=>{this.alertify.error(e)})}bindData(e){this.newObj.request=e.request,this.newObj.requestStages=e.requestStages,this.newObj.requestExtraFields=e.requestExtraFields,this.requestID=this.newObj.request.requestID,this.employeeID=this.newObj.request.employeeID;try{this.typeVisa=this.getExtraFieldValue(34),this.typeVisaCode=this.getExtraFieldValue(71),this.reason=this.getExtraFieldValue(35),this.reasonCode=this.getExtraFieldValue(72),this.days=null!=this.getExtraFieldValue(74)?Number(this.getExtraFieldValue(74)):1,this.justification=this.getExtraFieldValue(36),this.bsFromDate=this.helpersService.getDate(this.getExtraFieldValue(32)),this.bsToDate=this.helpersService.getDate(this.getExtraFieldValue(33))}catch(t){}}getNextPrivateNumber(){this.requestService.getNextPrivateNumber().subscribe(e=>{this.newObj.request.requsetPrivateNumber=e},e=>{this.alertify.error(e)})}getEmptyObject(){const e={request:{requestID:this.sharedService.getRandomNumber(),requsetPrivateNumber:null,employeeID:null,requestTypeID:null,statusCode:null,createdBy:null},requestExtraFields:[],requestStages:[]};return e.requestStages[0]=new l,e.requestStages[0].actionCode=y.a.NewRequest,e.requestStages[0].stageTypeID=1,e.requestStages[0].userID=this.authService.logginUserID(),e.requestStages[0].justification=void 0,e}addUpdateExtraField(e,t){var i=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1==i){var a=new o;a.requestExtraFieldID=-Math.floor(this.newObj.requestExtraFields.length+1),a.extraFieldTypeID=e,a.value=t,a.requestID=this.requestID,this.newObj.requestExtraFields.push(a)}else this.newObj.requestExtraFields[i].value=t}getExtraFieldValue(e){var t=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1!=t)return this.newObj.requestExtraFields[t].value}employeeSelect(e){this.employeeID=e}dateRangeChange(e,t){if(this.days=0,e.value&&t.value){const e=E(this.bsFromDate).format("DD/MM/YYYY"),t=E(this.bsToDate).format("DD/MM/YYYY");this.days=this.helpersService.dayDiff(e,t)}}VISATypeselectedValue(e){this.typeVisa=e.source.triggerValue}ReasonselectedValue(e){this.reason=e.source.triggerValue}uploadFinished(e){if(null!=e){var t=new q.a;t.attachmentID=+e,t.referenceID=this.requestID,t.fileName="fileName",t.fileType="fileType",null==this.newObj.attachments&&(this.newObj.attachments=this.attachment),this.newObj.attachments.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(f.bc(D.c),f.bc(v),f.bc(D.b),f.bc(D.d),f.bc(N.a),f.bc(D.a),f.bc(F.c))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-exitReEntryVisa"]],viewQuery:function(e,t){if(1&e&&(f.jd(ei,!0),f.jd(I.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.heroForm=e.first),f.Pc(e=f.qc())&&(t.actionBar=e.first)}},decls:69,vars:56,consts:[[1,"p-0"],[1,""],[3,"disabled","referenceID","showPrint","newAction","editAction","saveAction","deleteAction","cancelAction","onUploadFinishedFire"],["novalidate","",3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[3,"empoyeeList","employee","editMode","employeeSelect"],["appearance","fill",1,"full-width"],["required","","name","VISAType","id","VISAType",3,"disabled","ngModel","selectionChange","ngModelChange"],["refVISAType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-error-msg",4,"ngIf"],["appearance","full-width","appearance","fill"],["required","",3,"min","rangePicker"],["matStartDate","","id","fromDate","name","FromDate","required","","placeholder","Start date",3,"ngModel","disabled","min","max","ngModelChange"],["refFromDate","ngModel"],["matEndDate","","id","toDate","name","ToDate","required","","placeholder","End date",3,"ngModel","min","max","disabled","ngModelChange","dateChange"],["refToDate","ngModel"],["matSuffix","",3,"for"],["picker",""],["matInput","","name","requsetPrivateNumber","id","requsetPrivateNumber",3,"placeholder","disabled","ngModel","ngModelChange"],["required","","name","Reason","id","Reason",3,"disabled","ngModel","selectionChange","ngModelChange"],["refReason","ngModel"],["matInput","","type","number","name","Days","id","Days","required","",3,"placeholder","ngModel","disabled","ngModelChange"],["refDays","ngModel"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],["matInput","","id","textarea-input","rows","2","name","Justification","maxlength","500","id","Justification","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["refJustification","ngModel"],[3,"value"],[1,"form-error-msg"],[3,"hidden"]],template:function(e,t){if(1&e){const e=f.ic();f.hc(0,"mat-card",0),f.hc(1,"mat-card-title",1),f.cc(2,"mat-divider"),f.hc(3,"actionBar",2),f.pc("newAction",function(){return t.newClick()})("editAction",function(){return t.edit()})("saveAction",function(){return t.save()})("deleteAction",function(){return t.delete()})("cancelAction",function(){return t.reset()})("onUploadFinishedFire",function(e){return t.uploadFinished(e)}),f.gc(),f.cc(4,"mat-divider"),f.gc(),f.hc(5,"mat-card-content"),f.hc(6,"form",3,4),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(8,"div",5),f.hc(9,"div",6),f.hc(10,"div",7),f.hc(11,"employeeList",8),f.pc("employeeSelect",function(e){return t.employeeSelect(e)}),f.gc(),f.gc(),f.hc(12,"div",7),f.hc(13,"mat-form-field",9),f.hc(14,"mat-label"),f.fd(15),f.uc(16,"translate"),f.gc(),f.hc(17,"mat-select",10,11),f.pc("selectionChange",function(e){return t.VISATypeselectedValue(e)})("ngModelChange",function(e){return t.typeVisaCode=e}),f.dd(19,ti,2,2,"mat-option",12),f.gc(),f.dd(20,ii,4,4,"small",13),f.gc(),f.gc(),f.hc(21,"div",7),f.hc(22,"mat-form-field",14),f.hc(23,"mat-label"),f.fd(24),f.uc(25,"translate"),f.gc(),f.hc(26,"mat-date-range-input",15),f.hc(27,"input",16,17),f.pc("ngModelChange",function(e){return t.bsFromDate=e}),f.gc(),f.hc(29,"input",18,19),f.pc("ngModelChange",function(e){return t.bsToDate=e})("dateChange",function(){f.Uc(e);const i=f.Qc(28),a=f.Qc(30);return t.dateRangeChange(i,a)}),f.gc(),f.gc(),f.cc(31,"mat-datepicker-toggle",20),f.cc(32,"mat-date-range-picker",null,21),f.gc(),f.dd(34,ai,4,4,"small",13),f.dd(35,ri,4,4,"small",13),f.gc(),f.gc(),f.hc(36,"div",6),f.hc(37,"div",7),f.hc(38,"mat-form-field",9),f.hc(39,"input",22),f.pc("ngModelChange",function(e){return t.newObj.request.requsetPrivateNumber=e}),f.uc(40,"translate"),f.gc(),f.gc(),f.gc(),f.hc(41,"div",7),f.hc(42,"mat-form-field",9),f.hc(43,"mat-label"),f.fd(44),f.uc(45,"translate"),f.gc(),f.hc(46,"mat-select",23,24),f.pc("selectionChange",function(e){return t.ReasonselectedValue(e)})("ngModelChange",function(e){return t.reasonCode=e}),f.dd(48,si,2,2,"mat-option",12),f.gc(),f.dd(49,ci,4,4,"small",13),f.gc(),f.gc(),f.hc(50,"div",7),f.hc(51,"mat-form-field",9),f.hc(52,"mat-label"),f.fd(53),f.uc(54,"translate"),f.gc(),f.hc(55,"input",25,26),f.pc("ngModelChange",function(e){return t.days=e}),f.uc(57,"translate"),f.gc(),f.dd(58,ni,4,4,"small",13),f.gc(),f.gc(),f.gc(),f.hc(59,"div",27),f.hc(60,"div",7),f.hc(61,"mat-form-field",9),f.hc(62,"mat-label"),f.fd(63),f.uc(64,"translate"),f.gc(),f.hc(65,"textarea",28,29),f.pc("ngModelChange",function(e){return t.justification=e}),f.fd(67,"                          "),f.gc(),f.dd(68,oi,4,4,"small",13),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc()}if(2&e){const e=f.Qc(7),i=f.Qc(18),a=f.Qc(28),r=f.Qc(30),s=f.Qc(33),c=f.Qc(47),n=f.Qc(56),o=f.Qc(66);f.Nb(3),f.Bc("disabled",!e.form.valid)("referenceID",t.requestID)("showPrint",!1),f.Nb(8),f.Bc("empoyeeList",t.empoyeeList)("employee",t.employeeID)("editMode",!0),f.Nb(4),f.hd("",f.vc(16,42,"VISA_TYPE")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.typeVisaCode),f.Nb(2),f.Bc("ngForOf",t.visaTypeList),f.Nb(1),f.Bc("ngIf",!i.valid&&(i.dirty||i.touched)&&!t.editMode),f.Nb(4),f.hd(" ",f.vc(25,44,"VISA_DATE")," "),f.Nb(2),f.Bc("min",t.minFromDate)("rangePicker",s),f.Nb(1),f.Bc("ngModel",t.bsFromDate)("disabled",t.editMode)("min",t.minFromDate)("max",t.maxToDate),f.Nb(2),f.Bc("ngModel",t.bsToDate)("min",t.minFromDate)("max",t.maxToDate)("disabled",t.editMode),f.Nb(2),f.Bc("for",s),f.Nb(3),f.Bc("ngIf",!a.valid&&(a.dirty||a.touched)&&!t.editMode),f.Nb(1),f.Bc("ngIf",!r.valid&&(r.dirty||r.touched)&&!t.editMode),f.Nb(4),f.Dc("placeholder"," ",f.vc(40,46,"ORDER_NUMBER")," "),f.Bc("disabled",!0)("ngModel",t.newObj.request.requsetPrivateNumber),f.Nb(5),f.hd("",f.vc(45,48,"REASON")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.reasonCode),f.Nb(2),f.Bc("ngForOf",t.reasonTypeList),f.Nb(1),f.Bc("ngIf",!c.valid&&(c.dirty||c.touched)&&!t.editMode),f.Nb(4),f.hd("",f.vc(54,50,"COUNT_DAYS")," "),f.Nb(2),f.Dc("placeholder"," ",f.vc(57,52,"COUNT_DAYS")," "),f.Bc("ngModel",t.days)("disabled",!0),f.Nb(3),f.Bc("ngIf",!n.valid&&(n.dirty||n.touched)&&!t.editMode),f.Nb(5),f.hd("",f.vc(64,54,"JUSTIFICATION")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.justification),f.Nb(3),f.Bc("ngIf",!o.valid&&(o.dirty||o.touched)&&!t.editMode)}},directives:[M.a,M.i,O.a,I.a,M.d,S.D,S.s,S.t,C.d,C.b,x.a,w.c,w.g,T.a,S.z,S.r,S.u,c.p,c.q,R.a,R.h,S.c,R.g,R.f,w.i,R.b,_.b,S.w,S.m,F.o],pipes:[j.c],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}#FromDate[_ngcontent-%COMP%], #requestID[_ngcontent-%COMP%], .egret-navy[_ngcontent-%COMP%]   .mat-select-disabled[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{padding-bottom:25px}#requsetPrivateNumber[_ngcontent-%COMP%]{color:red}"]}),e})();const li=["heroForm"];function hi(e,t){if(1&e&&(f.hc(0,"small",20),f.hc(1,"small",21),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(18);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}function ui(e,t){if(1&e&&(f.hc(0,"small",20),f.hc(1,"small",21),f.fd(2),f.uc(3,"translate"),f.gc(),f.gc()),2&e){f.tc();const e=f.Qc(35);f.Nb(1),f.Bc("hidden",!e.errors.required),f.Nb(1),f.hd(" ",f.vc(3,2,"FILED_IS_REQUIRED")," ")}}const mi=[{path:"",data:{title:"My Orders",breadcrumb:"MY_ORDERS",OperationCode:"HTC02"},children:[{path:"MyOrders",component:je,data:{title:"My Orders",breadcrumb:"MY_ORDERS",OperationCode:"HTC06"}},{path:"ApprovalOrders",component:dt,data:{title:"Approval of Orders",breadcrumb:"APPROVAL_ORDERS",OperationCode:"HTC07"}}]},{path:"NewOrders",component:Ft,data:{title:"OrderDashBoardComponent",breadcrumb:"NEW_ORDER",OperationCode:"HTC08"}},{path:"NewOrders",data:{title:"NewOrders ",breadcrumb:"NEW_ORDER",OperationCode:"HTC08"},children:[{path:"Amendment",data:{title:"Amendment",breadcrumb:"AMENDMENT",OperationCode:"HTC09"},children:[{path:"",component:Dt},{path:":RequestID",component:Dt}]},{path:"ChangeHousing",data:{title:"ChangeHousing",breadcrumb:"CHANGE_HOUSING",OperationCode:"HTC10"},children:[{path:"",component:wt},{path:":RequestID",component:wt}]},{path:"Leave",data:{title:"Leave",breadcrumb:"LEAVE",OperationCode:"HTC11"},children:[{path:"",component:Ht},{path:":RequestID",component:Ht}]},{path:"Loan",data:{title:"Loan",breadcrumb:"LOAN",OperationCode:"HTC12"},children:[{path:"",component:ne},{path:":RequestID",component:ne}]},{path:"EOS",data:{title:"END_OF_SERVICE",breadcrumb:"END_OF_SERVICE",OperationCode:"HTC13"},children:[{path:"",component:Zt},{path:":RequestID",component:Zt}]},{path:"ExitReEntryVisa",data:{title:"EXIT_REENTRY_VISA",breadcrumb:"EXIT_REENTRY_VISA",OperationCode:"HTC14"},children:[{path:"",component:di},{path:":RequestID",component:di}]},{path:"Clearance",data:{title:"EMPLOYEE_CLEARANCE",breadcrumb:"EMPLOYEE_CLEARANCE",OperationCode:"HTC15"},children:[{path:"",component:z},{path:":RequestID",component:z}]},{path:"Complaint",data:{title:"COMPLAINT",breadcrumb:"COMPLAINT",OperationCode:"HTC17"},children:[{path:"",component:(()=>{class e{constructor(e,t,i,a,r,s,c){this.sharedService=e,this.requestService=t,this.authService=i,this.helpersService=a,this._avRoute=r,this.alertify=s,this.dateAdapter=c,this.request=new n,this.bsFromDate=new Date,this.attachment=[],this.extraFiled=[],this.editMode=!0,this.title="New",this.isAdmin=!1,this._avRoute.snapshot.params.RequestID&&(this.requestID=this._avRoute.snapshot.params.RequestID),this.dateAdapter.setLocale("en-GB")}ngOnInit(){this.loadEmployees(),this.newObj=this.getEmptyObject(),this.requestID>0&&(this.title="Edit",this.loadRequest(this.requestID)),this.isAdmin=this.authService.isAdminUser}onSubmit(){}newClick(){this.heroForm.reset(),this.editMode=!1,this.employeeID=this.authService.logginEmployeeId(),this.newObj=this.getEmptyObject(),this.getNextPrivateNumber(),this.requestID=this.newObj.request.requestID,this.newObj.request.requestTypeID=y.c.ChangeHousing,this.newObj.request.statusCode=y.b.NewRequest,this.authService.currentUserName.subscribe(e=>{this.newObj.request.createdBy=e}),this.newObj.request.employeeID=this.authService.logginEmployeeId()}edit(){this.editMode=!1}save(){if(this.findInvalidControls(),this.heroForm.valid){var e=E(this.bsFromDate).format("DD/MM/YYYY");if(!this.sharedService.isCheckDateFormat(e))return void this.alertify.error("FORMATE_DATE_ISNOT_CORRECT");this.addUpdateExtraField(83,e),this.addUpdateExtraField(84,this.justification),this.requestService.saveRequest(this.newObj).subscribe(e=>{this.alertify.success("SAVED_SUCCESSFULLY"),this.heroForm.reset(),this.newObj=e,this.requestID=this.newObj.requestID,this.loadRequest(this.requestID),this.editMode=!0,this.actionBar.editMode()},e=>{this.alertify.error(e)})}}delete(){this.requestID>0&&this.alertify.confirm("DO_YOU_WANT_DELETE_ORDER",()=>{this.requestService.deleteRequest(this.requestID).subscribe(e=>{this.alertify.success("DELETED_SUCCESSFULLY"),this.reset(),this.actionBar.queryMode()},e=>{this.alertify.error(e)})})}findInvalidControls(){const e=this.heroForm.controls;for(const t in e)e[t].invalid&&this.heroForm.controls[t].markAsTouched({onlySelf:!0})}reset(){this.editMode=!0,this.heroForm.reset()}loadEmployees(){this.sharedService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}loadRequest(e){this.newObj=this.getEmptyObject(),this.requestService.getRequest(e).subscribe(e=>{this.bindData(e),this.actionBar&&this.actionBar.editMode()},e=>{this.alertify.error(e)})}bindData(e){this.newObj.request=e.request,this.newObj.requestStages=e.requestStages,this.newObj.requestExtraFields=e.requestExtraFields,this.requestID=this.newObj.request.requestID,this.employeeID=this.newObj.request.employeeID;try{this.bsFromDate=this.helpersService.getDate(this.getExtraFieldValue(83)),this.justification=this.getExtraFieldValue(84)}catch(t){}}getNextPrivateNumber(){this.requestService.getNextPrivateNumber().subscribe(e=>{this.newObj.request.requsetPrivateNumber=e},e=>{this.alertify.error(e)})}getEmptyObject(){const e={request:{requestID:this.sharedService.getRandomNumber(),requsetPrivateNumber:null,employeeID:null,requestTypeID:null,statusCode:null,createdBy:null},requestExtraFields:[],requestStages:[]},t=new Date;return this.bsFromDate=t,e.requestStages[0]=new l,e.requestStages[0].actionCode=y.a.NewRequest,e.requestStages[0].stageTypeID=1,e.requestStages[0].userID=this.authService.logginUserID(),e.requestStages[0].justification=void 0,e}addUpdateExtraField(e,t){var i=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1==i){var a=new o;a.requestExtraFieldID=-Math.floor(this.newObj.requestExtraFields.length+1),a.extraFieldTypeID=e,a.value=t,a.requestID=this.requestID,this.newObj.requestExtraFields.push(a)}else this.newObj.requestExtraFields[i].value=t}getExtraFieldValue(e){var t=this.newObj.requestExtraFields.findIndex(t=>t.extraFieldTypeID==e);if(-1!=t)return this.newObj.requestExtraFields[t].value}employeeSelect(e){this.employeeID=e}uploadFinished(e){if(null!=e){var t=new q.a;t.attachmentID=+e,t.referenceID=this.requestID,t.fileName="fileName",t.fileType="fileType",null==this.newObj.attachments&&(this.newObj.attachments=this.attachment),this.newObj.attachments.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(f.bc(D.c),f.bc(v),f.bc(D.b),f.bc(D.d),f.bc(N.a),f.bc(D.a),f.bc(F.c))},e.\u0275cmp=f.Vb({type:e,selectors:[["app-complaint"]],viewQuery:function(e,t){if(1&e&&(f.jd(li,!0),f.jd(I.a,!0)),2&e){let e;f.Pc(e=f.qc())&&(t.heroForm=e.first),f.Pc(e=f.qc())&&(t.actionBar=e.first)}},decls:38,vars:25,consts:[[1,"p-0"],[1,""],[3,"disabled","referenceID","showPrint","newAction","editAction","saveAction","deleteAction","cancelAction","onUploadFinishedFire"],["novalidate","",3,"ngSubmit"],["heroForm","ngForm"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[3,"empoyeeList","employee","editMode","employeeSelect"],["appearance","fill",1,"full-width"],["matInput","","name","FromDate","id","FromDate","required","",3,"ngModel","disabled","matDatepicker","ngModelChange"],["refFromDate","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["appDatepicker",""],["class","form-error-msg",4,"ngIf"],["matInput","","name","requsetPrivateNumber","id","requsetPrivateNumber",3,"placeholder","disabled","ngModel","ngModelChange"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],["matInput","","id","textarea-input","rows","2","name","Justification","maxlength","500","id","Justification","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["refJustification","ngModel"],[1,"form-error-msg"],[3,"hidden"]],template:function(e,t){if(1&e&&(f.hc(0,"mat-card",0),f.hc(1,"mat-card-title",1),f.cc(2,"mat-divider"),f.hc(3,"actionBar",2),f.pc("newAction",function(){return t.newClick()})("editAction",function(){return t.edit()})("saveAction",function(){return t.save()})("deleteAction",function(){return t.delete()})("cancelAction",function(){return t.reset()})("onUploadFinishedFire",function(e){return t.uploadFinished(e)}),f.gc(),f.cc(4,"mat-divider"),f.gc(),f.hc(5,"mat-card-content"),f.hc(6,"form",3,4),f.pc("ngSubmit",function(){return t.onSubmit()}),f.hc(8,"div",5),f.hc(9,"div",6),f.hc(10,"div",7),f.hc(11,"employeeList",8),f.pc("employeeSelect",function(e){return t.employeeSelect(e)}),f.gc(),f.gc(),f.hc(12,"div",7),f.hc(13,"mat-form-field",9),f.hc(14,"mat-label"),f.fd(15),f.uc(16,"translate"),f.gc(),f.hc(17,"input",10,11),f.pc("ngModelChange",function(e){return t.bsFromDate=e}),f.gc(),f.cc(19,"mat-datepicker-toggle",12),f.cc(20,"mat-datepicker",13,14),f.gc(),f.dd(22,hi,4,4,"small",15),f.gc(),f.gc(),f.hc(23,"div",6),f.hc(24,"div",7),f.hc(25,"mat-form-field",9),f.hc(26,"input",16),f.pc("ngModelChange",function(e){return t.newObj.request.requsetPrivateNumber=e}),f.uc(27,"translate"),f.gc(),f.gc(),f.gc(),f.gc(),f.hc(28,"div",17),f.hc(29,"div",7),f.hc(30,"mat-form-field",9),f.hc(31,"mat-label"),f.fd(32),f.uc(33,"translate"),f.gc(),f.hc(34,"textarea",18,19),f.pc("ngModelChange",function(e){return t.justification=e}),f.fd(36,"                          "),f.gc(),f.dd(37,ui,4,4,"small",15),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc(),f.gc()),2&e){const e=f.Qc(7),i=f.Qc(18),a=f.Qc(21),r=f.Qc(35);f.Nb(3),f.Bc("disabled",!e.form.valid)("referenceID",t.requestID)("showPrint",!1),f.Nb(8),f.Bc("empoyeeList",t.empoyeeList)("employee",t.employeeID)("editMode",!0),f.Nb(4),f.hd(" ",f.vc(16,19,"FROM_DATE")," "),f.Nb(2),f.Bc("ngModel",t.bsFromDate)("disabled",t.editMode)("matDatepicker",a),f.Nb(2),f.Bc("for",a),f.Nb(3),f.Bc("ngIf",!i.valid&&(i.dirty||i.touched)&&!t.editMode),f.Nb(4),f.Dc("placeholder"," ",f.vc(27,21,"ORDER_NUMBER")," "),f.Bc("disabled",!0)("ngModel",t.newObj.request.requsetPrivateNumber),f.Nb(6),f.hd("",f.vc(33,23,"COMPLAIN_TEXT")," "),f.Nb(2),f.Bc("disabled",t.editMode)("ngModel",t.justification),f.Nb(3),f.Bc("ngIf",!r.valid&&(r.dirty||r.touched)&&!t.editMode)}},directives:[M.a,M.i,O.a,I.a,M.d,S.D,S.s,S.t,C.d,C.b,x.a,w.c,w.g,_.b,S.c,R.d,S.z,S.r,S.u,R.f,w.i,R.c,c.q,S.m],pipes:[j.c],styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}mat-label[_ngcontent-%COMP%], mat-radio-button[_ngcontent-%COMP%]{margin:0 10px}#FromDate[_ngcontent-%COMP%], #requestID[_ngcontent-%COMP%], .egret-navy[_ngcontent-%COMP%]   .mat-select-disabled[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#000!important}mat-card-title[_ngcontent-%COMP%]{padding-bottom:25px}"]}),e})()},{path:":RequestID",component:z}]},{path:"RemoteWork",data:{title:"REMOTE_WORK",breadcrumb:"REMOTE_WORK",OperationCode:"HTC28"},children:[{path:"",component:k},{path:":RequestID",component:k}]}]}];let gi=(()=>{class e{}return e.\u0275mod=f.Zb({type:e}),e.\u0275inj=f.Yb({factory:function(t){return new(t||e)},imports:[[N.k.forChild(mi)],N.k]}),e})();var bi=i("oTcB"),pi=i("hzfI"),fi=i("pMoy"),vi=i("u9T3"),Di=i("WFH3"),qi=i("PCNd");let yi=(()=>{class e{}return e.\u0275mod=f.Zb({type:e}),e.\u0275inj=f.Yb({factory:function(t){return new(t||e)},providers:[v,j.d,{provide:F.f,useValue:"en-GB"}],imports:[[c.c,S.l,S.y,gi,r.a.forRoot(),a.a.forRoot(),s.a.forRoot(),he.c,qt.e,bi.a,pi.e,de.b,le.c,oe.p,Ze.e,_.c,fi.b,ue.c,M.g,ge.b,O.b,vi.a,j.b,qi.a,M.g,w.e,R.e,T.b,lt.b,me.e,Di.a]]}),e})()}}]);