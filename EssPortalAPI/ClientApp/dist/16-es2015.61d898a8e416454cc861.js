(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Kfgm:function(e,t,a){"use strict";a.r(t),a.d(t,"AdminAreaModule",function(){return Pt});var c=a("7dP1"),r=a("SuSE");class o{}class s{}var i=a("qc5V"),n=a("z6cu"),l=a("UXun"),d=a("JIr8"),m=a("8Y7J");let h=(()=>{class e{constructor(e){this.apiService=e}GetAllUsers(){return this.apiService.get("User").pipe(Object(l.a)(),Object(d.a)(this.handleError))}GetUserId(e){return this.apiService.get("User/"+e).pipe(Object(l.a)(),Object(d.a)(this.handleError))}GetAllAssignedRoles(){return this.apiService.get("AssignRoles").pipe(Object(l.a)(),Object(d.a)(this.handleError))}GetAllRole(){return this.apiService.get("CreateRole").pipe(Object(l.a)(),Object(d.a)(this.handleError))}GetPurchasesStageType(){return this.apiService.get("PurchasesStageType").pipe(Object(l.a)(),Object(d.a)(this.handleError))}SaveUser(e){return this.apiService.post("User/register",e).pipe(Object(d.a)(this.handleError))}AssignRole(e){return this.apiService.post("AssignRoles",e).pipe(Object(l.a)(),Object(d.a)(this.handleError))}UpdateUser(e){return this.apiService.put("User/"+e.userId,e).pipe(Object(d.a)(this.handleError))}UpdateUserStatus(e,t){return this.apiService.post(`User/${e}/UpdateStauts/${t}`,{}).pipe(Object(d.a)(this.handleError))}ResetUserPassword(e){return this.apiService.put("User/ResetPassword/"+e,{}).pipe(Object(d.a)(this.handleError))}UpdatePurchasesStageType(e){return this.apiService.put("PurchasesStageType",e).pipe(Object(d.a)(this.handleError))}RemoveRole(e){return this.apiService.post("RemoveRole",e).pipe(Object(l.a)(),Object(d.a)(this.handleError))}DeleteUser(e){return this.apiService.delete("User/"+e).pipe(Object(d.a)(this.handleError))}GetOperationWithPermission(){return this.apiService.get("Operation").pipe(Object(l.a)(),Object(d.a)(this.handleError))}SavePermission(e){return this.apiService.post("Operation",e).pipe(Object(l.a)(),Object(d.a)(this.handleError))}DeletePermission(e){return this.apiService.post("Operation/DeletePermission",e).pipe(Object(l.a)(),Object(d.a)(this.handleError))}handleError(e){return e.error instanceof ErrorEvent?(console.error("An error occurred:",e.error.message),Object(n.a)(e.error.message)):(console.error(`Backend returned code ${e.status}, body was: ${e.error} `),Object(n.a)(e))}}return e.\u0275fac=function(t){return new(t||e)(m.lc(i.a))},e.\u0275prov=m.Xb({token:e,factory:e.\u0275fac}),e})();var u=a("LUZP"),f=a("iInd"),p=a("PDjf"),g=a("BSbQ"),b=a("VDRc"),v=a("Q2Ze"),N=a("ZTz/"),E=a("s7LF"),I=a("SVse"),S=a("OaSA"),w=a("5QHs"),y=a("UhP/"),C=a("pMoy"),D=a("TSSN");const U=["paginator1"];function R(e,t){if(1&e&&(m.hc(0,"mat-option",26),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Bc("value",e.roleId),m.Nb(1),m.hd(" ",e.roleName," ")}}function P(e,t){1&e&&(m.hc(0,"mat-header-cell",27),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"INDEX")," "))}function F(e,t){if(1&e&&(m.hc(0,"mat-cell"),m.fd(1),m.gc()),2&e){const e=t.index;m.Nb(1),m.gd(e+1)}}function B(e,t){1&e&&(m.hc(0,"mat-header-cell",28),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"OPERATION_NAME")," "))}function A(e,t){if(1&e&&(m.hc(0,"mat-cell",29),m.fd(1),m.gc()),2&e){const e=t.$implicit,a=m.tc();m.Nb(1),m.hd(" ","1"==a.authService.currentLang?e.operationNameEn:e.operationNameAr," ")}}function x(e,t){1&e&&(m.hc(0,"mat-header-cell"),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.gd(m.vc(2,1,"ACTIVE")))}function O(e,t){if(1&e){const e=m.ic();m.hc(0,"mat-cell",30),m.hc(1,"mat-checkbox",31),m.pc("change",function(){m.Uc(e);const a=t.$implicit;return m.tc().changeStatus(a.operationID,!a.check)}),m.gc(),m.gc()}if(2&e){const e=t.$implicit;m.ad("color",e.color),m.Nb(1),m.Bc("checked",e.check)}}function M(e,t){1&e&&m.cc(0,"mat-header-row")}function L(e,t){1&e&&m.cc(0,"mat-row")}const _=function(){return[10,25,100]};let q=(()=>{class e{constructor(e,t,a,c){this.adminService=e,this._Route=t,this.authService=a,this.alertify=c,this.permission={operationPermissionID:-1,operationID:null,roleId:null},this.displayedColumns1=["index","operationName","active"],this._adminService=e}ngOnInit(){this.loadRolesType()}loadRolesType(){this.adminService.GetAllRole().subscribe(e=>{this.RoleTypeList=e.filter(e=>"ADMIN"!=e.roleName.toUpperCase())},e=>{this.alertify.error(e)})}loadPermission(){this.adminService.GetOperationWithPermission().subscribe(e=>{this.DataSource1=e.filter(e=>1==e.isNeedPermission&&(e.roleId==this.permission.roleId||-1==e.roleId))},e=>{this.alertify.error(e)})}SelectRole(){this.loadPermission()}changeStatus(e,t){this.permission.operationID=e,t?this.adminService.SavePermission(this.permission).subscribe(e=>{this.loadPermission()},e=>{this.alertify.error(e)}):this.adminService.DeletePermission(this.permission).subscribe(e=>{this.loadPermission()},e=>{this.alertify.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(m.bc(h),m.bc(f.g),m.bc(c.a),m.bc(r.a))},e.\u0275cmp=m.Vb({type:e,selectors:[["app-permission-operation"]],viewQuery:function(e,t){if(1&e&&(m.jd(U,!0),m.jd(u.a,!0)),2&e){let e;m.Pc(e=m.qc())&&(t.paginator1=e.first),m.Pc(e=m.qc())&&(t.sort1=e.first)}},decls:32,vars:13,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"pb-16"],[1,"full-width"],["name","roleId","required","",3,"ngModel","placeholder","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],[1,"ml-8","mr-8","mt-8","pb-16"],[1,"mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","index"],["class","w-75",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","operationName"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","operationName",4,"matCellDef"],["matColumnDef","active"],[4,"matHeaderCellDef"],["data-label","color",3,"color",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["paginator1",""],[3,"value"],[1,"w-75"],["mat-sort-header",""],["data-label","operationName"],["data-label","color"],[3,"checked","change"]],template:function(e,t){1&e&&(m.hc(0,"mat-card",0),m.hc(1,"mat-card-title",1),m.hc(2,"div",2),m.fd(3),m.uc(4,"translate"),m.gc(),m.cc(5,"mat-divider"),m.gc(),m.hc(6,"mat-card-content"),m.hc(7,"div",3),m.hc(8,"div",4),m.hc(9,"div",5),m.hc(10,"mat-form-field",6),m.hc(11,"mat-select",7),m.pc("ngModelChange",function(e){return t.permission.roleId=e})("selectionChange",function(){return t.SelectRole()}),m.uc(12,"translate"),m.dd(13,R,2,2,"mat-option",8),m.gc(),m.gc(),m.gc(),m.gc(),m.gc(),m.hc(14,"div",3),m.hc(15,"div",9),m.hc(16,"div",10),m.hc(17,"div",11),m.hc(18,"mat-table",12),m.fc(19,13),m.dd(20,P,3,3,"mat-header-cell",14),m.dd(21,F,2,1,"mat-cell",15),m.ec(),m.fc(22,16),m.dd(23,B,3,3,"mat-header-cell",17),m.dd(24,A,2,1,"mat-cell",18),m.ec(),m.fc(25,19),m.dd(26,x,3,3,"mat-header-cell",20),m.dd(27,O,2,3,"mat-cell",21),m.ec(),m.dd(28,M,1,0,"mat-header-row",22),m.dd(29,L,1,0,"mat-row",23),m.gc(),m.cc(30,"mat-paginator",24,25),m.gc(),m.gc(),m.gc(),m.gc(),m.gc(),m.gc()),2&e&&(m.Nb(3),m.hd(" ",m.vc(4,8,"USER_ROLES")," "),m.Nb(8),m.Cc("placeholder",m.vc(12,10,"PLEASE_SELECT_ROLE")),m.Bc("ngModel",t.permission.roleId),m.Nb(2),m.Bc("ngForOf",t.RoleTypeList),m.Nb(5),m.Bc("dataSource",t.DataSource1),m.Nb(10),m.Bc("matHeaderRowDef",t.displayedColumns1),m.Nb(1),m.Bc("matRowDefColumns",t.displayedColumns1),m.Nb(1),m.Bc("pageSizeOptions",m.Gc(12,_)))},directives:[p.a,p.i,g.a,p.d,b.d,b.b,v.c,N.a,E.z,E.r,E.u,I.p,S.n,u.a,S.c,S.i,S.b,S.k,S.m,w.a,y.o,S.h,S.a,u.b,C.a,S.j,S.l],pipes:[D.c],styles:[".mat-column-employeeNameEn[_ngcontent-%COMP%], .mat-column-fullName[_ngcontent-%COMP%]{flex:none;width:30%!important}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}"]}),e})();var j=a("Pyxo"),T=a("ey9i"),k=a("e6WT"),$=a("Dxy4");function z(e,t){if(1&e&&(m.hc(0,"mat-option",21),m.fd(1),m.gc()),2&e){const e=t.$implicit,a=m.tc();m.Bc("value",e.employeeID),m.Nb(1),m.hd(" ","1"==a.authService.currentLang?e.englishName:e.arabicName," ")}}function G(e,t){1&e&&(m.hc(0,"small",22),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED")," "))}function V(e,t){1&e&&(m.hc(0,"small",22),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED")," "))}function H(e,t){1&e&&(m.hc(0,"div"),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"PASSWORD_ERROR")," "))}function Q(e,t){1&e&&(m.hc(0,"small",22),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED")," "))}function Z(e,t){if(1&e&&(m.hc(0,"div",22),m.dd(1,H,3,3,"div",23),m.dd(2,Q,3,3,"small",10),m.gc()),2&e){const e=m.tc();m.Nb(1),m.Bc("ngIf",null==e.Password.errors?null:e.Password.errors.pattern),m.Nb(1),m.Bc("ngIf",(null==e.insertForm.controls.Password.errors?null:e.insertForm.controls.Password.errors.required)&&e.insertForm.controls.Password.touched)}}function Y(e,t){1&e&&(m.hc(0,"span"),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED")," "))}function W(e,t){1&e&&(m.hc(0,"span"),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.gd(m.vc(2,1,"PASSWORD_MUST_MATCH")))}function X(e,t){if(1&e&&(m.hc(0,"div",22),m.dd(1,Y,3,3,"span",23),m.dd(2,W,3,3,"span",23),m.gc()),2&e){const e=m.tc();m.Nb(1),m.Bc("ngIf",e.cpassword.hasError("required")),m.Nb(1),m.Bc("ngIf",e.cpassword.hasError("mustMatch"))}}function J(e,t){if(1&e&&(m.hc(0,"small",22),m.fd(1),m.gc()),2&e){const e=m.tc();m.Nb(1),m.hd(" Username require at least ",e.insertForm.controls.UserName.errors.minlength.requiredLength," characters ")}}function K(e,t){if(1&e&&(m.hc(0,"small",22),m.fd(1),m.gc()),2&e){const e=m.tc();m.Nb(1),m.hd(" Username can not contain more than ",e.insertForm.controls.UserName.errors.maxlength.requiredLength," characters ")}}function ee(e,t){1&e&&(m.hc(0,"small",22),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED")," "))}function te(e,t){1&e&&(m.hc(0,"small",22),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"INVAILD_EMAIL_ADDRESS")," "))}function ae(e,t){1&e&&(m.hc(0,"small"),m.fd(1,"Only 20 characters allowed for Contact."),m.gc())}function ce(e,t){1&e&&(m.hc(0,"small"),m.fd(1,"Atleast 8 characters needed for Contact."),m.gc())}function re(e,t){if(1&e&&(m.hc(0,"div",22),m.hc(1,"small",24),m.fd(2),m.uc(3,"translate"),m.gc(),m.dd(4,ae,2,0,"small",23),m.dd(5,ce,2,0,"small",23),m.gc()),2&e){const e=m.tc();m.Nb(1),m.Bc("hidden",!e.Contactno.errors.required),m.Nb(1),m.hd(" ",m.vc(3,4,"FILED_IS_REQUIRED")," "),m.Nb(2),m.Bc("ngIf",e.Contactno.hasError("maxlength")),m.Nb(1),m.Bc("ngIf",e.Contactno.hasError("minlength"))}}let oe=(()=>{class e{constructor(e,t,a,c,r,s){this.fb=e,this.userService=t,this.authService=a,this.alertify=c,this.EssPortalService=r,this._routeParams=s,this.UserModel=new o,this.unamePattern="^((?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])|(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[^a-zA-Z0-9])|(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[^a-zA-Z0-9])|(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^a-zA-Z0-9])).{8,}$",this.getEmployees()}ngOnInit(){this.UserName=new E.f("",[E.B.required,E.B.maxLength(50),E.B.minLength(5)]),this.FullName=new E.f("",[E.B.required]),this.Contactno=new E.f("",[E.B.required,E.B.maxLength(20),E.B.minLength(8)]),this.Password=new E.f("",[E.B.required,E.B.maxLength(20),E.B.minLength(8)]),this.cpassword=new E.f("",[E.B.required,this.MustMatch(this.Password)]),this.EmailId=new E.f("",[E.B.required,E.B.email]),this.Status=new E.f(""),this.EmployeeID=new E.f("",[E.B.required]),this.insertForm=this.fb.group({UserName:this.UserName,FullName:this.FullName,Contactno:this.Contactno,Password:this.Password,cpassword:this.cpassword,EmailId:this.EmailId,Status:this.Status,EmployeeID:this.EmployeeID}),this.insertForm.get("Status").setValue("True"),this.Id=this._routeParams.snapshot.params.UserId}MustMatch(e){return t=>e||t?t.hasError&&!e.hasError?null:e.value!==t.value?{mustMatch:!0}:null:null}getEmployees(){this.EssPortalService.getEmployees().subscribe(e=>{this.empoyeeList=e},e=>console.log(e))}onSubmit(){this.insertForm.valid&&(this.UserModel=Object.assign({},this.insertForm.value),this.userService.SaveUser(this.UserModel).subscribe(e=>{this.alertify.success("Your Registration Was successful"),this.insertForm.reset()},e=>{this.alertify.error(e)}))}}return e.\u0275fac=function(t){return new(t||e)(m.bc(E.e),m.bc(h),m.bc(c.a),m.bc(T.a),m.bc(T.c),m.bc(f.a))},e.\u0275cmp=m.Vb({type:e,selectors:[["app-dashboard"]],decls:49,vars:22,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup","ngSubmit"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[1,"full-width"],["name","Employee","id","EmployeeID","formControlName","EmployeeID",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["class","form-error-msg",4,"ngIf"],["matInput","","name","FullName","formControlName","FullName","placeholder","Full Name","value",""],["type","password","name","Password","matInput","","formControlName","Password","placeholder","Password","value","",3,"pattern"],["type","password","name","cpassword","matInput","","appEqualValidator","password","formControlName","cpassword","placeholder","Confirm Password","value",""],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","name","UserName","formControlName","UserName","placeholder","Username","value",""],["matInput","","type","email","name","EmailId","formControlName","EmailId","placeholder","Email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","value",""],["matInput","","type","tel","name","Contactno","formControlName","Contactno","placeholder","phone","value",""],[1,"pb-16","pt-8"],["name","Status","formControlName","Status",1,"pb-16"],["mat-raised-button","","color","primary","id","register","type","submit",3,"disabled"],[3,"value"],[1,"form-error-msg"],[4,"ngIf"],[3,"hidden"]],template:function(e,t){1&e&&(m.hc(0,"mat-card",0),m.hc(1,"mat-card-title",1),m.hc(2,"div",2),m.fd(3),m.uc(4,"translate"),m.gc(),m.cc(5,"mat-divider"),m.gc(),m.hc(6,"mat-card-content"),m.hc(7,"form",3),m.pc("ngSubmit",function(){return t.onSubmit()}),m.hc(8,"div",4),m.hc(9,"div",5),m.hc(10,"div",6),m.hc(11,"mat-form-field",7),m.hc(12,"mat-select",8),m.uc(13,"translate"),m.dd(14,z,2,2,"mat-option",9),m.gc(),m.dd(15,G,3,3,"small",10),m.gc(),m.gc(),m.hc(16,"div",6),m.hc(17,"mat-form-field",7),m.cc(18,"input",11),m.gc(),m.dd(19,V,3,3,"small",10),m.gc(),m.hc(20,"div",6),m.hc(21,"mat-form-field",7),m.cc(22,"input",12),m.gc(),m.dd(23,Z,3,2,"div",10),m.gc(),m.hc(24,"div",6),m.hc(25,"mat-form-field",7),m.cc(26,"input",13),m.gc(),m.dd(27,X,3,2,"div",10),m.gc(),m.gc(),m.hc(28,"div",14),m.hc(29,"div",6),m.hc(30,"mat-form-field",7),m.cc(31,"input",15),m.gc(),m.dd(32,J,2,1,"small",10),m.dd(33,K,2,1,"small",10),m.gc(),m.hc(34,"div",6),m.hc(35,"mat-form-field",7),m.cc(36,"input",16),m.gc(),m.dd(37,ee,3,3,"small",10),m.dd(38,te,3,3,"small",10),m.gc(),m.hc(39,"div",6),m.hc(40,"mat-form-field",7),m.cc(41,"input",17),m.gc(),m.dd(42,re,6,6,"div",10),m.gc(),m.hc(43,"div",18),m.hc(44,"mat-checkbox",19),m.fd(45,"Active"),m.gc(),m.gc(),m.gc(),m.gc(),m.hc(46,"button",20),m.fd(47),m.uc(48,"translate"),m.gc(),m.gc(),m.gc(),m.gc()),2&e&&(m.Nb(3),m.hd(" ",m.vc(4,16,"CREATE_USER")," "),m.Nb(4),m.Bc("formGroup",t.insertForm),m.Nb(5),m.Cc("placeholder",m.vc(13,18,"PLEASE_SELECT_EMPLOYEE")),m.Nb(2),m.Bc("ngForOf",t.empoyeeList),m.Nb(1),m.Bc("ngIf",t.insertForm.controls.EmployeeID.hasError("required")&&t.insertForm.controls.EmployeeID.touched),m.Nb(4),m.Bc("ngIf",t.insertForm.controls.FullName.hasError("required")&&t.insertForm.controls.FullName.touched),m.Nb(3),m.Bc("pattern",t.unamePattern),m.Nb(1),m.Bc("ngIf",!t.Password.valid&&(t.Password.dirty||t.Password.touched)),m.Nb(4),m.Bc("ngIf",!t.cpassword.valid&&(t.cpassword.dirty||t.cpassword.touched)),m.Nb(5),m.Bc("ngIf",t.insertForm.controls.UserName.hasError("minlength")&&t.insertForm.controls.UserName.touched),m.Nb(1),m.Bc("ngIf",t.insertForm.controls.UserName.hasError("maxlength")&&t.insertForm.controls.UserName.touched),m.Nb(4),m.Bc("ngIf",t.insertForm.controls.EmailId.hasError("required")&&t.insertForm.controls.EmailId.touched),m.Nb(1),m.Bc("ngIf",t.EmailId.errors&&t.EmailId.errors.pattern),m.Nb(4),m.Bc("ngIf",!t.Contactno.valid&&(t.Contactno.dirty||t.Contactno.touched)),m.Nb(4),m.Bc("disabled",t.insertForm.invalid),m.Nb(1),m.hd(" ",m.vc(48,20,"SAVE")," "))},directives:[p.a,p.i,g.a,p.d,E.D,E.s,E.j,b.d,b.b,v.c,N.a,E.r,E.h,I.p,I.q,k.b,E.c,E.x,C.a,$.b,y.o],pipes:[D.c],encapsulation:2}),e})();var se=a("cp0P"),ie=a("Tj54");const ne=["paginator1"],le=["paginator2"];function de(e,t){if(1&e&&(m.hc(0,"mat-option",37),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Bc("value",e.roleId),m.Nb(1),m.hd(" ",e.roleName," ")}}function me(e,t){1&e&&(m.hc(0,"small",38),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED")," "))}function he(e,t){1&e&&(m.hc(0,"mat-header-cell",39),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"INDEX")," "))}function ue(e,t){if(1&e&&(m.hc(0,"mat-cell"),m.fd(1),m.gc()),2&e){const e=t.index;m.Nb(1),m.gd(e+1)}}function fe(e,t){1&e&&(m.hc(0,"mat-header-cell",40),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"EMPLOYEENUMBER")," "))}function pe(e,t){if(1&e&&(m.hc(0,"mat-cell",41),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Nb(1),m.hd(" ",e.employeeNumber," ")}}function ge(e,t){1&e&&(m.hc(0,"mat-header-cell",40),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"EMPLOYEE_NAME")," "))}function be(e,t){if(1&e&&(m.hc(0,"mat-cell",42),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Nb(1),m.hd(" ",e.employeeNameEn," ")}}function ve(e,t){1&e&&(m.hc(0,"mat-header-cell"),m.fd(1,"Action"),m.gc())}function Ne(e,t){if(1&e){const e=m.ic();m.hc(0,"mat-cell",43),m.hc(1,"button",44),m.pc("click",function(){m.Uc(e);const a=t.$implicit;return m.tc().onAdd(a.userId)}),m.hc(2,"mat-icon"),m.fd(3,"add_circle"),m.gc(),m.gc(),m.gc()}2&e&&m.ad("color",t.$implicit.color)}function Ee(e,t){1&e&&m.cc(0,"mat-header-row")}function Ie(e,t){1&e&&m.cc(0,"mat-row")}function Se(e,t){1&e&&(m.hc(0,"mat-header-cell"),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"INDEX")," "))}function we(e,t){if(1&e&&(m.hc(0,"mat-cell"),m.fd(1),m.gc()),2&e){const e=t.index;m.Nb(1),m.gd(e+1)}}function ye(e,t){1&e&&(m.hc(0,"mat-header-cell",40),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FULLNAME")," "))}function Ce(e,t){if(1&e&&(m.hc(0,"mat-cell",45),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Nb(1),m.hd(" ",e.fullName," ")}}function De(e,t){1&e&&(m.hc(0,"mat-header-cell",40),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"USERNAME")," "))}function Ue(e,t){if(1&e&&(m.hc(0,"mat-cell",46),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Nb(1),m.hd(" ",e.userName," ")}}function Re(e,t){1&e&&(m.hc(0,"mat-header-cell",40),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"ROLENAME")," "))}function Pe(e,t){if(1&e&&(m.hc(0,"mat-cell",43),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.ad("color",e.color),m.Nb(1),m.hd(" ",e.roleName," ")}}function Fe(e,t){1&e&&(m.hc(0,"mat-header-cell"),m.fd(1,"Action"),m.gc())}function Be(e,t){if(1&e){const e=m.ic();m.hc(0,"mat-cell",43),m.hc(1,"button",47),m.pc("click",function(){m.Uc(e);const a=t.$implicit;return m.tc().onRemove(a.roleId,a.userId)}),m.hc(2,"mat-icon"),m.fd(3,"delete"),m.gc(),m.gc(),m.gc()}2&e&&m.ad("color",t.$implicit.color)}function Ae(e,t){1&e&&m.cc(0,"mat-header-row")}function xe(e,t){1&e&&m.cc(0,"mat-row")}const Oe=function(){return[10,25,100]};let Me=(()=>{class e{constructor(e,t,a,c){this.adminService=e,this._Route=t,this.authService=a,this.alertify=c,this.AssignRemoveModel=new s,this.displayedColumns1=["index","employeeNumber","employeeNameEn","action"],this.displayedColumns2=["index","fullName","userName","roleName","action"],this._adminService=e}ngOnInit(){this.loadRolesType(),this.loadData()}ngAfterViewInit(){}loadRolesType(){this._adminService.GetAllRole().subscribe(e=>{this.RoleTypeList=e.filter(e=>"ADMIN"!=e.roleName.toUpperCase())},e=>this.errorMessage=e)}loadData(){Object(se.a)([this.adminService.GetAllUsers(),this.adminService.GetAllAssignedRoles()]).subscribe(e=>{this.UserList=e[0],this.rolesDataSource=e[1],this.SelectRole()},e=>{this.alertify.error(e)})}loadUser(){this._adminService.GetAllUsers().subscribe(e=>{this.UserList=e},e=>this.errorMessage=e)}loadAllRoles(){this.adminService.GetAllAssignedRoles().subscribe(e=>{this.rolesDataSource=e},e=>{this.alertify.error(e)})}SelectRole(){if(null!=this.AssignRemoveModel.roleId){var e=this.rolesDataSource.filter(e=>e.roleId===this.AssignRemoveModel.roleId);this.DataSource2=new S.o(e),this.DataSource2.paginator=this.paginator2,this.DataSource2.sort=this.sort2;var t=[];for(let a of this.UserList)0==e.filter(e=>e.userId===a.userId).length&&t.push(a);this.DataSource1=new S.o(t),this.DataSource1.paginator=this.paginator1,this.DataSource1.sort=this.sort1}}onAdd(e){this.AssignRemoveModel.userId=e,this._adminService.AssignRole(this.AssignRemoveModel).subscribe(e=>{this.alertify.success("Role Add Successfully"),this.loadData()},e=>{this.alertify.error(e)})}onRemove(e,t){this.alertify.confirm("Are you sure you want to delete this Role?",()=>{this.AssignRemoveModel.roleId=e,this.AssignRemoveModel.userId=t,this.adminService.RemoveRole(this.AssignRemoveModel).subscribe(e=>{this.output=e,"409"==this.output.statusCode?this.alertify.error("Role does not Exists"):"200"==this.output.statusCode?(this.alertify.success("Role Removed Successfully"),this.loadData()):alert("Something Went Wrong")})})}}return e.\u0275fac=function(t){return new(t||e)(m.bc(h),m.bc(f.g),m.bc(c.a),m.bc(r.a))},e.\u0275cmp=m.Vb({type:e,selectors:[["app-Role"]],viewQuery:function(e,t){if(1&e&&(m.jd(ne,!0),m.jd(u.a,!0),m.jd(le,!0),m.jd(u.a,!0)),2&e){let e;m.Pc(e=m.qc())&&(t.paginator1=e.first),m.Pc(e=m.qc())&&(t.sort1=e.first),m.Pc(e=m.qc())&&(t.paginator2=e.first),m.Pc(e=m.qc())&&(t.sort2=e.first)}},decls:64,vars:19,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"pb-16"],[1,"full-width"],["name","roleId","required","",3,"ngModel","placeholder","ngModelChange","selectionChange"],["refRoleId","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-error-msg",4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"ml-8","mr-8","mt-8","pb-16"],[1,"mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","index"],["class","w-75",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","employeeNumber"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","employeeNumber",4,"matCellDef"],["matColumnDef","employeeNameEn"],["data-label","employeeNameEn",4,"matCellDef"],["matColumnDef","action"],[4,"matHeaderCellDef"],["data-label","color",3,"color",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["paginator1",""],[1,"example-label"],["matColumnDef","fullName"],["data-label","fullName",4,"matCellDef"],["matColumnDef","userName"],["data-label","userName",4,"matCellDef"],["matColumnDef","roleName"],["paginator2",""],[3,"value"],[1,"form-error-msg"],[1,"w-75"],["mat-sort-header",""],["data-label","employeeNumber"],["data-label","employeeNameEn"],["data-label","color"],["mat-mini-fab","","color","primary","aria-label","reset","title","Add",1,"mr-16",3,"click"],["data-label","fullName"],["data-label","userName"],["mat-icon-button","","mat-sm-button","","color","accent","aria-label","reset","title","delete",1,"mr-16",3,"click"]],template:function(e,t){if(1&e&&(m.hc(0,"mat-card",0),m.hc(1,"mat-card-title",1),m.hc(2,"div",2),m.fd(3),m.uc(4,"translate"),m.gc(),m.cc(5,"mat-divider"),m.gc(),m.hc(6,"mat-card-content"),m.hc(7,"div",3),m.hc(8,"div",4),m.hc(9,"div",5),m.hc(10,"mat-form-field",6),m.hc(11,"mat-select",7,8),m.pc("ngModelChange",function(e){return t.AssignRemoveModel.roleId=e})("selectionChange",function(){return t.SelectRole()}),m.uc(13,"translate"),m.dd(14,de,2,2,"mat-option",9),m.gc(),m.dd(15,me,3,3,"small",10),m.gc(),m.gc(),m.gc(),m.gc(),m.hc(16,"div",3),m.hc(17,"div",11),m.hc(18,"mat-label"),m.fd(19,"Filter"),m.gc(),m.hc(20,"div",12),m.hc(21,"div",13),m.hc(22,"mat-table",14),m.fc(23,15),m.dd(24,he,3,3,"mat-header-cell",16),m.dd(25,ue,2,1,"mat-cell",17),m.ec(),m.fc(26,18),m.dd(27,fe,3,3,"mat-header-cell",19),m.dd(28,pe,2,1,"mat-cell",20),m.ec(),m.fc(29,21),m.dd(30,ge,3,3,"mat-header-cell",19),m.dd(31,be,2,1,"mat-cell",22),m.ec(),m.fc(32,23),m.dd(33,ve,2,0,"mat-header-cell",24),m.dd(34,Ne,4,2,"mat-cell",25),m.ec(),m.dd(35,Ee,1,0,"mat-header-row",26),m.dd(36,Ie,1,0,"mat-row",27),m.gc(),m.cc(37,"mat-paginator",28,29),m.gc(),m.gc(),m.gc(),m.hc(39,"div",11),m.hc(40,"div",30),m.fd(41,"Basic"),m.gc(),m.hc(42,"div",12),m.hc(43,"div",13),m.hc(44,"mat-table",14),m.fc(45,15),m.dd(46,Se,3,3,"mat-header-cell",24),m.dd(47,we,2,1,"mat-cell",17),m.ec(),m.fc(48,31),m.dd(49,ye,3,3,"mat-header-cell",19),m.dd(50,Ce,2,1,"mat-cell",32),m.ec(),m.fc(51,33),m.dd(52,De,3,3,"mat-header-cell",19),m.dd(53,Ue,2,1,"mat-cell",34),m.ec(),m.fc(54,35),m.dd(55,Re,3,3,"mat-header-cell",19),m.dd(56,Pe,2,3,"mat-cell",25),m.ec(),m.fc(57,23),m.dd(58,Fe,2,0,"mat-header-cell",24),m.dd(59,Be,4,2,"mat-cell",25),m.ec(),m.dd(60,Ae,1,0,"mat-header-row",26),m.dd(61,xe,1,0,"mat-row",27),m.gc(),m.cc(62,"mat-paginator",28,36),m.gc(),m.gc(),m.gc(),m.gc(),m.gc(),m.gc()),2&e){const e=m.Qc(12);m.Nb(3),m.hd(" ",m.vc(4,13,"USER_ROLES")," "),m.Nb(8),m.Cc("placeholder",m.vc(13,15,"PLEASE_SELECT_ROLE")),m.Bc("ngModel",t.AssignRemoveModel.roleId),m.Nb(3),m.Bc("ngForOf",t.RoleTypeList),m.Nb(1),m.Bc("ngIf",!e.valid&&(e.dirty||e.touched)),m.Nb(7),m.Bc("dataSource",t.DataSource1),m.Nb(13),m.Bc("matHeaderRowDef",t.displayedColumns1),m.Nb(1),m.Bc("matRowDefColumns",t.displayedColumns1),m.Nb(1),m.Bc("pageSizeOptions",m.Gc(17,Oe)),m.Nb(7),m.Bc("dataSource",t.DataSource2),m.Nb(16),m.Bc("matHeaderRowDef",t.displayedColumns2),m.Nb(1),m.Bc("matRowDefColumns",t.displayedColumns2),m.Nb(1),m.Bc("pageSizeOptions",m.Gc(18,Oe))}},directives:[p.a,p.i,g.a,p.d,b.d,b.b,v.c,N.a,E.z,E.r,E.u,I.p,I.q,v.g,S.n,u.a,S.c,S.i,S.b,S.k,S.m,w.a,y.o,S.h,S.a,u.b,$.b,ie.a,S.j,S.l],pipes:[D.c],styles:[".mat-column-employeeNameEn[_ngcontent-%COMP%], .mat-column-fullName[_ngcontent-%COMP%]{flex:none;width:30%!important}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}"]}),e})();function Le(e,t){1&e&&(m.hc(0,"mat-header-cell"),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"INDEX")," "))}function _e(e,t){if(1&e&&(m.hc(0,"mat-cell"),m.fd(1),m.gc()),2&e){const e=t.index;m.Nb(1),m.gd(e+1)}}function qe(e,t){1&e&&(m.hc(0,"mat-header-cell",22),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"EMPLOYEENUMBER")," "))}function je(e,t){if(1&e&&(m.hc(0,"mat-cell",23),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Nb(1),m.hd(" ",e.employeeNumber," ")}}function Te(e,t){1&e&&(m.hc(0,"mat-header-cell",22),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"EMPLOYEE_NAME")," "))}function ke(e,t){if(1&e&&(m.hc(0,"mat-cell",24),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Nb(1),m.hd(" ",e.employeeNameEn," ")}}function $e(e,t){1&e&&(m.hc(0,"mat-header-cell",22),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"USERNAME")," "))}function ze(e,t){if(1&e&&(m.hc(0,"mat-cell",25),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Nb(1),m.hd(" ",e.userName," ")}}function Ge(e,t){1&e&&(m.hc(0,"mat-header-cell",22),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"EMAIL")," "))}function Ve(e,t){if(1&e&&(m.hc(0,"mat-cell",26),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.ad("color",e.color),m.Nb(1),m.hd(" ",e.emailId," ")}}function He(e,t){1&e&&(m.hc(0,"mat-header-cell"),m.fd(1,"Active"),m.gc())}function Qe(e,t){if(1&e){const e=m.ic();m.hc(0,"mat-cell",26),m.hc(1,"mat-checkbox",27),m.pc("change",function(){m.Uc(e);const a=t.$implicit;return m.tc().changeStatus(a.userId,!a.status)}),m.gc(),m.gc()}if(2&e){const e=t.$implicit;m.ad("color",e.color),m.Nb(1),m.Bc("checked",e.status)}}function Ze(e,t){1&e&&(m.hc(0,"mat-header-cell"),m.fd(1,"Action"),m.gc())}const Ye=function(e){return["/AdminArea/User/Edit",e]},We=function(){return{debug:!0}};function Xe(e,t){if(1&e){const e=m.ic();m.hc(0,"mat-cell",26),m.hc(1,"button",28),m.hc(2,"mat-icon"),m.fd(3,"edit"),m.gc(),m.gc(),m.hc(4,"button",29),m.pc("click",function(){m.Uc(e);const a=t.$implicit;return m.tc().resetPassword(a.userId)}),m.hc(5,"mat-icon"),m.fd(6,"history"),m.gc(),m.gc(),m.gc()}if(2&e){const e=t.$implicit;m.ad("color",e.color),m.Nb(1),m.Bc("routerLink",m.Hc(4,Ye,e.userId))("queryParams",m.Gc(6,We))}}function Je(e,t){1&e&&m.cc(0,"mat-header-row")}function Ke(e,t){1&e&&m.cc(0,"mat-row")}const et=function(){return[10,25,100]};let tt=(()=>{class e{constructor(e,t){this.alertify=e,this.adminService=t,this.displayedColumns=["index","employeeNumber","employeeNameEn","userName","emailId","active","action"]}ngOnInit(){this.loadUsers()}ngAfterViewInit(){}loadUsers(){this.adminService.GetAllUsers().subscribe(e=>{this.dataSource=new S.o(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},e=>{this.alertify.error(e)})}changeStatus(e,t){this.adminService.UpdateUserStatus(e,t).subscribe(e=>{},e=>{this.alertify.error(e)})}resetPassword(e){this.adminService.ResetUserPassword(e).subscribe(e=>{this.alertify.success("Password changed")},e=>{this.alertify.error(e)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}ExportTOExcel(){}}return e.\u0275fac=function(t){return new(t||e)(m.bc(T.a),m.bc(h))},e.\u0275cmp=m.Vb({type:e,selectors:[["app-ShowUser"]],viewQuery:function(e,t){if(1&e&&(m.jd(w.a,!0),m.jd(u.a,!0)),2&e){let e;m.Pc(e=m.qc())&&(t.paginator=e.first),m.Pc(e=m.qc())&&(t.sort=e.first)}},decls:32,vars:5,consts:[[1,"ml-8","mr-8","mt-8","pb-16"],[1,"mat-elevation-z8"],["matInput","","placeholder","Search",1,"full-width",3,"keyup"],["input",""],["matSort","",3,"dataSource"],["matColumnDef","index"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","employeeNumber"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","employeeNumber",4,"matCellDef"],["matColumnDef","employeeNameEn"],["data-label","employeeNameEn",4,"matCellDef"],["matColumnDef","userName"],["data-label","userName",4,"matCellDef"],["matColumnDef","emailId"],["data-label","color",3,"color",4,"matCellDef"],["matColumnDef","active"],["matColumnDef","action"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header",""],["data-label","employeeNumber"],["data-label","employeeNameEn"],["data-label","userName"],["data-label","color"],[3,"checked","change"],["mat-icon-button","","mat-sm-button","","color","primary","aria-label","reset","title","Edit",1,"mr-16",3,"routerLink","queryParams"],["mat-icon-button","","mat-sm-button","","color","accent","aria-label","reset","title","Reset Password",1,"mr-16",3,"click"]],template:function(e,t){1&e&&(m.hc(0,"div",0),m.hc(1,"div",1),m.hc(2,"mat-form-field"),m.hc(3,"mat-label"),m.fd(4,"Filter"),m.gc(),m.hc(5,"input",2,3),m.pc("keyup",function(e){return t.applyFilter(e)}),m.gc(),m.gc(),m.hc(7,"mat-table",4),m.fc(8,5),m.dd(9,Le,3,3,"mat-header-cell",6),m.dd(10,_e,2,1,"mat-cell",7),m.ec(),m.fc(11,8),m.dd(12,qe,3,3,"mat-header-cell",9),m.dd(13,je,2,1,"mat-cell",10),m.ec(),m.fc(14,11),m.dd(15,Te,3,3,"mat-header-cell",9),m.dd(16,ke,2,1,"mat-cell",12),m.ec(),m.fc(17,13),m.dd(18,$e,3,3,"mat-header-cell",9),m.dd(19,ze,2,1,"mat-cell",14),m.ec(),m.fc(20,15),m.dd(21,Ge,3,3,"mat-header-cell",9),m.dd(22,Ve,2,3,"mat-cell",16),m.ec(),m.fc(23,17),m.dd(24,He,2,0,"mat-header-cell",6),m.dd(25,Qe,2,3,"mat-cell",16),m.ec(),m.fc(26,18),m.dd(27,Ze,2,0,"mat-header-cell",6),m.dd(28,Xe,7,7,"mat-cell",16),m.ec(),m.dd(29,Je,1,0,"mat-header-row",19),m.dd(30,Ke,1,0,"mat-row",20),m.gc(),m.cc(31,"mat-paginator",21),m.gc(),m.gc()),2&e&&(m.Nb(7),m.Bc("dataSource",t.dataSource),m.Nb(22),m.Bc("matHeaderRowDef",t.displayedColumns),m.Nb(1),m.Bc("matRowDefColumns",t.displayedColumns),m.Nb(1),m.Bc("pageSizeOptions",m.Gc(4,et)))},directives:[v.c,v.g,k.b,S.n,u.a,S.c,S.i,S.b,S.k,S.m,w.a,S.h,S.a,u.b,C.a,$.b,f.h,ie.a,S.j,S.l],pipes:[D.c],styles:[".mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}"]}),e})();var at=a("hzfI");function ct(e,t){if(1&e&&m.fd(0),2&e){const e=m.tc().$implicit;m.gd(e.nameEN)}}function rt(e,t){if(1&e&&(m.hc(0,"option",21),m.fd(1),m.gc()),2&e){const e=t.$implicit;m.Bc("value",e.userId),m.Nb(1),m.hd(" ",e.employeeNameEn," ")}}function ot(e,t){if(1&e){const e=m.ic();m.hc(0,"div",17),m.hc(1,"select",18),m.pc("ngModelChange",function(t){return m.Uc(e),m.tc().$implicit.approvedID=t}),m.hc(2,"option",19),m.fd(3,"Please select User"),m.gc(),m.dd(4,rt,2,2,"option",20),m.gc(),m.gc()}if(2&e){const e=m.tc().$implicit,t=m.tc();m.Nb(1),m.Bc("ngModel",e.approvedID),m.Nb(3),m.Bc("ngForOf",t.UserModel)}}function st(e,t){1&e&&(m.hc(0,"button",22),m.fd(1,"Back"),m.gc())}function it(e,t){1&e&&(m.hc(0,"button",23),m.fd(1,"Next"),m.gc())}function nt(e,t){if(1&e&&(m.hc(0,"div"),m.hc(1,"mat-step",12),m.dd(2,ct,1,1,"ng-template",13),m.hc(3,"label"),m.fd(4,"User"),m.gc(),m.dd(5,ot,5,2,"div",14),m.hc(6,"div"),m.dd(7,st,2,0,"button",15),m.dd(8,it,2,0,"button",16),m.gc(),m.gc(),m.gc()),2&e){const e=t.$implicit;m.Nb(1),m.Bc("optional",!1),m.Nb(4),m.Bc("ngIf",4!=e.stageOrder),m.Nb(2),m.Bc("ngIf",1!=e.stageOrder),m.Nb(1),m.Bc("ngIf",5!=e.stageOrder)}}let lt=(()=>{class e{constructor(e,t){this.adminService=e,this.userService=t}ngOnInit(){this.loadUsers(),this.getPurchasesStageType()}loadUsers(){this.adminService.GetAllUsers().subscribe(e=>{this.UserModel=e},e=>console.log(e))}getPurchasesStageType(){this.userService.GetPurchasesStageType().subscribe(e=>{this.PurchasesStageType=e.filter(e=>7==e.purchasesTypeID)},e=>console.log(e))}}return e.\u0275fac=function(t){return new(t||e)(m.bc(h),m.bc(h))},e.\u0275cmp=m.Vb({type:e,selectors:[["app-Setting"]],decls:17,vars:2,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group","col-sm-6"],["for","ccyear"],[3,"linear"],["stepper",""],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-info","btn-fill","pull-right"],[3,"optional"],["matStepLabel",""],["class","form-group col-sm-4",4,"ngIf"],["mat-button","","matStepperPrevious","",4,"ngIf"],["mat-button","","matStepperNext","",4,"ngIf"],[1,"form-group","col-sm-4"],["required","","name","Employee","id","EmployeeID",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-button","","matStepperPrevious",""],["mat-button","","matStepperNext",""]],template:function(e,t){1&e&&(m.hc(0,"div",0),m.hc(1,"div",1),m.hc(2,"div",2),m.hc(3,"div",3),m.hc(4,"div",4),m.hc(5,"strong"),m.fd(6,"Setting"),m.gc(),m.gc(),m.hc(7,"div",5),m.hc(8,"div",1),m.hc(9,"div",6),m.hc(10,"label",7),m.fd(11,"Stages Item Request"),m.gc(),m.gc(),m.hc(12,"mat-horizontal-stepper",8,9),m.dd(14,nt,9,4,"div",10),m.gc(),m.gc(),m.hc(15,"button",11),m.fd(16,"Update Profile"),m.gc(),m.gc(),m.gc(),m.gc(),m.gc(),m.gc()),2&e&&(m.Nb(12),m.Bc("linear",!1),m.Nb(2),m.Bc("ngForOf",t.PurchasesStageType))},directives:[at.a,I.p,at.b,at.c,I.q,E.A,E.z,E.r,E.u,E.v,E.C,$.b,at.g,at.f],styles:[""]}),e})();function dt(e,t){if(1&e&&(m.hc(0,"small",19),m.fd(1),m.gc()),2&e){const e=m.tc();m.Nb(1),m.hd(" Username require at least ",e.updateForm.controls.UserName.errors.minlength.requiredLength," characters ")}}function mt(e,t){if(1&e&&(m.hc(0,"small",19),m.fd(1),m.gc()),2&e){const e=m.tc();m.Nb(1),m.hd(" Username can not contain more than ",e.updateForm.controls.UserName.errors.maxlength.requiredLength," characters ")}}function ht(e,t){1&e&&(m.hc(0,"small",19),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED")," "))}function ut(e,t){1&e&&(m.hc(0,"div"),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"PASSWORD_ERROR")," "))}function ft(e,t){1&e&&(m.hc(0,"small",19),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED")," "))}function pt(e,t){if(1&e&&(m.hc(0,"div",19),m.dd(1,ut,3,3,"div",20),m.dd(2,ft,3,3,"small",9),m.gc()),2&e){const e=m.tc();m.Nb(1),m.Bc("ngIf",null==e.Password.errors?null:e.Password.errors.pattern),m.Nb(1),m.Bc("ngIf",(null==e.updateForm.controls.Password.errors?null:e.updateForm.controls.Password.errors.required)&&e.updateForm.controls.Password.touched)}}function gt(e,t){1&e&&(m.hc(0,"span"),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED")," "))}function bt(e,t){1&e&&(m.hc(0,"span"),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.gd(m.vc(2,1,"PASSWORD_MUST_MATCH")))}function vt(e,t){if(1&e&&(m.hc(0,"div",19),m.dd(1,gt,3,3,"span",20),m.dd(2,bt,3,3,"span",20),m.gc()),2&e){const e=m.tc();m.Nb(1),m.Bc("ngIf",e.cpassword.hasError("required")),m.Nb(1),m.Bc("ngIf",e.cpassword.hasError("mustMatch"))}}function Nt(e,t){1&e&&(m.hc(0,"small",19),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"FILED_IS_REQUIRED"),""))}function Et(e,t){1&e&&(m.hc(0,"small",19),m.fd(1),m.uc(2,"translate"),m.gc()),2&e&&(m.Nb(1),m.hd(" ",m.vc(2,1,"INVAILD_EMAIL_ADDRESS")," "))}function It(e,t){1&e&&(m.hc(0,"small"),m.fd(1,"Only 20 characters allowed for Contact."),m.gc())}function St(e,t){1&e&&(m.hc(0,"small"),m.fd(1,"Atleast 8 characters needed for Contact."),m.gc())}function wt(e,t){if(1&e&&(m.hc(0,"div",19),m.hc(1,"small",21),m.fd(2),m.uc(3,"translate"),m.gc(),m.dd(4,It,2,0,"small",20),m.dd(5,St,2,0,"small",20),m.gc()),2&e){const e=m.tc();m.Nb(1),m.Bc("hidden",!e.Contactno.errors.required),m.Nb(1),m.hd(" ",m.vc(3,4,"FILED_IS_REQUIRED")," "),m.Nb(2),m.Bc("ngIf",e.Contactno.hasError("maxlength")),m.Nb(1),m.Bc("ngIf",e.Contactno.hasError("minlength"))}}const yt=[{path:"",canActivate:[j.a],children:[{path:"User/Add",component:oe},{path:"User/Edit/:UserId",component:(()=>{class e{constructor(e,t,a,c,r){this.fb=e,this.userService=t,this.alertify=a,this.router=c,this._routeParams=r,this.UserModel=new o,this.unamePattern="^((?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])|(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[^a-zA-Z0-9])|(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[^a-zA-Z0-9])|(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^a-zA-Z0-9])).{8,}$"}ngOnInit(){this.UserId=this._routeParams.snapshot.params.UserId,this.UserName=new E.f("",[E.B.required,E.B.maxLength(50),E.B.minLength(5)]),this.FullName=new E.f("",[E.B.required]),this.Contactno=new E.f("",[E.B.required,E.B.maxLength(15),E.B.minLength(5)]),this.Password=new E.f("",[E.B.required,E.B.maxLength(10),E.B.minLength(5)]),this.cpassword=new E.f("",[E.B.required,this.MustMatch(this.Password)]),this.EmailId=new E.f("",[E.B.required,E.B.email]),this.Status=new E.f(""),this.employeeName=new E.f(""),this.updateForm=this.fb.group({UserName:this.UserName,FullName:this.FullName,Contactno:this.Contactno,Password:this.Password,cpassword:this.cpassword,EmailId:this.EmailId,Status:this.Status,employeeName:this.employeeName}),this.userService.GetUserId(this.UserId).subscribe(e=>{this.UserModel=e,this.updateForm.setValue({employeeName:this.UserModel.employeeNameEn,UserName:this.UserModel.userName,FullName:this.UserModel.fullName,Contactno:this.UserModel.contactno,Password:"",cpassword:"",EmailId:this.UserModel.emailId,Status:this.UserModel.status})},e=>console.log(e))}onSubmit(){this.updateForm.valid&&this.cpassword.value==this.Password.value&&(this.UserModel=Object.assign({},this.updateForm.value),this.UserModel.userId=this.UserId,this.userService.UpdateUser(this.UserModel).subscribe(e=>{this.alertify.success("Your Registration Was Update"),this.router.navigate(["/AdminArea/User/AllUser"])},e=>{this.alertify.error(e)}))}MustMatch(e){return t=>e||t?t.hasError&&!e.hasError?null:e.value!==t.value?{mustMatch:!0}:null:null}}return e.\u0275fac=function(t){return new(t||e)(m.bc(E.e),m.bc(h),m.bc(T.a),m.bc(f.g),m.bc(f.a))},e.\u0275cmp=m.Vb({type:e,selectors:[["app-EditUserRegistration"]],decls:41,vars:11,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup","ngSubmit"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[1,"full-width"],["matInput","","name","UserName","formControlName","UserName","placeholder","Username (Min Length: 4, Max Length: 9)","value",""],["class","form-error-msg",4,"ngIf"],["matInput","","name","FullName","formControlName","FullName","placeholder","Full Name","value",""],["type","password","name","Password","matInput","","formControlName","Password","placeholder","Password","value","",3,"pattern"],["type","password","name","cpassword","matInput","","appEqualValidator","password","formControlName","cpassword","placeholder","Confirm Password","value",""],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","type","email","name","EmailId","formControlName","EmailId","placeholder","Your Email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","value",""],["matInput","","type","tel","name","Contactno","formControlName","Contactno","placeholder","phone","value",""],[1,"pb-16","pt-8"],["name","Status","formControlName","Status",1,"pb-16"],["mat-raised-button","","color","primary",3,"disabled"],[1,"form-error-msg"],[4,"ngIf"],[3,"hidden"]],template:function(e,t){1&e&&(m.hc(0,"mat-card",0),m.hc(1,"mat-card-title",1),m.hc(2,"div",2),m.fd(3,"Form validation"),m.gc(),m.cc(4,"mat-divider"),m.gc(),m.hc(5,"mat-card-content"),m.hc(6,"form",3),m.pc("ngSubmit",function(){return t.onSubmit()}),m.hc(7,"div",4),m.hc(8,"div",5),m.hc(9,"div",6),m.hc(10,"mat-form-field",7),m.cc(11,"input",8),m.gc(),m.dd(12,dt,2,1,"small",9),m.dd(13,mt,2,1,"small",9),m.gc(),m.hc(14,"div",6),m.hc(15,"mat-form-field",7),m.cc(16,"input",10),m.gc(),m.dd(17,ht,3,3,"small",9),m.gc(),m.hc(18,"div",6),m.hc(19,"mat-form-field",7),m.cc(20,"input",11),m.gc(),m.dd(21,pt,3,2,"div",9),m.gc(),m.hc(22,"div",6),m.hc(23,"mat-form-field",7),m.cc(24,"input",12),m.gc(),m.dd(25,vt,3,2,"div",9),m.gc(),m.gc(),m.hc(26,"div",13),m.hc(27,"div",6),m.hc(28,"mat-form-field",7),m.cc(29,"input",14),m.gc(),m.dd(30,Nt,3,3,"small",9),m.dd(31,Et,3,3,"small",9),m.gc(),m.hc(32,"div",6),m.hc(33,"mat-form-field",7),m.cc(34,"input",15),m.gc(),m.dd(35,wt,6,6,"div",9),m.gc(),m.hc(36,"div",16),m.hc(37,"mat-checkbox",17),m.fd(38,"Active"),m.gc(),m.gc(),m.gc(),m.gc(),m.hc(39,"button",18),m.fd(40,"Submit"),m.gc(),m.gc(),m.gc(),m.gc()),2&e&&(m.Nb(6),m.Bc("formGroup",t.updateForm),m.Nb(6),m.Bc("ngIf",t.updateForm.controls.UserName.hasError("minlength")&&t.updateForm.controls.UserName.touched),m.Nb(1),m.Bc("ngIf",t.updateForm.controls.UserName.hasError("maxlength")&&t.updateForm.controls.UserName.touched),m.Nb(4),m.Bc("ngIf",t.updateForm.controls.FullName.hasError("required")&&t.updateForm.controls.FullName.touched),m.Nb(3),m.Bc("pattern",t.unamePattern),m.Nb(1),m.Bc("ngIf",!t.Password.valid&&(t.Password.dirty||t.Password.touched)),m.Nb(4),m.Bc("ngIf",!t.cpassword.valid&&(t.cpassword.dirty||t.cpassword.touched)),m.Nb(5),m.Bc("ngIf",t.updateForm.controls.EmailId.hasError("required")&&t.updateForm.controls.EmailId.touched),m.Nb(1),m.Bc("ngIf",t.updateForm.controls.EmailId.hasError("EmailId")&&t.updateForm.controls.EmailId.touched),m.Nb(4),m.Bc("ngIf",!t.Contactno.valid&&(t.Contactno.dirty||t.Contactno.touched)),m.Nb(4),m.Bc("disabled",t.updateForm.invalid))},directives:[p.a,p.i,g.a,p.d,E.D,E.s,E.j,b.d,b.b,v.c,k.b,E.c,E.r,E.h,I.q,E.x,C.a,$.b],pipes:[D.c],styles:[""]}),e})()},{path:"User/AllUser",component:tt}]},{canActivate:[j.a],path:"Setting",component:lt,data:{title:"Setting Portal"}},{path:"Assign",canActivate:[j.a],children:[{path:"Role",component:Me}]},{canActivate:[j.a],path:"Permission",component:q,data:{title:"Permission"}}];let Ct=(()=>{class e{}return e.\u0275mod=m.Zb({type:e}),e.\u0275inj=m.Yb({factory:function(t){return new(t||e)},imports:[[f.k.forChild(yt)],f.k]}),e})();var Dt=a("oTcB"),Ut=a("w9WL"),Rt=a("u9T3");let Pt=(()=>{class e{}return e.\u0275mod=m.Zb({type:e}),e.\u0275inj=m.Yb({factory:function(t){return new(t||e)},providers:[h],imports:[[I.c,Ct,E.l,E.y,Dt.a,at.e,w.b,u.c,S.p,Ut.e,k.c,C.b,$.c,p.g,ie.b,g.b,Rt.a,N.b,D.b]]}),e})()},oTcB:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var c=a("8Y7J"),r=a("SVse"),o=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.\u0275mod=c.Zb({type:e}),e.\u0275inj=c.Yb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e}()}}]);