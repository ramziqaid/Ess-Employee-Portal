!function(){function e(e,a){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,a){if(!e)return;if("string"==typeof e)return t(e,a);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,a)}(e))||a&&e&&"number"==typeof e.length){r&&(e=r);var c=0,n=function(){};return{s:n,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function a(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Kfgm:function(t,a,n){"use strict";n.r(a),n.d(a,"AdminAreaModule",function(){return Tt});var o,i=n("7dP1"),l=n("SuSE"),s=function e(){c(this,e)},d=function e(){c(this,e)},u=n("qc5V"),m=n("z6cu"),f=n("UXun"),h=n("JIr8"),p=n("8Y7J"),g=((o=function(){function e(t){c(this,e),this.apiService=t}return r(e,[{key:"GetAllUsers",value:function(){return this.apiService.get("User").pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"GetUserId",value:function(e){return this.apiService.get("User/"+e).pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"GetAllAssignedRoles",value:function(){return this.apiService.get("AssignRoles").pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"GetAllRole",value:function(){return this.apiService.get("CreateRole").pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"GetPurchasesStageType",value:function(){return this.apiService.get("PurchasesStageType").pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"SaveUser",value:function(e){return this.apiService.post("User/register",e).pipe(Object(h.a)(this.handleError))}},{key:"AssignRole",value:function(e){return this.apiService.post("AssignRoles",e).pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"UpdateUser",value:function(e){return this.apiService.put("User/"+e.userId,e).pipe(Object(h.a)(this.handleError))}},{key:"UpdateUserStatus",value:function(e,t){return this.apiService.post("User/".concat(e,"/UpdateStauts/").concat(t),{}).pipe(Object(h.a)(this.handleError))}},{key:"ResetUserPassword",value:function(e){return this.apiService.put("User/ResetPassword/"+e,{}).pipe(Object(h.a)(this.handleError))}},{key:"UpdatePurchasesStageType",value:function(e){return this.apiService.put("PurchasesStageType",e).pipe(Object(h.a)(this.handleError))}},{key:"RemoveRole",value:function(e){return this.apiService.post("RemoveRole",e).pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"DeleteUser",value:function(e){return this.apiService.delete("User/"+e).pipe(Object(h.a)(this.handleError))}},{key:"GetOperationWithPermission",value:function(){return this.apiService.get("Operation").pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"SavePermission",value:function(e){return this.apiService.post("Operation",e).pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"DeletePermission",value:function(e){return this.apiService.post("Operation/DeletePermission",e).pipe(Object(f.a)(),Object(h.a)(this.handleError))}},{key:"handleError",value:function(e){return e.error instanceof ErrorEvent?(console.error("An error occurred:",e.error.message),Object(m.a)(e.error.message)):(console.error("Backend returned code ".concat(e.status,", body was: ").concat(e.error," ")),Object(m.a)(e))}}]),e}()).\u0275fac=function(e){return new(e||o)(p.lc(u.a))},o.\u0275prov=p.Xb({token:o,factory:o.\u0275fac}),o),v=n("LUZP"),b=n("iInd"),N=n("PDjf"),y=n("BSbQ"),E=n("VDRc"),w=n("Q2Ze"),S=n("ZTz/"),I=n("s7LF"),C=n("SVse"),D=n("OaSA"),U=n("5QHs"),R=n("UhP/"),P=n("pMoy"),F=n("TSSN"),A=["paginator1"];function B(e,t){if(1&e&&(p.hc(0,"mat-option",26),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Bc("value",a.roleId),p.Nb(1),p.hd(" ",a.roleName," ")}}function x(e,t){1&e&&(p.hc(0,"mat-header-cell",27),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"INDEX")," "))}function O(e,t){if(1&e&&(p.hc(0,"mat-cell"),p.fd(1),p.gc()),2&e){var a=t.index;p.Nb(1),p.gd(a+1)}}function M(e,t){1&e&&(p.hc(0,"mat-header-cell",28),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"OPERATION_NAME")," "))}function k(e,t){if(1&e&&(p.hc(0,"mat-cell",29),p.fd(1),p.gc()),2&e){var a=t.$implicit,r=p.tc();p.Nb(1),p.hd(" ","1"==r.authService.currentLang?a.operationNameEn:a.operationNameAr," ")}}function L(e,t){1&e&&(p.hc(0,"mat-header-cell"),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.gd(p.vc(2,1,"ACTIVE")))}function _(e,t){if(1&e){var a=p.ic();p.hc(0,"mat-cell",30),p.hc(1,"mat-checkbox",31),p.pc("change",function(){p.Uc(a);var e=t.$implicit;return p.tc().changeStatus(e.operationID,!e.check)}),p.gc(),p.gc()}if(2&e){var r=t.$implicit;p.ad("color",r.color),p.Nb(1),p.Bc("checked",r.check)}}function j(e,t){1&e&&p.cc(0,"mat-header-row")}function q(e,t){1&e&&p.cc(0,"mat-row")}var T,$=function(){return[10,25,100]},z=((T=function(){function e(t,a,r,n){c(this,e),this.adminService=t,this._Route=a,this.authService=r,this.alertify=n,this.permission={operationPermissionID:-1,operationID:null,roleId:null},this.displayedColumns1=["index","operationName","active"],this._adminService=t}return r(e,[{key:"ngOnInit",value:function(){this.loadRolesType()}},{key:"loadRolesType",value:function(){var e=this;this.adminService.GetAllRole().subscribe(function(t){e.RoleTypeList=t.filter(function(e){return"ADMIN"!=e.roleName.toUpperCase()})},function(t){e.alertify.error(t)})}},{key:"loadPermission",value:function(){var e=this;this.adminService.GetOperationWithPermission().subscribe(function(t){e.DataSource1=t.filter(function(t){return 1==t.isNeedPermission&&(t.roleId==e.permission.roleId||-1==t.roleId)})},function(t){e.alertify.error(t)})}},{key:"SelectRole",value:function(){this.loadPermission()}},{key:"changeStatus",value:function(e,t){var a=this;this.permission.operationID=e,t?this.adminService.SavePermission(this.permission).subscribe(function(e){a.loadPermission()},function(e){a.alertify.error(e)}):this.adminService.DeletePermission(this.permission).subscribe(function(e){a.loadPermission()},function(e){a.alertify.error(e)})}}]),e}()).\u0275fac=function(e){return new(e||T)(p.bc(g),p.bc(b.g),p.bc(i.a),p.bc(l.a))},T.\u0275cmp=p.Vb({type:T,selectors:[["app-permission-operation"]],viewQuery:function(e,t){var a;1&e&&(p.jd(A,!0),p.jd(v.a,!0)),2&e&&(p.Pc(a=p.qc())&&(t.paginator1=a.first),p.Pc(a=p.qc())&&(t.sort1=a.first))},decls:32,vars:13,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"pb-16"],[1,"full-width"],["name","roleId","required","",3,"ngModel","placeholder","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-xs","100",1,"pr-16"],[1,"ml-8","mr-8","mt-8","pb-16"],[1,"mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","index"],["class","w-75",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","operationName"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","operationName",4,"matCellDef"],["matColumnDef","active"],[4,"matHeaderCellDef"],["data-label","color",3,"color",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["paginator1",""],[3,"value"],[1,"w-75"],["mat-sort-header",""],["data-label","operationName"],["data-label","color"],[3,"checked","change"]],template:function(e,t){1&e&&(p.hc(0,"mat-card",0),p.hc(1,"mat-card-title",1),p.hc(2,"div",2),p.fd(3),p.uc(4,"translate"),p.gc(),p.cc(5,"mat-divider"),p.gc(),p.hc(6,"mat-card-content"),p.hc(7,"div",3),p.hc(8,"div",4),p.hc(9,"div",5),p.hc(10,"mat-form-field",6),p.hc(11,"mat-select",7),p.pc("ngModelChange",function(e){return t.permission.roleId=e})("selectionChange",function(){return t.SelectRole()}),p.uc(12,"translate"),p.dd(13,B,2,2,"mat-option",8),p.gc(),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(14,"div",3),p.hc(15,"div",9),p.hc(16,"div",10),p.hc(17,"div",11),p.hc(18,"mat-table",12),p.fc(19,13),p.dd(20,x,3,3,"mat-header-cell",14),p.dd(21,O,2,1,"mat-cell",15),p.ec(),p.fc(22,16),p.dd(23,M,3,3,"mat-header-cell",17),p.dd(24,k,2,1,"mat-cell",18),p.ec(),p.fc(25,19),p.dd(26,L,3,3,"mat-header-cell",20),p.dd(27,_,2,3,"mat-cell",21),p.ec(),p.dd(28,j,1,0,"mat-header-row",22),p.dd(29,q,1,0,"mat-row",23),p.gc(),p.cc(30,"mat-paginator",24,25),p.gc(),p.gc(),p.gc(),p.gc(),p.gc(),p.gc()),2&e&&(p.Nb(3),p.hd(" ",p.vc(4,8,"USER_ROLES")," "),p.Nb(8),p.Cc("placeholder",p.vc(12,10,"PLEASE_SELECT_ROLE")),p.Bc("ngModel",t.permission.roleId),p.Nb(2),p.Bc("ngForOf",t.RoleTypeList),p.Nb(5),p.Bc("dataSource",t.DataSource1),p.Nb(10),p.Bc("matHeaderRowDef",t.displayedColumns1),p.Nb(1),p.Bc("matRowDefColumns",t.displayedColumns1),p.Nb(1),p.Bc("pageSizeOptions",p.Gc(12,$)))},directives:[N.a,N.i,y.a,N.d,E.d,E.b,w.c,S.a,I.z,I.r,I.u,C.p,D.n,v.a,D.c,D.i,D.b,D.k,D.m,U.a,R.o,D.h,D.a,v.b,P.a,D.j,D.l],pipes:[F.c],styles:[".mat-column-employeeNameEn[_ngcontent-%COMP%], .mat-column-fullName[_ngcontent-%COMP%]{flex:none;width:30%!important}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}"]}),T),G=n("Pyxo"),V=n("ey9i"),H=n("e6WT"),Q=n("Dxy4");function Z(e,t){if(1&e&&(p.hc(0,"mat-option",21),p.fd(1),p.gc()),2&e){var a=t.$implicit,r=p.tc();p.Bc("value",a.employeeID),p.Nb(1),p.hd(" ","1"==r.authService.currentLang?a.englishName:a.arabicName," ")}}function Y(e,t){1&e&&(p.hc(0,"small",22),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED")," "))}function W(e,t){1&e&&(p.hc(0,"small",22),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED")," "))}function X(e,t){1&e&&(p.hc(0,"div"),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"PASSWORD_ERROR")," "))}function J(e,t){1&e&&(p.hc(0,"small",22),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED")," "))}function K(e,t){if(1&e&&(p.hc(0,"div",22),p.dd(1,X,3,3,"div",23),p.dd(2,J,3,3,"small",10),p.gc()),2&e){var a=p.tc();p.Nb(1),p.Bc("ngIf",null==a.Password.errors?null:a.Password.errors.pattern),p.Nb(1),p.Bc("ngIf",(null==a.insertForm.controls.Password.errors?null:a.insertForm.controls.Password.errors.required)&&a.insertForm.controls.Password.touched)}}function ee(e,t){1&e&&(p.hc(0,"span"),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED")," "))}function te(e,t){1&e&&(p.hc(0,"span"),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.gd(p.vc(2,1,"PASSWORD_MUST_MATCH")))}function ae(e,t){if(1&e&&(p.hc(0,"div",22),p.dd(1,ee,3,3,"span",23),p.dd(2,te,3,3,"span",23),p.gc()),2&e){var a=p.tc();p.Nb(1),p.Bc("ngIf",a.cpassword.hasError("required")),p.Nb(1),p.Bc("ngIf",a.cpassword.hasError("mustMatch"))}}function re(e,t){if(1&e&&(p.hc(0,"small",22),p.fd(1),p.gc()),2&e){var a=p.tc();p.Nb(1),p.hd(" Username require at least ",a.insertForm.controls.UserName.errors.minlength.requiredLength," characters ")}}function ce(e,t){if(1&e&&(p.hc(0,"small",22),p.fd(1),p.gc()),2&e){var a=p.tc();p.Nb(1),p.hd(" Username can not contain more than ",a.insertForm.controls.UserName.errors.maxlength.requiredLength," characters ")}}function ne(e,t){1&e&&(p.hc(0,"small",22),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED")," "))}function oe(e,t){1&e&&(p.hc(0,"small",22),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"INVAILD_EMAIL_ADDRESS")," "))}function ie(e,t){1&e&&(p.hc(0,"small"),p.fd(1,"Only 20 characters allowed for Contact."),p.gc())}function le(e,t){1&e&&(p.hc(0,"small"),p.fd(1,"Atleast 8 characters needed for Contact."),p.gc())}function se(e,t){if(1&e&&(p.hc(0,"div",22),p.hc(1,"small",24),p.fd(2),p.uc(3,"translate"),p.gc(),p.dd(4,ie,2,0,"small",23),p.dd(5,le,2,0,"small",23),p.gc()),2&e){var a=p.tc();p.Nb(1),p.Bc("hidden",!a.Contactno.errors.required),p.Nb(1),p.hd(" ",p.vc(3,4,"FILED_IS_REQUIRED")," "),p.Nb(2),p.Bc("ngIf",a.Contactno.hasError("maxlength")),p.Nb(1),p.Bc("ngIf",a.Contactno.hasError("minlength"))}}var de,ue=((de=function(){function e(t,a,r,n,o,i){c(this,e),this.fb=t,this.userService=a,this.authService=r,this.alertify=n,this.EssPortalService=o,this._routeParams=i,this.UserModel=new s,this.unamePattern="^((?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])|(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[^a-zA-Z0-9])|(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[^a-zA-Z0-9])|(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^a-zA-Z0-9])).{8,}$",this.getEmployees()}return r(e,[{key:"ngOnInit",value:function(){this.UserName=new I.f("",[I.B.required,I.B.maxLength(50),I.B.minLength(5)]),this.FullName=new I.f("",[I.B.required]),this.Contactno=new I.f("",[I.B.required,I.B.maxLength(20),I.B.minLength(8)]),this.Password=new I.f("",[I.B.required,I.B.maxLength(20),I.B.minLength(8)]),this.cpassword=new I.f("",[I.B.required,this.MustMatch(this.Password)]),this.EmailId=new I.f("",[I.B.required,I.B.email]),this.Status=new I.f(""),this.EmployeeID=new I.f("",[I.B.required]),this.insertForm=this.fb.group({UserName:this.UserName,FullName:this.FullName,Contactno:this.Contactno,Password:this.Password,cpassword:this.cpassword,EmailId:this.EmailId,Status:this.Status,EmployeeID:this.EmployeeID}),this.insertForm.get("Status").setValue("True"),this.Id=this._routeParams.snapshot.params.UserId}},{key:"MustMatch",value:function(e){return function(t){return e||t?t.hasError&&!e.hasError?null:e.value!==t.value?{mustMatch:!0}:null:null}}},{key:"getEmployees",value:function(){var e=this;this.EssPortalService.getEmployees().subscribe(function(t){e.empoyeeList=t},function(e){return console.log(e)})}},{key:"onSubmit",value:function(){var e=this;this.insertForm.valid&&(this.UserModel=Object.assign({},this.insertForm.value),this.userService.SaveUser(this.UserModel).subscribe(function(t){e.alertify.success("Your Registration Was successful"),e.insertForm.reset()},function(t){e.alertify.error(t)}))}}]),e}()).\u0275fac=function(e){return new(e||de)(p.bc(I.e),p.bc(g),p.bc(i.a),p.bc(V.a),p.bc(V.c),p.bc(b.a))},de.\u0275cmp=p.Vb({type:de,selectors:[["app-dashboard"]],decls:49,vars:22,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup","ngSubmit"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[1,"full-width"],["name","Employee","id","EmployeeID","formControlName","EmployeeID",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["class","form-error-msg",4,"ngIf"],["matInput","","name","FullName","formControlName","FullName","placeholder","Full Name","value",""],["type","password","name","Password","matInput","","formControlName","Password","placeholder","Password","value","",3,"pattern"],["type","password","name","cpassword","matInput","","appEqualValidator","password","formControlName","cpassword","placeholder","Confirm Password","value",""],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","name","UserName","formControlName","UserName","placeholder","Username","value",""],["matInput","","type","email","name","EmailId","formControlName","EmailId","placeholder","Email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","value",""],["matInput","","type","tel","name","Contactno","formControlName","Contactno","placeholder","phone","value",""],[1,"pb-16","pt-8"],["name","Status","formControlName","Status",1,"pb-16"],["mat-raised-button","","color","primary","id","register","type","submit",3,"disabled"],[3,"value"],[1,"form-error-msg"],[4,"ngIf"],[3,"hidden"]],template:function(e,t){1&e&&(p.hc(0,"mat-card",0),p.hc(1,"mat-card-title",1),p.hc(2,"div",2),p.fd(3),p.uc(4,"translate"),p.gc(),p.cc(5,"mat-divider"),p.gc(),p.hc(6,"mat-card-content"),p.hc(7,"form",3),p.pc("ngSubmit",function(){return t.onSubmit()}),p.hc(8,"div",4),p.hc(9,"div",5),p.hc(10,"div",6),p.hc(11,"mat-form-field",7),p.hc(12,"mat-select",8),p.uc(13,"translate"),p.dd(14,Z,2,2,"mat-option",9),p.gc(),p.dd(15,Y,3,3,"small",10),p.gc(),p.gc(),p.hc(16,"div",6),p.hc(17,"mat-form-field",7),p.cc(18,"input",11),p.gc(),p.dd(19,W,3,3,"small",10),p.gc(),p.hc(20,"div",6),p.hc(21,"mat-form-field",7),p.cc(22,"input",12),p.gc(),p.dd(23,K,3,2,"div",10),p.gc(),p.hc(24,"div",6),p.hc(25,"mat-form-field",7),p.cc(26,"input",13),p.gc(),p.dd(27,ae,3,2,"div",10),p.gc(),p.gc(),p.hc(28,"div",14),p.hc(29,"div",6),p.hc(30,"mat-form-field",7),p.cc(31,"input",15),p.gc(),p.dd(32,re,2,1,"small",10),p.dd(33,ce,2,1,"small",10),p.gc(),p.hc(34,"div",6),p.hc(35,"mat-form-field",7),p.cc(36,"input",16),p.gc(),p.dd(37,ne,3,3,"small",10),p.dd(38,oe,3,3,"small",10),p.gc(),p.hc(39,"div",6),p.hc(40,"mat-form-field",7),p.cc(41,"input",17),p.gc(),p.dd(42,se,6,6,"div",10),p.gc(),p.hc(43,"div",18),p.hc(44,"mat-checkbox",19),p.fd(45,"Active"),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(46,"button",20),p.fd(47),p.uc(48,"translate"),p.gc(),p.gc(),p.gc(),p.gc()),2&e&&(p.Nb(3),p.hd(" ",p.vc(4,16,"CREATE_USER")," "),p.Nb(4),p.Bc("formGroup",t.insertForm),p.Nb(5),p.Cc("placeholder",p.vc(13,18,"PLEASE_SELECT_EMPLOYEE")),p.Nb(2),p.Bc("ngForOf",t.empoyeeList),p.Nb(1),p.Bc("ngIf",t.insertForm.controls.EmployeeID.hasError("required")&&t.insertForm.controls.EmployeeID.touched),p.Nb(4),p.Bc("ngIf",t.insertForm.controls.FullName.hasError("required")&&t.insertForm.controls.FullName.touched),p.Nb(3),p.Bc("pattern",t.unamePattern),p.Nb(1),p.Bc("ngIf",!t.Password.valid&&(t.Password.dirty||t.Password.touched)),p.Nb(4),p.Bc("ngIf",!t.cpassword.valid&&(t.cpassword.dirty||t.cpassword.touched)),p.Nb(5),p.Bc("ngIf",t.insertForm.controls.UserName.hasError("minlength")&&t.insertForm.controls.UserName.touched),p.Nb(1),p.Bc("ngIf",t.insertForm.controls.UserName.hasError("maxlength")&&t.insertForm.controls.UserName.touched),p.Nb(4),p.Bc("ngIf",t.insertForm.controls.EmailId.hasError("required")&&t.insertForm.controls.EmailId.touched),p.Nb(1),p.Bc("ngIf",t.EmailId.errors&&t.EmailId.errors.pattern),p.Nb(4),p.Bc("ngIf",!t.Contactno.valid&&(t.Contactno.dirty||t.Contactno.touched)),p.Nb(4),p.Bc("disabled",t.insertForm.invalid),p.Nb(1),p.hd(" ",p.vc(48,20,"SAVE")," "))},directives:[N.a,N.i,y.a,N.d,I.D,I.s,I.j,E.d,E.b,w.c,S.a,I.r,I.h,C.p,C.q,H.b,I.c,I.x,P.a,Q.b,R.o],pipes:[F.c],encapsulation:2}),de),me=n("cp0P"),fe=n("Tj54"),he=["paginator1"],pe=["paginator2"];function ge(e,t){if(1&e&&(p.hc(0,"mat-option",37),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Bc("value",a.roleId),p.Nb(1),p.hd(" ",a.roleName," ")}}function ve(e,t){1&e&&(p.hc(0,"small",38),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED")," "))}function be(e,t){1&e&&(p.hc(0,"mat-header-cell",39),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"INDEX")," "))}function Ne(e,t){if(1&e&&(p.hc(0,"mat-cell"),p.fd(1),p.gc()),2&e){var a=t.index;p.Nb(1),p.gd(a+1)}}function ye(e,t){1&e&&(p.hc(0,"mat-header-cell",40),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"EMPLOYEENUMBER")," "))}function Ee(e,t){if(1&e&&(p.hc(0,"mat-cell",41),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Nb(1),p.hd(" ",a.employeeNumber," ")}}function we(e,t){1&e&&(p.hc(0,"mat-header-cell",40),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"EMPLOYEE_NAME")," "))}function Se(e,t){if(1&e&&(p.hc(0,"mat-cell",42),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Nb(1),p.hd(" ",a.employeeNameEn," ")}}function Ie(e,t){1&e&&(p.hc(0,"mat-header-cell"),p.fd(1,"Action"),p.gc())}function Ce(e,t){if(1&e){var a=p.ic();p.hc(0,"mat-cell",43),p.hc(1,"button",44),p.pc("click",function(){p.Uc(a);var e=t.$implicit;return p.tc().onAdd(e.userId)}),p.hc(2,"mat-icon"),p.fd(3,"add_circle"),p.gc(),p.gc(),p.gc()}2&e&&p.ad("color",t.$implicit.color)}function De(e,t){1&e&&p.cc(0,"mat-header-row")}function Ue(e,t){1&e&&p.cc(0,"mat-row")}function Re(e,t){1&e&&(p.hc(0,"mat-header-cell"),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"INDEX")," "))}function Pe(e,t){if(1&e&&(p.hc(0,"mat-cell"),p.fd(1),p.gc()),2&e){var a=t.index;p.Nb(1),p.gd(a+1)}}function Fe(e,t){1&e&&(p.hc(0,"mat-header-cell",40),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FULLNAME")," "))}function Ae(e,t){if(1&e&&(p.hc(0,"mat-cell",45),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Nb(1),p.hd(" ",a.fullName," ")}}function Be(e,t){1&e&&(p.hc(0,"mat-header-cell",40),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"USERNAME")," "))}function xe(e,t){if(1&e&&(p.hc(0,"mat-cell",46),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Nb(1),p.hd(" ",a.userName," ")}}function Oe(e,t){1&e&&(p.hc(0,"mat-header-cell",40),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"ROLENAME")," "))}function Me(e,t){if(1&e&&(p.hc(0,"mat-cell",43),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.ad("color",a.color),p.Nb(1),p.hd(" ",a.roleName," ")}}function ke(e,t){1&e&&(p.hc(0,"mat-header-cell"),p.fd(1,"Action"),p.gc())}function Le(e,t){if(1&e){var a=p.ic();p.hc(0,"mat-cell",43),p.hc(1,"button",47),p.pc("click",function(){p.Uc(a);var e=t.$implicit;return p.tc().onRemove(e.roleId,e.userId)}),p.hc(2,"mat-icon"),p.fd(3,"delete"),p.gc(),p.gc(),p.gc()}2&e&&p.ad("color",t.$implicit.color)}function _e(e,t){1&e&&p.cc(0,"mat-header-row")}function je(e,t){1&e&&p.cc(0,"mat-row")}var qe,Te=function(){return[10,25,100]},$e=((qe=function(){function t(e,a,r,n){c(this,t),this.adminService=e,this._Route=a,this.authService=r,this.alertify=n,this.AssignRemoveModel=new d,this.displayedColumns1=["index","employeeNumber","employeeNameEn","action"],this.displayedColumns2=["index","fullName","userName","roleName","action"],this._adminService=e}return r(t,[{key:"ngOnInit",value:function(){this.loadRolesType(),this.loadData()}},{key:"ngAfterViewInit",value:function(){}},{key:"loadRolesType",value:function(){var e=this;this._adminService.GetAllRole().subscribe(function(t){e.RoleTypeList=t.filter(function(e){return"ADMIN"!=e.roleName.toUpperCase()})},function(t){return e.errorMessage=t})}},{key:"loadData",value:function(){var e=this;Object(me.a)([this.adminService.GetAllUsers(),this.adminService.GetAllAssignedRoles()]).subscribe(function(t){e.UserList=t[0],e.rolesDataSource=t[1],e.SelectRole()},function(t){e.alertify.error(t)})}},{key:"loadUser",value:function(){var e=this;this._adminService.GetAllUsers().subscribe(function(t){e.UserList=t},function(t){return e.errorMessage=t})}},{key:"loadAllRoles",value:function(){var e=this;this.adminService.GetAllAssignedRoles().subscribe(function(t){e.rolesDataSource=t},function(t){e.alertify.error(t)})}},{key:"SelectRole",value:function(){var t=this;if(null!=this.AssignRemoveModel.roleId){var a=this.rolesDataSource.filter(function(e){return e.roleId===t.AssignRemoveModel.roleId});this.DataSource2=new D.o(a),this.DataSource2.paginator=this.paginator2,this.DataSource2.sort=this.sort2;var r,c=[],n=e(this.UserList);try{var o=function(){var e=r.value;0==a.filter(function(t){return t.userId===e.userId}).length&&c.push(e)};for(n.s();!(r=n.n()).done;)o()}catch(i){n.e(i)}finally{n.f()}this.DataSource1=new D.o(c),this.DataSource1.paginator=this.paginator1,this.DataSource1.sort=this.sort1}}},{key:"onAdd",value:function(e){var t=this;this.AssignRemoveModel.userId=e,this._adminService.AssignRole(this.AssignRemoveModel).subscribe(function(e){t.alertify.success("Role Add Successfully"),t.loadData()},function(e){t.alertify.error(e)})}},{key:"onRemove",value:function(e,t){var a=this;this.alertify.confirm("Are you sure you want to delete this Role?",function(){a.AssignRemoveModel.roleId=e,a.AssignRemoveModel.userId=t,a.adminService.RemoveRole(a.AssignRemoveModel).subscribe(function(e){a.output=e,"409"==a.output.statusCode?a.alertify.error("Role does not Exists"):"200"==a.output.statusCode?(a.alertify.success("Role Removed Successfully"),a.loadData()):alert("Something Went Wrong")})})}}]),t}()).\u0275fac=function(e){return new(e||qe)(p.bc(g),p.bc(b.g),p.bc(i.a),p.bc(l.a))},qe.\u0275cmp=p.Vb({type:qe,selectors:[["app-Role"]],viewQuery:function(e,t){var a;1&e&&(p.jd(he,!0),p.jd(v.a,!0),p.jd(pe,!0),p.jd(v.a,!0)),2&e&&(p.Pc(a=p.qc())&&(t.paginator1=a.first),p.Pc(a=p.qc())&&(t.sort1=a.first),p.Pc(a=p.qc())&&(t.paginator2=a.first),p.Pc(a=p.qc())&&(t.sort2=a.first))},decls:64,vars:19,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"pb-16"],[1,"full-width"],["name","roleId","required","",3,"ngModel","placeholder","ngModelChange","selectionChange"],["refRoleId","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-error-msg",4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"ml-8","mr-8","mt-8","pb-16"],[1,"mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","index"],["class","w-75",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","employeeNumber"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","employeeNumber",4,"matCellDef"],["matColumnDef","employeeNameEn"],["data-label","employeeNameEn",4,"matCellDef"],["matColumnDef","action"],[4,"matHeaderCellDef"],["data-label","color",3,"color",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["paginator1",""],[1,"example-label"],["matColumnDef","fullName"],["data-label","fullName",4,"matCellDef"],["matColumnDef","userName"],["data-label","userName",4,"matCellDef"],["matColumnDef","roleName"],["paginator2",""],[3,"value"],[1,"form-error-msg"],[1,"w-75"],["mat-sort-header",""],["data-label","employeeNumber"],["data-label","employeeNameEn"],["data-label","color"],["mat-mini-fab","","color","primary","aria-label","reset","title","Add",1,"mr-16",3,"click"],["data-label","fullName"],["data-label","userName"],["mat-icon-button","","mat-sm-button","","color","accent","aria-label","reset","title","delete",1,"mr-16",3,"click"]],template:function(e,t){if(1&e&&(p.hc(0,"mat-card",0),p.hc(1,"mat-card-title",1),p.hc(2,"div",2),p.fd(3),p.uc(4,"translate"),p.gc(),p.cc(5,"mat-divider"),p.gc(),p.hc(6,"mat-card-content"),p.hc(7,"div",3),p.hc(8,"div",4),p.hc(9,"div",5),p.hc(10,"mat-form-field",6),p.hc(11,"mat-select",7,8),p.pc("ngModelChange",function(e){return t.AssignRemoveModel.roleId=e})("selectionChange",function(){return t.SelectRole()}),p.uc(13,"translate"),p.dd(14,ge,2,2,"mat-option",9),p.gc(),p.dd(15,ve,3,3,"small",10),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(16,"div",3),p.hc(17,"div",11),p.hc(18,"mat-label"),p.fd(19,"Filter"),p.gc(),p.hc(20,"div",12),p.hc(21,"div",13),p.hc(22,"mat-table",14),p.fc(23,15),p.dd(24,be,3,3,"mat-header-cell",16),p.dd(25,Ne,2,1,"mat-cell",17),p.ec(),p.fc(26,18),p.dd(27,ye,3,3,"mat-header-cell",19),p.dd(28,Ee,2,1,"mat-cell",20),p.ec(),p.fc(29,21),p.dd(30,we,3,3,"mat-header-cell",19),p.dd(31,Se,2,1,"mat-cell",22),p.ec(),p.fc(32,23),p.dd(33,Ie,2,0,"mat-header-cell",24),p.dd(34,Ce,4,2,"mat-cell",25),p.ec(),p.dd(35,De,1,0,"mat-header-row",26),p.dd(36,Ue,1,0,"mat-row",27),p.gc(),p.cc(37,"mat-paginator",28,29),p.gc(),p.gc(),p.gc(),p.hc(39,"div",11),p.hc(40,"div",30),p.fd(41,"Basic"),p.gc(),p.hc(42,"div",12),p.hc(43,"div",13),p.hc(44,"mat-table",14),p.fc(45,15),p.dd(46,Re,3,3,"mat-header-cell",24),p.dd(47,Pe,2,1,"mat-cell",17),p.ec(),p.fc(48,31),p.dd(49,Fe,3,3,"mat-header-cell",19),p.dd(50,Ae,2,1,"mat-cell",32),p.ec(),p.fc(51,33),p.dd(52,Be,3,3,"mat-header-cell",19),p.dd(53,xe,2,1,"mat-cell",34),p.ec(),p.fc(54,35),p.dd(55,Oe,3,3,"mat-header-cell",19),p.dd(56,Me,2,3,"mat-cell",25),p.ec(),p.fc(57,23),p.dd(58,ke,2,0,"mat-header-cell",24),p.dd(59,Le,4,2,"mat-cell",25),p.ec(),p.dd(60,_e,1,0,"mat-header-row",26),p.dd(61,je,1,0,"mat-row",27),p.gc(),p.cc(62,"mat-paginator",28,36),p.gc(),p.gc(),p.gc(),p.gc(),p.gc(),p.gc()),2&e){var a=p.Qc(12);p.Nb(3),p.hd(" ",p.vc(4,13,"USER_ROLES")," "),p.Nb(8),p.Cc("placeholder",p.vc(13,15,"PLEASE_SELECT_ROLE")),p.Bc("ngModel",t.AssignRemoveModel.roleId),p.Nb(3),p.Bc("ngForOf",t.RoleTypeList),p.Nb(1),p.Bc("ngIf",!a.valid&&(a.dirty||a.touched)),p.Nb(7),p.Bc("dataSource",t.DataSource1),p.Nb(13),p.Bc("matHeaderRowDef",t.displayedColumns1),p.Nb(1),p.Bc("matRowDefColumns",t.displayedColumns1),p.Nb(1),p.Bc("pageSizeOptions",p.Gc(17,Te)),p.Nb(7),p.Bc("dataSource",t.DataSource2),p.Nb(16),p.Bc("matHeaderRowDef",t.displayedColumns2),p.Nb(1),p.Bc("matRowDefColumns",t.displayedColumns2),p.Nb(1),p.Bc("pageSizeOptions",p.Gc(18,Te))}},directives:[N.a,N.i,y.a,N.d,E.d,E.b,w.c,S.a,I.z,I.r,I.u,C.p,C.q,w.g,D.n,v.a,D.c,D.i,D.b,D.k,D.m,U.a,R.o,D.h,D.a,v.b,Q.b,fe.a,D.j,D.l],pipes:[F.c],styles:[".mat-column-employeeNameEn[_ngcontent-%COMP%], .mat-column-fullName[_ngcontent-%COMP%]{flex:none;width:30%!important}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}"]}),qe);function ze(e,t){1&e&&(p.hc(0,"mat-header-cell"),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"INDEX")," "))}function Ge(e,t){if(1&e&&(p.hc(0,"mat-cell"),p.fd(1),p.gc()),2&e){var a=t.index;p.Nb(1),p.gd(a+1)}}function Ve(e,t){1&e&&(p.hc(0,"mat-header-cell",22),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"EMPLOYEENUMBER")," "))}function He(e,t){if(1&e&&(p.hc(0,"mat-cell",23),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Nb(1),p.hd(" ",a.employeeNumber," ")}}function Qe(e,t){1&e&&(p.hc(0,"mat-header-cell",22),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"EMPLOYEE_NAME")," "))}function Ze(e,t){if(1&e&&(p.hc(0,"mat-cell",24),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Nb(1),p.hd(" ",a.employeeNameEn," ")}}function Ye(e,t){1&e&&(p.hc(0,"mat-header-cell",22),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"USERNAME")," "))}function We(e,t){if(1&e&&(p.hc(0,"mat-cell",25),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Nb(1),p.hd(" ",a.userName," ")}}function Xe(e,t){1&e&&(p.hc(0,"mat-header-cell",22),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"EMAIL")," "))}function Je(e,t){if(1&e&&(p.hc(0,"mat-cell",26),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.ad("color",a.color),p.Nb(1),p.hd(" ",a.emailId," ")}}function Ke(e,t){1&e&&(p.hc(0,"mat-header-cell"),p.fd(1,"Active"),p.gc())}function et(e,t){if(1&e){var a=p.ic();p.hc(0,"mat-cell",26),p.hc(1,"mat-checkbox",27),p.pc("change",function(){p.Uc(a);var e=t.$implicit;return p.tc().changeStatus(e.userId,!e.status)}),p.gc(),p.gc()}if(2&e){var r=t.$implicit;p.ad("color",r.color),p.Nb(1),p.Bc("checked",r.status)}}function tt(e,t){1&e&&(p.hc(0,"mat-header-cell"),p.fd(1,"Action"),p.gc())}var at=function(e){return["/AdminArea/User/Edit",e]},rt=function(){return{debug:!0}};function ct(e,t){if(1&e){var a=p.ic();p.hc(0,"mat-cell",26),p.hc(1,"button",28),p.hc(2,"mat-icon"),p.fd(3,"edit"),p.gc(),p.gc(),p.hc(4,"button",29),p.pc("click",function(){p.Uc(a);var e=t.$implicit;return p.tc().resetPassword(e.userId)}),p.hc(5,"mat-icon"),p.fd(6,"history"),p.gc(),p.gc(),p.gc()}if(2&e){var r=t.$implicit;p.ad("color",r.color),p.Nb(1),p.Bc("routerLink",p.Hc(4,at,r.userId))("queryParams",p.Gc(6,rt))}}function nt(e,t){1&e&&p.cc(0,"mat-header-row")}function ot(e,t){1&e&&p.cc(0,"mat-row")}var it,lt=function(){return[10,25,100]},st=((it=function(){function e(t,a){c(this,e),this.alertify=t,this.adminService=a,this.displayedColumns=["index","employeeNumber","employeeNameEn","userName","emailId","active","action"]}return r(e,[{key:"ngOnInit",value:function(){this.loadUsers()}},{key:"ngAfterViewInit",value:function(){}},{key:"loadUsers",value:function(){var e=this;this.adminService.GetAllUsers().subscribe(function(t){e.dataSource=new D.o(t),e.dataSource.paginator=e.paginator,e.dataSource.sort=e.sort},function(t){e.alertify.error(t)})}},{key:"changeStatus",value:function(e,t){var a=this;this.adminService.UpdateUserStatus(e,t).subscribe(function(e){},function(e){a.alertify.error(e)})}},{key:"resetPassword",value:function(e){var t=this;this.adminService.ResetUserPassword(e).subscribe(function(e){t.alertify.success("Password changed")},function(e){t.alertify.error(e)})}},{key:"applyFilter",value:function(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}},{key:"ExportTOExcel",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||it)(p.bc(V.a),p.bc(g))},it.\u0275cmp=p.Vb({type:it,selectors:[["app-ShowUser"]],viewQuery:function(e,t){var a;1&e&&(p.jd(U.a,!0),p.jd(v.a,!0)),2&e&&(p.Pc(a=p.qc())&&(t.paginator=a.first),p.Pc(a=p.qc())&&(t.sort=a.first))},decls:32,vars:5,consts:[[1,"ml-8","mr-8","mt-8","pb-16"],[1,"mat-elevation-z8"],["matInput","","placeholder","Search",1,"full-width",3,"keyup"],["input",""],["matSort","",3,"dataSource"],["matColumnDef","index"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","employeeNumber"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","employeeNumber",4,"matCellDef"],["matColumnDef","employeeNameEn"],["data-label","employeeNameEn",4,"matCellDef"],["matColumnDef","userName"],["data-label","userName",4,"matCellDef"],["matColumnDef","emailId"],["data-label","color",3,"color",4,"matCellDef"],["matColumnDef","active"],["matColumnDef","action"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header",""],["data-label","employeeNumber"],["data-label","employeeNameEn"],["data-label","userName"],["data-label","color"],[3,"checked","change"],["mat-icon-button","","mat-sm-button","","color","primary","aria-label","reset","title","Edit",1,"mr-16",3,"routerLink","queryParams"],["mat-icon-button","","mat-sm-button","","color","accent","aria-label","reset","title","Reset Password",1,"mr-16",3,"click"]],template:function(e,t){1&e&&(p.hc(0,"div",0),p.hc(1,"div",1),p.hc(2,"mat-form-field"),p.hc(3,"mat-label"),p.fd(4,"Filter"),p.gc(),p.hc(5,"input",2,3),p.pc("keyup",function(e){return t.applyFilter(e)}),p.gc(),p.gc(),p.hc(7,"mat-table",4),p.fc(8,5),p.dd(9,ze,3,3,"mat-header-cell",6),p.dd(10,Ge,2,1,"mat-cell",7),p.ec(),p.fc(11,8),p.dd(12,Ve,3,3,"mat-header-cell",9),p.dd(13,He,2,1,"mat-cell",10),p.ec(),p.fc(14,11),p.dd(15,Qe,3,3,"mat-header-cell",9),p.dd(16,Ze,2,1,"mat-cell",12),p.ec(),p.fc(17,13),p.dd(18,Ye,3,3,"mat-header-cell",9),p.dd(19,We,2,1,"mat-cell",14),p.ec(),p.fc(20,15),p.dd(21,Xe,3,3,"mat-header-cell",9),p.dd(22,Je,2,3,"mat-cell",16),p.ec(),p.fc(23,17),p.dd(24,Ke,2,0,"mat-header-cell",6),p.dd(25,et,2,3,"mat-cell",16),p.ec(),p.fc(26,18),p.dd(27,tt,2,0,"mat-header-cell",6),p.dd(28,ct,7,7,"mat-cell",16),p.ec(),p.dd(29,nt,1,0,"mat-header-row",19),p.dd(30,ot,1,0,"mat-row",20),p.gc(),p.cc(31,"mat-paginator",21),p.gc(),p.gc()),2&e&&(p.Nb(7),p.Bc("dataSource",t.dataSource),p.Nb(22),p.Bc("matHeaderRowDef",t.displayedColumns),p.Nb(1),p.Bc("matRowDefColumns",t.displayedColumns),p.Nb(1),p.Bc("pageSizeOptions",p.Gc(4,lt)))},directives:[w.c,w.g,H.b,D.n,v.a,D.c,D.i,D.b,D.k,D.m,U.a,D.h,D.a,v.b,P.a,Q.b,b.h,fe.a,D.j,D.l],pipes:[F.c],styles:[".mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}.mat-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}"]}),it),dt=n("hzfI");function ut(e,t){if(1&e&&p.fd(0),2&e){var a=p.tc().$implicit;p.gd(a.nameEN)}}function mt(e,t){if(1&e&&(p.hc(0,"option",21),p.fd(1),p.gc()),2&e){var a=t.$implicit;p.Bc("value",a.userId),p.Nb(1),p.hd(" ",a.employeeNameEn," ")}}function ft(e,t){if(1&e){var a=p.ic();p.hc(0,"div",17),p.hc(1,"select",18),p.pc("ngModelChange",function(e){return p.Uc(a),p.tc().$implicit.approvedID=e}),p.hc(2,"option",19),p.fd(3,"Please select User"),p.gc(),p.dd(4,mt,2,2,"option",20),p.gc(),p.gc()}if(2&e){var r=p.tc().$implicit,c=p.tc();p.Nb(1),p.Bc("ngModel",r.approvedID),p.Nb(3),p.Bc("ngForOf",c.UserModel)}}function ht(e,t){1&e&&(p.hc(0,"button",22),p.fd(1,"Back"),p.gc())}function pt(e,t){1&e&&(p.hc(0,"button",23),p.fd(1,"Next"),p.gc())}function gt(e,t){if(1&e&&(p.hc(0,"div"),p.hc(1,"mat-step",12),p.dd(2,ut,1,1,"ng-template",13),p.hc(3,"label"),p.fd(4,"User"),p.gc(),p.dd(5,ft,5,2,"div",14),p.hc(6,"div"),p.dd(7,ht,2,0,"button",15),p.dd(8,pt,2,0,"button",16),p.gc(),p.gc(),p.gc()),2&e){var a=t.$implicit;p.Nb(1),p.Bc("optional",!1),p.Nb(4),p.Bc("ngIf",4!=a.stageOrder),p.Nb(2),p.Bc("ngIf",1!=a.stageOrder),p.Nb(1),p.Bc("ngIf",5!=a.stageOrder)}}var vt,bt=((vt=function(){function e(t,a){c(this,e),this.adminService=t,this.userService=a}return r(e,[{key:"ngOnInit",value:function(){this.loadUsers(),this.getPurchasesStageType()}},{key:"loadUsers",value:function(){var e=this;this.adminService.GetAllUsers().subscribe(function(t){e.UserModel=t},function(e){return console.log(e)})}},{key:"getPurchasesStageType",value:function(){var e=this;this.userService.GetPurchasesStageType().subscribe(function(t){e.PurchasesStageType=t.filter(function(e){return 7==e.purchasesTypeID})},function(e){return console.log(e)})}}]),e}()).\u0275fac=function(e){return new(e||vt)(p.bc(g),p.bc(g))},vt.\u0275cmp=p.Vb({type:vt,selectors:[["app-Setting"]],decls:17,vars:2,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group","col-sm-6"],["for","ccyear"],[3,"linear"],["stepper",""],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-info","btn-fill","pull-right"],[3,"optional"],["matStepLabel",""],["class","form-group col-sm-4",4,"ngIf"],["mat-button","","matStepperPrevious","",4,"ngIf"],["mat-button","","matStepperNext","",4,"ngIf"],[1,"form-group","col-sm-4"],["required","","name","Employee","id","EmployeeID",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-button","","matStepperPrevious",""],["mat-button","","matStepperNext",""]],template:function(e,t){1&e&&(p.hc(0,"div",0),p.hc(1,"div",1),p.hc(2,"div",2),p.hc(3,"div",3),p.hc(4,"div",4),p.hc(5,"strong"),p.fd(6,"Setting"),p.gc(),p.gc(),p.hc(7,"div",5),p.hc(8,"div",1),p.hc(9,"div",6),p.hc(10,"label",7),p.fd(11,"Stages Item Request"),p.gc(),p.gc(),p.hc(12,"mat-horizontal-stepper",8,9),p.dd(14,gt,9,4,"div",10),p.gc(),p.gc(),p.hc(15,"button",11),p.fd(16,"Update Profile"),p.gc(),p.gc(),p.gc(),p.gc(),p.gc(),p.gc()),2&e&&(p.Nb(12),p.Bc("linear",!1),p.Nb(2),p.Bc("ngForOf",t.PurchasesStageType))},directives:[dt.a,C.p,dt.b,dt.c,C.q,I.A,I.z,I.r,I.u,I.v,I.C,Q.b,dt.g,dt.f],styles:[""]}),vt);function Nt(e,t){if(1&e&&(p.hc(0,"small",19),p.fd(1),p.gc()),2&e){var a=p.tc();p.Nb(1),p.hd(" Username require at least ",a.updateForm.controls.UserName.errors.minlength.requiredLength," characters ")}}function yt(e,t){if(1&e&&(p.hc(0,"small",19),p.fd(1),p.gc()),2&e){var a=p.tc();p.Nb(1),p.hd(" Username can not contain more than ",a.updateForm.controls.UserName.errors.maxlength.requiredLength," characters ")}}function Et(e,t){1&e&&(p.hc(0,"small",19),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED")," "))}function wt(e,t){1&e&&(p.hc(0,"div"),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"PASSWORD_ERROR")," "))}function St(e,t){1&e&&(p.hc(0,"small",19),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED")," "))}function It(e,t){if(1&e&&(p.hc(0,"div",19),p.dd(1,wt,3,3,"div",20),p.dd(2,St,3,3,"small",9),p.gc()),2&e){var a=p.tc();p.Nb(1),p.Bc("ngIf",null==a.Password.errors?null:a.Password.errors.pattern),p.Nb(1),p.Bc("ngIf",(null==a.updateForm.controls.Password.errors?null:a.updateForm.controls.Password.errors.required)&&a.updateForm.controls.Password.touched)}}function Ct(e,t){1&e&&(p.hc(0,"span"),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED")," "))}function Dt(e,t){1&e&&(p.hc(0,"span"),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.gd(p.vc(2,1,"PASSWORD_MUST_MATCH")))}function Ut(e,t){if(1&e&&(p.hc(0,"div",19),p.dd(1,Ct,3,3,"span",20),p.dd(2,Dt,3,3,"span",20),p.gc()),2&e){var a=p.tc();p.Nb(1),p.Bc("ngIf",a.cpassword.hasError("required")),p.Nb(1),p.Bc("ngIf",a.cpassword.hasError("mustMatch"))}}function Rt(e,t){1&e&&(p.hc(0,"small",19),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"FILED_IS_REQUIRED"),""))}function Pt(e,t){1&e&&(p.hc(0,"small",19),p.fd(1),p.uc(2,"translate"),p.gc()),2&e&&(p.Nb(1),p.hd(" ",p.vc(2,1,"INVAILD_EMAIL_ADDRESS")," "))}function Ft(e,t){1&e&&(p.hc(0,"small"),p.fd(1,"Only 20 characters allowed for Contact."),p.gc())}function At(e,t){1&e&&(p.hc(0,"small"),p.fd(1,"Atleast 8 characters needed for Contact."),p.gc())}function Bt(e,t){if(1&e&&(p.hc(0,"div",19),p.hc(1,"small",21),p.fd(2),p.uc(3,"translate"),p.gc(),p.dd(4,Ft,2,0,"small",20),p.dd(5,At,2,0,"small",20),p.gc()),2&e){var a=p.tc();p.Nb(1),p.Bc("hidden",!a.Contactno.errors.required),p.Nb(1),p.hd(" ",p.vc(3,4,"FILED_IS_REQUIRED")," "),p.Nb(2),p.Bc("ngIf",a.Contactno.hasError("maxlength")),p.Nb(1),p.Bc("ngIf",a.Contactno.hasError("minlength"))}}var xt,Ot,Mt,kt=[{path:"",canActivate:[G.a],children:[{path:"User/Add",component:ue},{path:"User/Edit/:UserId",component:(xt=function(){function e(t,a,r,n,o){c(this,e),this.fb=t,this.userService=a,this.alertify=r,this.router=n,this._routeParams=o,this.UserModel=new s,this.unamePattern="^((?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])|(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[^a-zA-Z0-9])|(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[^a-zA-Z0-9])|(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^a-zA-Z0-9])).{8,}$"}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.UserId=this._routeParams.snapshot.params.UserId,this.UserName=new I.f("",[I.B.required,I.B.maxLength(50),I.B.minLength(5)]),this.FullName=new I.f("",[I.B.required]),this.Contactno=new I.f("",[I.B.required,I.B.maxLength(15),I.B.minLength(5)]),this.Password=new I.f("",[I.B.required,I.B.maxLength(10),I.B.minLength(5)]),this.cpassword=new I.f("",[I.B.required,this.MustMatch(this.Password)]),this.EmailId=new I.f("",[I.B.required,I.B.email]),this.Status=new I.f(""),this.employeeName=new I.f(""),this.updateForm=this.fb.group({UserName:this.UserName,FullName:this.FullName,Contactno:this.Contactno,Password:this.Password,cpassword:this.cpassword,EmailId:this.EmailId,Status:this.Status,employeeName:this.employeeName}),this.userService.GetUserId(this.UserId).subscribe(function(t){e.UserModel=t,e.updateForm.setValue({employeeName:e.UserModel.employeeNameEn,UserName:e.UserModel.userName,FullName:e.UserModel.fullName,Contactno:e.UserModel.contactno,Password:"",cpassword:"",EmailId:e.UserModel.emailId,Status:e.UserModel.status})},function(e){return console.log(e)})}},{key:"onSubmit",value:function(){var e=this;this.updateForm.valid&&this.cpassword.value==this.Password.value&&(this.UserModel=Object.assign({},this.updateForm.value),this.UserModel.userId=this.UserId,this.userService.UpdateUser(this.UserModel).subscribe(function(t){e.alertify.success("Your Registration Was Update"),e.router.navigate(["/AdminArea/User/AllUser"])},function(t){e.alertify.error(t)}))}},{key:"MustMatch",value:function(e){return function(t){return e||t?t.hasError&&!e.hasError?null:e.value!==t.value?{mustMatch:!0}:null:null}}}]),e}(),xt.\u0275fac=function(e){return new(e||xt)(p.bc(I.e),p.bc(g),p.bc(V.a),p.bc(b.g),p.bc(b.a))},xt.\u0275cmp=p.Vb({type:xt,selectors:[["app-EditUserRegistration"]],decls:41,vars:11,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup","ngSubmit"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-16"],[1,"pb-16"],[1,"full-width"],["matInput","","name","UserName","formControlName","UserName","placeholder","Username (Min Length: 4, Max Length: 9)","value",""],["class","form-error-msg",4,"ngIf"],["matInput","","name","FullName","formControlName","FullName","placeholder","Full Name","value",""],["type","password","name","Password","matInput","","formControlName","Password","placeholder","Password","value","",3,"pattern"],["type","password","name","cpassword","matInput","","appEqualValidator","password","formControlName","cpassword","placeholder","Confirm Password","value",""],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","type","email","name","EmailId","formControlName","EmailId","placeholder","Your Email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","value",""],["matInput","","type","tel","name","Contactno","formControlName","Contactno","placeholder","phone","value",""],[1,"pb-16","pt-8"],["name","Status","formControlName","Status",1,"pb-16"],["mat-raised-button","","color","primary",3,"disabled"],[1,"form-error-msg"],[4,"ngIf"],[3,"hidden"]],template:function(e,t){1&e&&(p.hc(0,"mat-card",0),p.hc(1,"mat-card-title",1),p.hc(2,"div",2),p.fd(3,"Form validation"),p.gc(),p.cc(4,"mat-divider"),p.gc(),p.hc(5,"mat-card-content"),p.hc(6,"form",3),p.pc("ngSubmit",function(){return t.onSubmit()}),p.hc(7,"div",4),p.hc(8,"div",5),p.hc(9,"div",6),p.hc(10,"mat-form-field",7),p.cc(11,"input",8),p.gc(),p.dd(12,Nt,2,1,"small",9),p.dd(13,yt,2,1,"small",9),p.gc(),p.hc(14,"div",6),p.hc(15,"mat-form-field",7),p.cc(16,"input",10),p.gc(),p.dd(17,Et,3,3,"small",9),p.gc(),p.hc(18,"div",6),p.hc(19,"mat-form-field",7),p.cc(20,"input",11),p.gc(),p.dd(21,It,3,2,"div",9),p.gc(),p.hc(22,"div",6),p.hc(23,"mat-form-field",7),p.cc(24,"input",12),p.gc(),p.dd(25,Ut,3,2,"div",9),p.gc(),p.gc(),p.hc(26,"div",13),p.hc(27,"div",6),p.hc(28,"mat-form-field",7),p.cc(29,"input",14),p.gc(),p.dd(30,Rt,3,3,"small",9),p.dd(31,Pt,3,3,"small",9),p.gc(),p.hc(32,"div",6),p.hc(33,"mat-form-field",7),p.cc(34,"input",15),p.gc(),p.dd(35,Bt,6,6,"div",9),p.gc(),p.hc(36,"div",16),p.hc(37,"mat-checkbox",17),p.fd(38,"Active"),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(39,"button",18),p.fd(40,"Submit"),p.gc(),p.gc(),p.gc(),p.gc()),2&e&&(p.Nb(6),p.Bc("formGroup",t.updateForm),p.Nb(6),p.Bc("ngIf",t.updateForm.controls.UserName.hasError("minlength")&&t.updateForm.controls.UserName.touched),p.Nb(1),p.Bc("ngIf",t.updateForm.controls.UserName.hasError("maxlength")&&t.updateForm.controls.UserName.touched),p.Nb(4),p.Bc("ngIf",t.updateForm.controls.FullName.hasError("required")&&t.updateForm.controls.FullName.touched),p.Nb(3),p.Bc("pattern",t.unamePattern),p.Nb(1),p.Bc("ngIf",!t.Password.valid&&(t.Password.dirty||t.Password.touched)),p.Nb(4),p.Bc("ngIf",!t.cpassword.valid&&(t.cpassword.dirty||t.cpassword.touched)),p.Nb(5),p.Bc("ngIf",t.updateForm.controls.EmailId.hasError("required")&&t.updateForm.controls.EmailId.touched),p.Nb(1),p.Bc("ngIf",t.updateForm.controls.EmailId.hasError("EmailId")&&t.updateForm.controls.EmailId.touched),p.Nb(4),p.Bc("ngIf",!t.Contactno.valid&&(t.Contactno.dirty||t.Contactno.touched)),p.Nb(4),p.Bc("disabled",t.updateForm.invalid))},directives:[N.a,N.i,y.a,N.d,I.D,I.s,I.j,E.d,E.b,w.c,H.b,I.c,I.r,I.h,C.q,I.x,P.a,Q.b],pipes:[F.c],styles:[""]}),xt)},{path:"User/AllUser",component:st}]},{canActivate:[G.a],path:"Setting",component:bt,data:{title:"Setting Portal"}},{path:"Assign",canActivate:[G.a],children:[{path:"Role",component:$e}]},{canActivate:[G.a],path:"Permission",component:z,data:{title:"Permission"}}],Lt=((Ot=function e(){c(this,e)}).\u0275mod=p.Zb({type:Ot}),Ot.\u0275inj=p.Yb({factory:function(e){return new(e||Ot)},imports:[[b.k.forChild(kt)],b.k]}),Ot),_t=n("oTcB"),jt=n("w9WL"),qt=n("u9T3"),Tt=((Mt=function e(){c(this,e)}).\u0275mod=p.Zb({type:Mt}),Mt.\u0275inj=p.Yb({factory:function(e){return new(e||Mt)},providers:[g],imports:[[C.c,Lt,I.l,I.y,_t.a,dt.e,U.b,v.c,D.p,jt.e,H.c,P.b,Q.c,N.g,fe.b,y.b,qt.a,S.b,F.b]]}),Mt)},oTcB:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var r=a("8Y7J"),c=a("SVse"),n=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.\u0275mod=r.Zb({type:e}),e.\u0275inj=r.Yb({factory:function(t){return new(t||e)},imports:[[c.c]]}),e}()}}])}();